{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@noodl/noodl-sdk/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/i18next/dist/esm/i18next.js","webpack:///./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js","webpack:///./src/i18next-module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_colors","Noodl","defineNode","def","_def","displayNodeName","displayName","usePortAsLabel","useInputAsLabel","color","category","getInspectInfo","docs","initialize","this","inputs","_outputs","outputs","_this","setOutputs","flagOutputDirty","clearWarnings","context","editorConnection","nodeScope","componentOwner","id","sendWarning","message","apply","type","undefined","group","default","set","_key","changed","signals","valueChangedToTrue","_fn","signal","scheduleAfterInputsHaveUpdated","methods","prototypeExtensions","onNodeDeleted","_onNodeDeleted","__proto__","node","setup","defineCollectionNode","assign","Items","Fetch","sendSignalOnOutput","a","fetch","defineModelNode","Id","Fetched","_object","_changeListener","off","_o","on","data","properties","defineReactNode","getReactComponent","inputProps","inputCss","outputProps","frame","_typeof","obj","iterator","constructor","_defineProperty","configurable","writable","_objectSpread","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_setPrototypeOf","_inherits","subClass","superClass","consoleLogger","log","args","output","warn","error","console","baseLogger","Logger","concreteLogger","options","init","prefix","logger","debug","bool","_len","Array","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","EventEmitter","observers","events","listener","split","event","push","cloned","observer","_cloned","defer","res","rej","promise","Promise","resolve","reject","makeString","copy","getLastOfPath","path","Empty","cleanKey","indexOf","replace","canNotTraverseDeeper","stack","shift","k","setPath","newValue","_getLastOfPath","getPath","_getLastOfPath3","getPathWithDefaults","defaultData","deepExtend","overwrite","prop","String","regexEscape","str","_entityMap","isIE10","window","navigator","userAgent","_EventEmitter","ResourceStore","defaultNS","keySeparator","index","splice","lng","silent","addNamespaces","emit","resources","toString","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","postProcessor","processors","addPostProcessor","handle","translator","processor","process","checkedLoadedFor","Translator","services","language","interpolation","resolved","nsSeparator","namespaces","match","interpolator","nestingRegexp","parts","join","lastKey","_this2","overloadTranslationOptionHandler","isArray","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","toLowerCase","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy$$1","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","isValidLookup","defaultValue","count","suffix","pluralResolver","getSuffix","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","needsPluralHandling","saveMissingPlurals","getPluralFormsOfKey","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","parse","usedLng","usedNS","skipInterpolation","nestBef","skipOnVariables","nb","defaultVariables","interpolate","na","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","capitalize","string","charAt","toUpperCase","slice","LanguageUtil","whitelist","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","map","part","cleanCode","deprecate","isSupportedCode","load","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","lngOnly","find","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","1","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","createRules","rules","numbers","plurals","PluralResolver","rule","getRule","ret","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","JSON","e","formatters","doReduce","includes","test","elem","reduce","v","Connector","backend","store","state","queue","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","err","addResourceBundle","q","_getLastOfPath2","arr","what","remove","done","fcName","tried","wait","setTimeout","read","queueLoad","loadOne","prepareLoading","_this5","fallbackValue","isUpdate","initImmediate","nonExplicitWhitelist","preload","pluralSeparator","partialBundledLanguages","tDescription","_format","transformOptions","noop","I18n","external","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","_this2$store","storeApiChained","_this2$store2","deferred","changeLanguage","usedCallback","append","Error","isLanguageChangingTo","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","async","detect","fixedT","opts","rest","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","precheck","preResult","_this7","preloaded","newLngs","_this8","mergedOptions","clone","membersToCopy","each","defaults","fieldContentRegExp","serializeCookie","opt","encodeURIComponent","maxAge","isNaN","floor","domain","expires","toUTCString","httpOnly","secure","sameSite","cookie","minutes","cookieOptions","Date","setTime","getTime","document","nameEQ","ca","substring","cookie$1","lookup","lookupCookie","cookieMinutes","cookieDomain","querystring","params","location","search","pos","lookupQuerystring","hasLocalStorageSupport","localStorageAvailable","localStorage","setItem","removeItem","lookupLocalStorage","getItem","hasSessionStorageSupport","sessionStorageAvailable","sessionStorage","lookupSessionStorage","navigator$1","userLanguage","htmlTag","documentElement","getAttribute","pathname","lookupFromPathIndex","subdomain","href","lookupFromSubdomainIndex","Browser","detectors","i18nOptions","order","caches","excludeCacheFor","lookupFromUrlIndex","addDetector","detector","detectionOrder","detected","detectorName","cacheName","i18nextNode","Language","LanguageChanged","CurrentLanguage","ChangeLanguage","geti18next","then","LanguageBundleNode","Bundle","codeeditor","ExternalFilePath","allowEditOnly","Namespace","ResourceKey","ResourceValue","ResourceBundleObject","BundleLoaded","jsonData","loadBundle","response","ok","json","status","statusText","catch","AddResource","AddBundleObject","TranslationNode","Key","Variables","Translation","_internal","keyDirty","scheduleTranslate","translationScheduled","variables","keyPorts","keyValues","cachedKey","eventListenerAdded","isMyNamespace","eventListenerLangChanged","graphModel","updatePorts","nodeId","parameters","ports","allowConnectionsOnly","plug","sendDynamicPorts","isRunningLocally","getNamespaceKey","formatted","matches","resolvedKey","myNs","namespaceKey","translation","registerInputIfNeeded","hasInput","registerInput","keyPortMatches","num","parseInt","initialized","defineModule","nodes","use","i18nextSetup2"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","const _colors = {\n    \"purple\":\"component\",\n    \"green\":\"data\",\n    \"default\":\"default\",\n    \"grey\":\"default\"\n}\n\nNoodl.defineNode = function(def) {\n    const _def = {};\n\n    _def.name = def.name;\n    _def.displayNodeName = def.displayName;\n    _def.usePortAsLabel = def.useInputAsLabel;\n    _def.color = _colors[def.color || 'default'];\n    _def.category = def.category || 'Modules';\n    _def.getInspectInfo = def.getInspectInfo;\n    _def.docs = def.docs;\n    \n    _def.initialize = function() {\n        this.inputs = {};\n        var _outputs = this.outputs = {};\n        var _this = this;\n\n        // Function for quickly setting outputs\n        this.setOutputs = function(o) {\n            for(var key in o) {\n                _outputs[key] = o[key];\n                _this.flagOutputDirty(key);\n            }\n        }\n\n        // Sending warnings\n        this.clearWarnings = (function() {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.clearWarnings(this.nodeScope.componentOwner.name, this.id);\n        }).bind(this);\n\n        this.sendWarning = (function(name,message) {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.sendWarning(this.nodeScope.componentOwner.name, this.id, name, {\n                    message: message\n                });\n        }).bind(this);\n\n        if(typeof def.initialize === 'function')\n            def.initialize.apply(this);\n    }\n    _def.inputs = {};\n    _def.outputs = {};\n\n    for(var key in def.inputs) {\n        _def.inputs[key] = {\n            type:(typeof def.inputs[key] === 'object')?def.inputs[key].type:def.inputs[key],\n            displayName:(typeof def.inputs[key] === 'object')?def.inputs[key].displayName:undefined,\n            group:(typeof def.inputs[key] === 'object')?def.inputs[key].group:undefined,\n            default:(typeof def.inputs[key] === 'object')?def.inputs[key].default:undefined,\n            set:(function() { const _key = key; return function(value) {\n                this.inputs[_key] = value;\n                if(def.changed && typeof def.changed[_key] === 'function') {\n                    def.changed[_key].apply(this,[value]);\n                }\n            }})()\n        }\n    }\n\n    for(var key in def.signals) {\n        _def.inputs[key] = {\n            type:'signal',\n            displayName:(typeof def.signals[key] === 'object')?def.signals[key].displayName:undefined,\n            group:(typeof def.signals[key] === 'object')?def.signals[key].group:undefined,\n            valueChangedToTrue:(function() { const _key = key; return function() {\n                const _fn = (typeof def.signals[_key] === 'object')?def.signals[_key].signal:def.signals[_key]\n                if(typeof _fn === 'function') {\n                    this.scheduleAfterInputsHaveUpdated(() => {\n                        _fn.apply(this);\n                    }) \n                }\n            }})()\n        }\n    }\n\n    for(var key in def.outputs) {\n        if(def.outputs[key] === 'signal') {\n            _def.outputs[key] = {\n                type:'signal',\n            }\n        }\n        else {\n            _def.outputs[key] = {\n                type:(typeof def.outputs[key] === 'object')?def.outputs[key].type:def.outputs[key],\n                displayName:(typeof def.outputs[key] === 'object')?def.outputs[key].displayName:undefined,\n                group:(typeof def.outputs[key] === 'object')?def.outputs[key].group:undefined,\n                getter:(function() { const _key = key; return function() {\n                    return this.outputs[_key];\n                }})()\n            }\n        }\n    }\n\n    _def.methods = _def.prototypeExtensions = {};\n    for(var key in def.methods) {\n        _def.prototypeExtensions[key] = def.methods[key];\n    }\n    if(_def.methods.onNodeDeleted) { // Override the onNodeDeleted if required\n        _def.methods._onNodeDeleted = function() {\n            this.__proto__.__proto__._onNodeDeleted.call(this);\n            _def.methods.onNodeDeleted.value.call(this);\n        }\n    }\n\n    return {node:_def,setup:def.setup};\n}\n\nNoodl.defineCollectionNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:def.inputs,\n        outputs:Object.assign({\n            Items:'array',\n            'Fetch Started':'signal',\n            'Fetch Completed':'signal'\n        },def.outputs||{}),\n        signals:Object.assign({\n            Fetch:function() {\n                var _this = this;\n                this.sendSignalOnOutput('Fetch Started');\n                var a = def.fetch.call(this,function() {\n                    _this.sendSignalOnOutput('Fetch Completed');\n                });\n                this.setOutputs({\n                    Items:a\n                })\n            }\n        },def.signals||{})\n    }\n\n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineModelNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:{\n            Id:'string'\n        },\n        outputs:{\n            Fetched:'signal'\n        },\n        changed:{\n            Id:function(value) {\n                if(this._object && this._changeListener)\n                    this._object.off('change',this._changeListener)\n                \n                this._object = Noodl.Object.get(value);\n                this._changeListener = (name,value) => {\n                    const _o = {}\n                    _o[name] = value;\n                    this.setOutputs(_o)\n                }\n                this._object.on('change',this._changeListener)\n\n                this.setOutputs(this._object.data);\n                this.sendSignalOnOutput('Fetched');\n            }\n        },\n        initialize:function() {\n\n        }\n    }\n\n    for(var key in def.properties) {\n        _def.inputs[key] = def.properties[key];\n        _def.outputs[key] = def.properties[key];\n        _def.changed[key] = (function() { const _key = key; return function(value) {\n            if(!this._object) return;\n            this._object.set(_key,value);\n        }})()\n    }\n \n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineReactNode = function(def) {\n    var _def = Noodl.defineNode(def);\n\n    _def.node.getReactComponent = def.getReactComponent;\n    _def.node.inputProps = def.inputProps;\n    _def.node.inputCss = def.inputCss;\n    _def.node.outputProps = def.outputProps;\n    _def.node.setup = def.setup;\n    _def.node.frame = def.frame;\n\n    return _def.node;\n}\n\nmodule.exports = Noodl;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      return getPath(this.data, path);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy$$1 = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy$$1[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy$$1[m] === deepKey) copy$$1[m] = res[m];\n            }\n          }\n\n          res = copy$$1;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n\n        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n          usedDefault = true;\n\n          if (options.count !== undefined) {\n            var suffix = this.pluralResolver.getSuffix(lng, options.count);\n            res = options[\"defaultValue\".concat(suffix)];\n          }\n\n          if (!res) res = options.defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (l) {\n                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n                plurals.forEach(function (p) {\n                  return send([l], p);\n                });\n              });\n            } else {\n              send(lngs, key);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0]) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.supportedLngs || false;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      this.logger.deprecate('languageUtils.isWhitelisted', 'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.');\n      return this.isSupportedCode(code);\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var _this = this;\n\n      var ret = [];\n      var rule = this.getRule(code);\n      if (!rule) return ret;\n      rule.numbers.forEach(function (n) {\n        var suffix = _this.getSuffix(code, n);\n\n        ret.push(\"\".concat(key).concat(suffix));\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, options);\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          str = str.replace(match[0], todo.safeValue(value));\n          todo.regex.lastIndex = 0;\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].includes(this.formatSeparator) && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, options);\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    whitelist: false,\n    nonExplicitWhitelist: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: false\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.whitelist) {\n    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n      options.whitelist = options.whitelist.concat(['cimode']);\n    }\n\n    options.supportedLngs = options.whitelist;\n  }\n\n  if (options.nonExplicitWhitelist) {\n    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;\n  }\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (options.whitelist && !options.supportedLngs) {\n        this.logger.deprecate('whitelist', 'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {\n        this.logger.deprecate('whitelist', 'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      if (!this.modules.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        _this2.changeLanguage(_this2.options.lng, function (err, t) {\n          _this2.isInitialized = true;\n\n          _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        });\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            _this4.language = l;\n            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nexport default i18next;\n","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\n// eslint-disable-next-line no-control-regex\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\nvar serializeCookie = function serializeCookie(name, val, options) {\n  var opt = options || {};\n  opt.path = opt.path || '/';\n  var value = encodeURIComponent(val);\n  var str = name + '=' + value;\n\n  if (opt.maxAge > 0) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) str += '; HttpOnly';\n  if (opt.secure) str += '; Secure';\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n};\n\nvar cookie = {\n  create: function create(name, value, minutes, domain) {\n    var cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      path: '/',\n      sameSite: 'strict'\n    };\n\n    if (minutes) {\n      cookieOptions.expires = new Date();\n      cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n    }\n\n    if (domain) cookieOptions.domain = domain;\n    document.cookie = serializeCookie(name, encodeURIComponent(value), cookieOptions);\n  },\n  read: function read(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  },\n  remove: function remove(name) {\n    this.create(name, '', -1);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      var c = cookie.read(options.lookupCookie);\n      if (c) found = c;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain, options.cookieOptions);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var query = window.location.search.substring(1);\n      var params = query.split('&');\n\n      for (var i = 0; i < params.length; i++) {\n        var pos = params[i].indexOf('=');\n\n        if (pos > 0) {\n          var key = params[i].substring(0, pos);\n\n          if (key === options.lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar hasLocalStorageSupport = null;\n\nvar localStorageAvailable = function localStorageAvailable() {\n  if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n\n  try {\n    hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n\n  return hasLocalStorageSupport;\n};\n\nvar localStorage = {\n  name: 'localStorage',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      var lng = window.localStorage.getItem(options.lookupLocalStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      window.localStorage.setItem(options.lookupLocalStorage, lng);\n    }\n  }\n};\n\nvar hasSessionStorageSupport = null;\n\nvar sessionStorageAvailable = function sessionStorageAvailable() {\n  if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n\n  try {\n    hasSessionStorageSupport = window !== 'undefined' && window.sessionStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.sessionStorage.setItem(testKey, 'foo');\n    window.sessionStorage.removeItem(testKey);\n  } catch (e) {\n    hasSessionStorageSupport = false;\n  }\n\n  return hasSessionStorageSupport;\n};\n\nvar sessionStorage = {\n  name: 'sessionStorage',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      var lng = window.sessionStorage.getItem(options.lookupSessionStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      window.sessionStorage.setItem(options.lookupSessionStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup: function lookup(options) {\n    var found = [];\n\n    if (typeof navigator !== 'undefined') {\n      if (navigator.languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (var i = 0; i < navigator.languages.length; i++) {\n          found.push(navigator.languages[i]);\n        }\n      }\n\n      if (navigator.userLanguage) {\n        found.push(navigator.userLanguage);\n      }\n\n      if (navigator.language) {\n        found.push(navigator.language);\n      }\n    }\n\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  lookup: function lookup(options) {\n    var found;\n    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n\n    if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n      found = htmlTag.getAttribute('lang');\n    }\n\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromPathIndex === 'number') {\n          if (typeof language[options.lookupFromPathIndex] !== 'string') {\n            return undefined;\n          }\n\n          found = language[options.lookupFromPathIndex].replace('/', '');\n        } else {\n          found = language[0].replace('/', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.href.match(/(?:http[s]*\\:\\/\\/)*(.*?)\\.(?=[^\\/]*\\..{2,5})/gi);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromSubdomainIndex === 'number') {\n          found = language[options.lookupFromSubdomainIndex].replace('http://', '').replace('https://', '').replace('.', '');\n        } else {\n          found = language[0].replace('http://', '').replace('https://', '').replace('.', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    lookupSessionStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'] //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n\n  };\n}\n\nvar Browser =\n/*#__PURE__*/\nfunction () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults()); // backwards compatibility\n\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(cookie$1);\n      this.addDetector(querystring);\n      this.addDetector(localStorage);\n      this.addDetector(sessionStorage);\n      this.addDetector(navigator$1);\n      this.addDetector(htmlTag);\n      this.addDetector(path);\n      this.addDetector(subdomain);\n    }\n  }, {\n    key: \"addDetector\",\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: \"detect\",\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      if (this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n\n      return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n    }\n  }, {\n    key: \"cacheUserLanguage\",\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\n\nexport default Browser;\n","const Noodl = require('@noodl/noodl-sdk');\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nconst i18nextNode = Noodl.defineNode ({\n\tcategory:'i18next-noodl',\n\tname:\"i18next\",\n\tdocs:'https://docs.noodl.net/modules/i18next/i18next-node',\n\tinputs:{\n\t\tLanguage:\"string\"\n\t},\n\toutputs:{\n\t\tLanguageChanged:\"signal\",\n\t\tCurrentLanguage:\"string\"\n\t},\n\tsignals: {\n\t\tChangeLanguage: function () {\n\t\t\tgeti18next().then ( () => {\n\t\t\t\ti18next.changeLanguage (this.inputs.Language).then( () => {/*this.sendSignalOnOutput (\"LanguageChanged\");*/})\n\t\t\t} );\n\t\t}\n\t},\n\tinitialize: function () {\n\t\tthis.clearWarnings ();\n\t\tgeti18next().then ( () => {\n\t\t\ti18next.on('languageChanged', (lng) => {\n\t\t\t\tthis.setOutputs ({CurrentLanguage:lng});\n\t\t\t\tthis.sendSignalOnOutput (\"LanguageChanged\");\n\t\t\t});\n\n\t\t\tthis.setOutputs ({CurrentLanguage:i18next.language});\n\t\t\tthis.sendSignalOnOutput (\"LanguageChanged\");\n\t\t} );\n\t}\n\t\n});\n\nconst LanguageBundleNode = Noodl.defineNode({\n\tcategory:'i18next-noodl',\n\tname:'Language Bundle',\n\tdocs:'https://docs.noodl.net/modules/i18next/language-bundle',\n\tinputs:{\n\t\tBundle:{type:{name:'string', codeeditor:\"JSON\"}},\n\t\tExternalFilePath: {\n\t\t\ttype: {name: 'source', allowEditOnly: true},\n\t\t\tdisplayName: 'External Bundle Path',\n\t\t},\n\t\t//Bundle:'array',\n\t\tLanguage:'string',\n\t\tNamespace:'string',\n\t\tResourceKey:{type:{name:'string'}, displayName:\"Resource Key\", group:\"Add Resource\"},\n\t\tResourceValue:{type:{name:'string'}, displayName:\"Resource Value\", group:\"Add Resource\"},\n\t\tResourceBundleObject:{type:{name:'*'}, displayName:\"Resource Bundle Object\", group:\"Add Resource\"}\n\t},\n\toutputs:{\n\t\tBundleLoaded:'signal'\n\t},\n\tchanged:{\n\t\tBundle:function(jsonData) {\n\n\t\t\tthis.clearWarnings();\n\n\t\t\tlet obj = {};\n\t\t\tif (jsonData !== undefined || jsonData == \"\") {\n\t\t\t\ttry {\n\t\t\t\t\tobj= JSON.parse (jsonData);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tthis.sendWarning ('i18next-warning',e.message);\n\t\t\t\t\tconsole.log (\"Warning JSON is not correct in language bundle. \", jsonData);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.loadBundle(obj);\n\t\t},\n\t\tExternalFilePath(path) {\n\t\t\tthis.clearWarnings();\n\t\t\tif(!path) return;\n\n\t\t\tfetch(path)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t}\n\t\t\t\t\tthrow new Error(response.status + \" \" + response.statusText);\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tthis.loadBundle(data);\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\tthis.sendWarning('i18next-warning',e.message);\n\t\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tloadBundle(obj) {\n\t\t\tgeti18next().then ( () => {\n\n\t\t\t\tlet namespace = this.inputs.Namespace;\n\t\t\t\tif (namespace === undefined) {\n\t\t\t\t\tnamespace = 'common';\n\t\t\t\t}\n\t\t\t\tlet language = this.inputs.Language;\n\t\t\t\tif (language === undefined) {\n\t\t\t\t\tlanguage = 'en';\n\t\t\t\t}\n\t\t\t\tif (Object.keys(obj).length > 0) {\n\t\t\t\t\ti18next.addResourceBundle (language, namespace, obj, false, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tsignals: {\n\t\tAddResource:function () {\n\t\t\tgeti18next().then ( () => {\n\t\t\t\tlet namespace = this.inputs.Namespace;\n\t\t\t\tif (namespace === undefined) {\n\t\t\t\t\tnamespace = 'common';\n\t\t\t\t}\n\t\t\t\tlet language = this.inputs.Language;\n\t\t\t\tif (language === undefined) {\n\t\t\t\t\tlanguage = 'en';\n\t\t\t\t}\n\t\t\t\t//console.log (\"adding resource\");\n\t\t\t\ti18next.addResource (language, namespace, this.inputs.ResourceKey, this.inputs.ResourceValue);\n\t\t\t});\n\t\t},\n\t\tAddBundleObject:function () {\n\t\t\tgeti18next().then ( () => {\n\t\t\t\tlet namespace = this.inputs.Namespace;\n\t\t\t\tif (namespace === undefined) {\n\t\t\t\t\tnamespace = 'common';\n\t\t\t\t}\n\t\t\t\tlet language = this.inputs.Language;\n\t\t\t\tif (language === undefined) {\n\t\t\t\t\tlanguage = 'en';\n\t\t\t\t}\n\t\t\t\t//console.log (\"adding resource bundle\");\n\t\t\t\ti18next.addResourceBundle (language, namespace, this.inputs.ResourceBundleObject, true, true);\n\t\t\t} );\n\n\n\n\t\t}\n\t},\n\tinitialize: function () {\n\t\tthis.clearWarnings ();\n\t}\n\n\t\n});\n\nconst TranslationNode = Noodl.defineNode({\n\tcategory:'i18next-noodl',\n\tname:'Translation',\n\tdocs:'https://docs.noodl.net/modules/i18next/translation',\t\n\tinputs:{\n\t\tKey: {\n            type: { name: 'string'},\n            displayName: 'Key',\n            /*set: function (value) {\n            \tconsole.log (\"KEY SET\");\n                this._internal.Key = value;\n                this._internal.keyDirty = true;\n                this.scheduleTranslate ();\n            }*/\n        },\n\n\t\tNamespace:'string',\n\t\tVariables: {\n            type: { name: 'stringlist', allowEditOnly: true },\n            displayName: 'Variables',\n            group: \"Variables\",\n            set: function (value) {\n            }\n        },\n\t},\n\toutputs:{\n\t\tTranslation:{type:'string', displayName:\"Translation\", get:function () {console.log (\"get outtahere\");}}\n\t},\n\tchanged:{\n\t\tKey:function (value) {\n\t\t\tthis._internal.Key = value;\n            this._internal.keyDirty = true;\n            this.scheduleTranslate ();\n\t\t}\n\t},\n\tinitialize: function ()  {\n\t\tthis.clearWarnings ();\n\t\tthis._internal = {translationScheduled:false, variables:{}, keyPorts:[], keyValues:{}, keyDirty:true, cachedKey:\"\", Key:\"\"};\n\t\tthis._internal.eventListenerAdded = (lng, ns) =>  {\n\t\t\t\tif (this.isMyNamespace (ns) === true) {\n\t\t\t\t\t//console.log (\"something added in my namespace! my key is \", this.inputs.Key);\n\n\t\t\t\t\tgeti18next().then( () => {\n\t\t\t\t\t\tthis.scheduleTranslate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\tthis._internal.eventListenerLangChanged = (lng) => {\n\t\t\tthis.scheduleTranslate ();\n\t\t};\n\n\t\tgeti18next().then ( () => { \n\t\t\ti18next.store.on('added', this._internal.eventListenerAdded);\n\n\t\t\ti18next.on('languageChanged', this._internal.eventListenerLangChanged);\n\t\t} );\n\t},\n\n\tsetup: function (context, graphModel) {\n\t\tif (!context.editorConnection || !context.editorConnection.isRunningLocally()) {\n\t      return;\n\t    }\n\n\t\tfunction updatePorts(nodeId, parameters, editorConnection) {\n\t\t  var ports = [];\n\n\t\t  /*this._internal.variablePorts = [];\n\t      this._internal.keyPorts = [];*/\n\n\t\t  // Add value outputs\n\t\t  var properties = parameters.Variables;\n\t\t  if (properties) {\n\t\t    properties = properties ? properties.split(',') : undefined;\n\t\t    for (var i in properties) {\n\t\t      var p = properties[i];\n\n\t\t      ports.push({\n\t\t        type: {\n\t\t          name: '*',\n\t\t          allowConnectionsOnly: true\n\t\t        },\n\t\t        plug: 'input',\n\t\t        group: 'Variables',\n\t\t        name: p,\n\t\t      });\n\n\t\t      //this._internal.variablePorts.push (p);\n\n\t\t    }\n\t\t  }\n\n\t\t  // key ports\n\t\t  var keyPorts = [];\n\t\t  let key = parameters.Key;\n\t\t  if (key !== undefined) {\n\t\t  var inputs = key.match(/\\{[A-Za-z0-9_]*\\}/g) || [];\n\t\t  var portsNames = inputs.map(function(def) {\n\t\t      return def.replace('{','').replace('}','');\n\t\t  });\n\t\t  var portsNames = portsNames\n\t        //get unique names\n\t        .filter(function(value, index, self) { \n\t            return self.indexOf(value) === index;\n\t        });\n\t      //this._internal.keyPorts = portsNames;\n\t\t  keyPorts = portsNames\n\t        \n\t        //and map names to ports\n\t        .map(function(name) {\n\t            return {\n\t            \tgroup:'Key ports',\n\t                name:name,\n\t                type:'string',\n\t                plug:'input',\n\t            }\n\t        });\n\t     }\n\n\t\t  editorConnection.sendDynamicPorts(nodeId, ports.concat(keyPorts));\n\t\t}\n\n\n\t    graphModel.on(\"nodeAdded.Translation\", function (node) {\n\t      updatePorts(node.id, node.parameters, context.editorConnection);\n\n\t      node.on(\"parameterUpdated\", function (event) {\n\t        updatePorts(node.id, node.parameters, context.editorConnection);\n\t      });\n\t    });\n\t},\n\tmethods: {\n\t\tonNodeDeleted: function () {\n\t\t\tgeti18next().then ( () => {\n\t\t\t\ti18next.off ('added', this._internal.eventListenerAdded);\n\t\t\t\ti18next.off ('languageChanged', this._internal.eventListenerLangChanged);\n\n\t\t\t});\n\t\t},\n\t\tscheduleTranslate: function () {\n\t\t\tif (this._internal.translationScheduled === true) {\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._internal.translationScheduled = true;\n\t\t\t//console.log (\"scheduled\");\n\t\t\t/*console.log (\"dirty!\");\n\t\t\tthis.flagOutputDirty (\"Translation\");*/\n\t\t\tthis.scheduleAfterInputsHaveUpdated(() => {\n\t\t\t\t//console.log (\"translate\");\n\t\t\t\tthis._internal.translationScheduled = false;\n\t\t\t\tthis.translate ();\n\t\t\t});\n\n\t\t},\n\t\tgetNamespaceKey: function () {\n\t\t\t//let key = this.inputs.Key;\n\t\t\tlet namespace = this.inputs.Namespace;\n\n\t\t\t// first resolve the key if needed.\n\t\t\tif (this._internal.keyDirty === true) {\n\t\t\t\t//console.log (\"key dirty \"+this.inputs.Key);\n\t\t\t\tvar formatted =  this._internal.Key;\n\n                var matches = this._internal.Key.match(/\\{[A-Za-z0-9_]*\\}/g);\n                var inputs = [];\n                if(matches) {\n                    inputs = matches.map(function(name) {\n                        return name.replace('{','').replace('}','');\n                    });\n                }\n                var self = this;\n                inputs.forEach(function(name) {\n                    var v = self._internal.keyValues[name];\n                    formatted = formatted.replace('{'+name+'}',v!==undefined?v:'');\n                });\n\n                this._internal.cachedKey= formatted;\n                this._internal.keyDirty = false;\n\n\t\t\t}\n\t\t\tlet resolvedKey = this._internal.cachedKey;\n\n\t\t\tif (namespace === undefined) {\n\t\t\t\treturn 'common:'+resolvedKey;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn namespace+\":\"+resolvedKey;\n\t\t\t}\n\t\t},\n\t\tisMyNamespace: function (namespace) {\n\t\t\tlet myNs = null;\n\t\t\tif (this.inputs.Namespace === undefined) {\n\t\t\t\tmyNs = 'common';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmyNs = this.inputs.Namespace;\n\t\t\t}\n\t\t\treturn myNs == namespace;\n\t\t},\n\t\ttranslate: function () {\n\t\t\t//console.log (\"t \"+this.inputs.Key);\t\n\t\t\tif (this.inputs.Key === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgeti18next().then ( () => {\n\t\t\t\t//console.log (\"translate\");\n\t\t\t\tlet namespaceKey = this.getNamespaceKey ();\n\t\t\t\tif (i18next.exists(namespaceKey)) {\n\t\t\t\t\tlet translation = i18next.t (namespaceKey, this._internal.variables);\n\t\t\t\t\tthis.setOutputs ({Translation:translation});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//console.log (\"Warning translation \", namespaceKey, \" is missing.\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\t    registerInputIfNeeded: function (name) {\n\t      if (this.hasInput(name)) {\n\t        return;\n\t      }\n\n\t      function userInputSetter (name, value) {\n\t      \t//console.log (\"name \", name, \" value \", value);\n\t      \tvar keyPortMatches = this._internal.Key.match(/\\{[A-Za-z0-9_]*\\}/g);\n\t      \tvar inputs = [];\n            if(keyPortMatches) {\n                inputs = keyPortMatches.map(function(name) {\n                    return name.replace('{','').replace('}','');\n                });\n            }\n\n\n\t      \tif (inputs.includes (name) === false) {\n\n\t      \t\t// a variable\n\t      \t\tif (name == \"count\") {\n\t\t      \t\tlet num = parseInt (value);\n\t\t      \t\tif (isNaN (num)) {\n\t\t      \t\t\tthis.sendWarning (\"i18next-warning\", \"count variable must be a number\");\n\t\t      \t\t}\n\t\t      \t\telse {\n\t\t      \t\t\tthis._internal.variables[name] = num;\n\t\t      \t\t\tthis.scheduleTranslate ();\n\t\t      \t\t}\n\t\t      \t}\n\t\t      \telse {\n\t\t\t      \tthis._internal.variables[name] = value;\n\t\t\t      \tthis.scheduleTranslate ();\n\t\t      \t}\n\n\t      \t}\n\t      \telse {\n\t      \t\t// a key\n\t\t\t\tthis._internal.keyValues[name] = value;\n\t\t\t\t//console.log (\"scheduling translate  name \", name, \" value \", value);\n\t\t\t\tthis._internal.keyDirty = true;\n\t\t\t\tthis.scheduleTranslate ();\n\n\t      \t}\n\t      \t\n\t      }\n\n\t      this.registerInput(name, {\n\t        set: userInputSetter.bind(this, name)\n\t      });\n\t    }\n\t},\n\t\n});\n\n\nvar initialized = false;\n\nfunction geti18next () {\n\tif (initialized === false) {\n\t\treturn new Promise ( (resolve, reject) => {\n\t\t\ti18next.on ('initialized', () => {resolve ();});\n\t\t});\n\n\t}\n\telse {\n\t\treturn Promise.resolve();\n\t}\n}\n\nNoodl.defineModule({\n    nodes:[\n    \ti18nextNode,\n\t\tLanguageBundleNode,\n\t\tTranslationNode\n    ],\n    setup() {\n\n    \ti18nextSetup2 ();\n    }\n});\n\nasync function i18nextSetup2 () {\n\n\ti18next.on('initialized', () => {\n\t\tinitialized = true;\n\t});\n\n\tawait i18next.use(LanguageDetector).init({\n\t\t\t  /*lng: 'en',*/\n\t\t\t  debug: false,\n\t\t\t  ns:['common'],\n\t\t\t  defaultNS:'common',\n\t\t\t  fallbackLng:{\n\t\t\t  \t'en-GB':['en'],\n\t\t\t  \t'en-US':['en'],\n\t\t\t  \t'en-au':['en'],\n\t\t\t  \t'sv-fi':['sv'],\n\t\t\t  \t'default':['en']\n\t\t\t  }\n\t\t\t});\n}\n"],"sourceRoot":""}