[{"name":"/Main","nodes":[{"id":"68b43154-0fd0-e555-4250-eccb8f5e5de0","type":"Page","parameters":{"title":"main"},"ports":[],"children":[{"id":"0b0f87dd-6a10-a676-ebb0-1a89f63a5143","type":"/#Global visual components/Header nav bar","parameters":{},"ports":[],"children":[]},{"id":"9fd9c0e7-5228-af8d-80a7-a02bf219b3af","type":"Group","parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"1f4a0c69-6605-3b65-952a-0b4f6f9bc800","type":"Group","parameters":{"height":{"value":200,"unit":"px"},"marginLeft":{"value":-20,"unit":"px"},"marginRight":{"value":-20,"unit":"px"}},"ports":[],"children":[{"id":"19114ce6-34c8-8539-3438-8281df730f50","type":"Image","parameters":{"position":"absolute","sizeMode":"explicit","objectFit":"cover","src":"assets/tagiser banner.webp","zIndex":1},"ports":[],"children":[]},{"id":"5e5a4962-daf1-da44-4955-58c9bf80e6a8","type":"Group","parameters":{"position":"absolute","backgroundColor":"#1F1F1F75","zIndex":2},"ports":[],"children":[]}]},{"id":"ede32256-c06d-e4d7-c68b-4717b385af0b","type":"/Main/Label creation and checkout","parameters":{},"ports":[],"children":[]},{"id":"b7fcc388-9bd9-e252-374c-d69cb220ea3c","type":"Group","parameters":{"rowGap":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"6786d096-f471-01b1-5cae-9ec16d0f5737","type":"Text","parameters":{"textStyle":"Title Large","text":"Found a label you like?"},"ports":[],"children":[]},{"id":"ee5f9c53-c2b6-f5f4-0051-fa716e496374","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"69bd80d5-5480-5de4-2fa7-ac69fbfdd867","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"sizeMode":"explicit","alignY":"center","placeholder":"Enter label code"},"ports":[],"children":[]}]}]},{"id":"ebe14440-e408-64d8-175a-4fa6d3965797","type":"Group","parameters":{"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"e9618216-96f1-d8fb-b27d-2d1ee45a4003","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"2d3b41e4-8411-3722-c00b-2fef8cbed848","type":"Group","parameters":{"borderBottomStyle":"solid","borderBottomColor":"Primary","sizeMode":"contentSize","styleCss":"/* background-color: red; */\ncursor: pointer;","borderBottomWidth":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"09e3a254-b2ec-08f5-7f9d-053056780005","type":"Text","parameters":{"text":"Community labels","textStyle":"Title Medium","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"953c52fc-32c5-557a-6d45-b03766b2c0d6","type":"Group","parameters":{"borderBottomStyle":"solid","borderBottomColor":"Primary","sizeMode":"contentSize","styleCss":"/* background-color: red; */\ncursor: pointer;","borderBottomWidth":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"367f2ab2-b008-d0d8-59fb-6ad20f329399","type":"Text","parameters":{"text":"My labels","textStyle":"Title Medium","sizeMode":"contentHeight"},"ports":[],"children":[]}]}]},{"id":"5b3b2cfe-1fed-6e5d-e720-d7e878e963e8","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 1 1 1","minWidth":{"value":300,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"d4ad2569-b906-6790-31e0-023316f5ef5c","type":"For Each","parameters":{"template":"/Main/label item"},"ports":[],"children":[]}]},{"id":"965ffa46-6a23-8ddf-2879-99f42350a63e","type":"/Pagination","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"bf402fbb-5498-7f7a-9149-5b45ad627a88","type":"PageInputs","parameters":{"queryParams":"name,age,theme"},"ports":[],"children":[]},{"id":"c548e536-4117-8e5f-1b3c-ec57591a3373","type":"States","parameters":{"states":"community,mine","values":"communityBottomBorder,myBottomBorder","type-communityBottomBorder":"color","value-community-communityBottomBorder":"Primary","value-mine-communityBottomBorder":"transparent","value-community-myBottomBorder":"transparent","value-mine-myBottomBorder":"Primary","type-myBottomBorder":"color"},"ports":[],"children":[]},{"id":"9b2e4cb5-3f48-f70b-6907-7f836376b0c8","type":"Collection2","parameters":{"collectionId":"allLabels"},"ports":[],"children":[]},{"id":"bc7bb39a-7cd1-6f70-6e62-c11005df965c","type":"Collection2","parameters":{"collectionId":"myLabels"},"ports":[],"children":[]},{"id":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","type":"JavaScriptFunction","parameters":{"functionScript":"const allLabels = Inputs.allLabels;\nconst myLabels = Inputs.myLabels;\n\nswitch (Inputs.tab) {\n    case \"community\":\n    Outputs.array = allLabels;\n    Outputs.totalCount = allLabels.length;\n    break;\n\n    case \"mine\":\n    Outputs.array = myLabels;\n    Outputs.totalCount = allLabels.length;\n    break;\n}"},"ports":[{"name":"in-allLabels","displayName":"allLabels","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-myLabels","displayName":"myLabels","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-tab","displayName":"tab","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-array","displayName":"array","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-totalCount","displayName":"totalCount","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","type":"net.noodl.ComponentObject","parameters":{"properties":"tab,name,age,phone,theme,customText"},"ports":[],"children":[]},{"id":"faea03b2-b448-97ad-1265-0c2059449de7","type":"Collection2","parameters":{"collectionId":"themes"},"ports":[],"children":[]},{"id":"03576524-29f2-c97d-5070-f9ca7e738fb4","type":"Filter Collection","parameters":{"filterFilter":"minAge,maxAge","filterFilterType-minAge":"number","filterFilterType-maxAge":"number","filterFilterOp-minAge":"lte","filterFilterOp-maxAge":"gte"},"ports":[],"children":[]},{"id":"598984b2-0072-1c61-5ab4-9992178fc767","type":"Filter Collection","parameters":{"filterFilter":"theme","filterEnableLimit":false},"ports":[],"children":[]},{"id":"b7149034-224c-b842-1480-66e88b5a9400","type":"Expression","parameters":{"expression":"recommendations > 0 && theme != \"\""},"ports":[],"children":[]},{"id":"9b2d57fe-3f0c-4a82-7174-de5acf2af684","type":"Collection2","parameters":{"collectionId":"themes"},"ports":[],"children":[]},{"id":"76ac611e-85ab-0508-1399-fd9768d4cd4c","type":"Filter Collection","parameters":{"filterFilter":"Value","enabled":true},"ports":[],"children":[]},{"id":"09ecdd11-3663-0df8-44f9-4e2e95e3e607","type":"Model2","parameters":{"properties":"Label"},"ports":[],"children":[]},{"id":"efe63805-fcbc-4aaa-a754-b7ae7cdb612e","type":"String Format","parameters":{"format":"{theme} labels"},"ports":[],"children":[]},{"id":"09e831d4-19c6-fcbd-2008-6519bcff9341","type":"Filter Collection","parameters":{"filterEnableLimit":true,"filterLimit":4,"filterSort":"createdAt","filterSort-createdAt":"descending"},"ports":[],"children":[]},{"id":"98bbc1d0-05eb-00f6-a430-0caf443da39f","type":"Filter Collection","parameters":{"filterEnableLimit":false,"filterFilter":"owner","filterFilterOp-owner":"neq"},"ports":[],"children":[]},{"id":"66784bde-3893-61b4-2d13-b08041189c11","type":"Expression","parameters":{"expression":"tab === \"community\""},"ports":[],"children":[]},{"id":"115a5616-6c44-638f-b9f4-b95568e3446d","type":"JavaScriptFunction","parameters":{"functionScript":"// Read input array and labelCode (if provided)\nconst inputArray = Inputs.InputArray || [];\nconst labelCodeInput = Inputs.LabelCode ? Inputs.LabelCode.trim().toLowerCase() : null;\n\ntry {\n  // Filter the array by community being true\n  let filteredArray = inputArray.filter(item => item.community === true);\n\n  // If a labelCode is provided and not an empty string, filter by it (case-insensitive)\n  if (labelCodeInput && labelCodeInput !== \"\") {\n    filteredArray = filteredArray.filter(item => \n      item.shareCode && item.shareCode.toLowerCase() === labelCodeInput\n    );\n  }\n\n  // Sort the filtered results by createdDate in descending order\n  filteredArray.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n\n  // Set the filtered and sorted results to the output\n  Outputs.FilteredResults = filteredArray;\n\n  // Call Success signal\n  Outputs.Success();\n} catch (error) {\n  // Log error and call Failure signal\n  console.error(\"Error filtering and sorting data:\", error);\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-InputArray","displayName":"InputArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-LabelCode","displayName":"LabelCode","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-FilteredResults","displayName":"FilteredResults","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"5fe34df9-e0d8-e336-f121-872369e44bff","type":"Value Changed","parameters":{},"ports":[],"children":[]},{"id":"4d380ebb-7082-4aa6-197c-15ad0c696624","type":"String Format","parameters":{"format":"Age {age} labels"},"ports":[],"children":[]},{"id":"800523ea-06d9-5172-5337-ed49f020537f","type":"Filter Collection","parameters":{"filterEnableLimit":true,"filterLimit":4,"filterSort":"createdAt","filterSort-createdAt":"descending"},"ports":[],"children":[]},{"id":"ef2fde31-1f4c-ebed-a7de-60a1ef30c1f8","type":"Expression","parameters":{"expression":"recommendations > 0 && age != \"\""},"ports":[],"children":[]},{"id":"bc3aeb20-0597-387d-7ea5-92036a30f175","type":"JavaScriptFunction","parameters":{"functionScript":"const inputArray = Inputs.InputArray || [];\nconst filterArray = Inputs.FilterArray || [];\n\n// Check if input arrays are provided\nif (!Array.isArray(inputArray) || !Array.isArray(filterArray)) {\n  Outputs.Failure();\n  return;\n}\n\n// Extract the values from the filter array\nconst filterValues = filterArray.map(item => item.Value);\n\n// Filter the input array based on the theme field\nconst filteredResults = inputArray.filter(item => \n  item.theme && filterValues.includes(item.theme)\n);\n\n// Output the filtered results\nOutputs.FilteredResults = filteredResults;\nOutputs.ResultsCount = filteredResults.length;\nOutputs.Success();\n"},"ports":[{"name":"in-InputArray","displayName":"InputArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-FilterArray","displayName":"FilterArray","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-FilteredResults","displayName":"FilteredResults","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-ResultsCount","displayName":"ResultsCount","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"188190da-b20d-7d88-62a7-1b8e025c3be9","type":"net.noodl.ComponentObject","parameters":{"properties":"name,theme,age,phone"},"ports":[],"children":[]},{"id":"1774b03b-6c55-adc3-fbbd-c8b2bf23967c","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"6e5cfac9-3c18-d708-5231-613edfe4bb61","type":"Expression","parameters":{"expression":"customText != \"\""},"ports":[],"children":[]},{"id":"f702613d-9d11-ea62-9572-a92125b032c4","type":"Expression","parameters":{"expression":"189 * count"},"ports":[],"children":[]},{"id":"6fe86fad-b40f-547d-84eb-f5a43653ca2a","type":"Counter","parameters":{"limitsMax":99,"limitsEnabled":true,"limitsMin":1,"startValue":1},"ports":[],"children":[]},{"id":"174d990e-bcaa-f289-931b-31ff689d1a5b","type":"String Format","parameters":{"format":"Kr {price}"},"ports":[],"children":[]},{"id":"c18f043a-90cd-685f-d88a-574e2a267260","type":"Model2","parameters":{"modelId":"currentRequest","properties":"name,age,theme"},"ports":[],"children":[]},{"id":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","type":"/Main/Section category list","parameters":{},"ports":[],"children":[]},{"id":"d3fea519-ad17-1261-1c82-d58f08ce4305","type":"/Main/Section category list","parameters":{},"ports":[],"children":[]},{"id":"6e851034-3e74-717a-32cc-9e471fb17381","type":"Filter Collection","parameters":{"filterEnableLimit":true,"filterFilter":"owner","filterFilterOp-owner":"neq"},"ports":[],"children":[]}],"connections":[{"sourceId":"2d3b41e4-8411-3722-c00b-2fef8cbed848","sourcePort":"onClick","targetId":"c548e536-4117-8e5f-1b3c-ec57591a3373","targetPort":"to-community"},{"sourceId":"953c52fc-32c5-557a-6d45-b03766b2c0d6","sourcePort":"onClick","targetId":"c548e536-4117-8e5f-1b3c-ec57591a3373","targetPort":"to-mine"},{"sourceId":"c548e536-4117-8e5f-1b3c-ec57591a3373","sourcePort":"communityBottomBorder","targetId":"2d3b41e4-8411-3722-c00b-2fef8cbed848","targetPort":"borderBottomColor"},{"sourceId":"c548e536-4117-8e5f-1b3c-ec57591a3373","sourcePort":"myBottomBorder","targetId":"953c52fc-32c5-557a-6d45-b03766b2c0d6","targetPort":"borderBottomColor"},{"sourceId":"bc7bb39a-7cd1-6f70-6e62-c11005df965c","sourcePort":"items","targetId":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","targetPort":"in-myLabels"},{"sourceId":"c548e536-4117-8e5f-1b3c-ec57591a3373","sourcePort":"currentState","targetId":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","targetPort":"in-tab"},{"sourceId":"c548e536-4117-8e5f-1b3c-ec57591a3373","sourcePort":"currentState","targetId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","targetPort":"value-tab"},{"sourceId":"faea03b2-b448-97ad-1265-0c2059449de7","sourcePort":"items","targetId":"03576524-29f2-c97d-5070-f9ca7e738fb4","targetPort":"items"},{"sourceId":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","sourcePort":"out-totalCount","targetId":"965ffa46-6a23-8ddf-2879-99f42350a63e","targetPort":"Total Count"},{"sourceId":"9b2e4cb5-3f48-f70b-6907-7f836376b0c8","sourcePort":"items","targetId":"598984b2-0072-1c61-5ab4-9992178fc767","targetPort":"items"},{"sourceId":"598984b2-0072-1c61-5ab4-9992178fc767","sourcePort":"count","targetId":"b7149034-224c-b842-1480-66e88b5a9400","targetPort":"recommendations"},{"sourceId":"9b2d57fe-3f0c-4a82-7174-de5acf2af684","sourcePort":"items","targetId":"76ac611e-85ab-0508-1399-fd9768d4cd4c","targetPort":"items"},{"sourceId":"76ac611e-85ab-0508-1399-fd9768d4cd4c","sourcePort":"firstItemId","targetId":"09ecdd11-3663-0df8-44f9-4e2e95e3e607","targetPort":"modelId"},{"sourceId":"09ecdd11-3663-0df8-44f9-4e2e95e3e607","sourcePort":"prop-Label","targetId":"efe63805-fcbc-4aaa-a754-b7ae7cdb612e","targetPort":"theme"},{"sourceId":"598984b2-0072-1c61-5ab4-9992178fc767","sourcePort":"items","targetId":"09e831d4-19c6-fcbd-2008-6519bcff9341","targetPort":"items"},{"sourceId":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","sourcePort":"out-array","targetId":"98bbc1d0-05eb-00f6-a430-0caf443da39f","targetPort":"items"},{"sourceId":"66784bde-3893-61b4-2d13-b08041189c11","sourcePort":"result","targetId":"b7fcc388-9bd9-e252-374c-d69cb220ea3c","targetPort":"mounted"},{"sourceId":"c548e536-4117-8e5f-1b3c-ec57591a3373","sourcePort":"currentState","targetId":"66784bde-3893-61b4-2d13-b08041189c11","targetPort":"tab"},{"sourceId":"9b2e4cb5-3f48-f70b-6907-7f836376b0c8","sourcePort":"items","targetId":"115a5616-6c44-638f-b9f4-b95568e3446d","targetPort":"in-InputArray"},{"sourceId":"115a5616-6c44-638f-b9f4-b95568e3446d","sourcePort":"out-FilteredResults","targetId":"9e4510bf-a0e0-3982-f1f0-9c331bb148bf","targetPort":"in-allLabels"},{"sourceId":"69bd80d5-5480-5de4-2fa7-ac69fbfdd867","sourcePort":"onTextChanged","targetId":"115a5616-6c44-638f-b9f4-b95568e3446d","targetPort":"in-LabelCode"},{"sourceId":"9b2e4cb5-3f48-f70b-6907-7f836376b0c8","sourcePort":"count","targetId":"5fe34df9-e0d8-e336-f121-872369e44bff","targetPort":"value"},{"sourceId":"5fe34df9-e0d8-e336-f121-872369e44bff","sourcePort":"valueChanged","targetId":"115a5616-6c44-638f-b9f4-b95568e3446d","targetPort":"run"},{"sourceId":"9b2e4cb5-3f48-f70b-6907-7f836376b0c8","sourcePort":"items","targetId":"bc3aeb20-0597-387d-7ea5-92036a30f175","targetPort":"in-InputArray"},{"sourceId":"03576524-29f2-c97d-5070-f9ca7e738fb4","sourcePort":"items","targetId":"bc3aeb20-0597-387d-7ea5-92036a30f175","targetPort":"in-FilterArray"},{"sourceId":"bc3aeb20-0597-387d-7ea5-92036a30f175","sourcePort":"out-ResultsCount","targetId":"ef2fde31-1f4c-ebed-a7de-60a1ef30c1f8","targetPort":"recommendations"},{"sourceId":"bc3aeb20-0597-387d-7ea5-92036a30f175","sourcePort":"out-FilteredResults","targetId":"800523ea-06d9-5172-5337-ed49f020537f","targetPort":"items"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-age","targetId":"4d380ebb-7082-4aa6-197c-15ad0c696624","targetPort":"age"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-age","targetId":"03576524-29f2-c97d-5070-f9ca7e738fb4","targetPort":"filterFilterValue-minAge"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-age","targetId":"03576524-29f2-c97d-5070-f9ca7e738fb4","targetPort":"filterFilterValue-maxAge"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-age","targetId":"ef2fde31-1f4c-ebed-a7de-60a1ef30c1f8","targetPort":"age"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-theme","targetId":"598984b2-0072-1c61-5ab4-9992178fc767","targetPort":"filterFilterValue-theme"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-theme","targetId":"b7149034-224c-b842-1480-66e88b5a9400","targetPort":"theme"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-theme","targetId":"76ac611e-85ab-0508-1399-fd9768d4cd4c","targetPort":"filterFilterValue-Value"},{"sourceId":"b7149034-224c-b842-1480-66e88b5a9400","sourcePort":"result","targetId":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","targetPort":"Mounted"},{"sourceId":"efe63805-fcbc-4aaa-a754-b7ae7cdb612e","sourcePort":"formatted","targetId":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","targetPort":"Text"},{"sourceId":"09e831d4-19c6-fcbd-2008-6519bcff9341","sourcePort":"items","targetId":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","targetPort":"Items"},{"sourceId":"598984b2-0072-1c61-5ab4-9992178fc767","sourcePort":"count","targetId":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","targetPort":"Total Count"},{"sourceId":"b58b9cc2-5bfa-72e8-4193-ca8d8999c473","sourcePort":"Skip","targetId":"09e831d4-19c6-fcbd-2008-6519bcff9341","targetPort":"filterSkip"},{"sourceId":"4d380ebb-7082-4aa6-197c-15ad0c696624","sourcePort":"formatted","targetId":"d3fea519-ad17-1261-1c82-d58f08ce4305","targetPort":"Text"},{"sourceId":"ef2fde31-1f4c-ebed-a7de-60a1ef30c1f8","sourcePort":"result","targetId":"d3fea519-ad17-1261-1c82-d58f08ce4305","targetPort":"Mounted"},{"sourceId":"800523ea-06d9-5172-5337-ed49f020537f","sourcePort":"items","targetId":"d3fea519-ad17-1261-1c82-d58f08ce4305","targetPort":"Items"},{"sourceId":"d3fea519-ad17-1261-1c82-d58f08ce4305","sourcePort":"Skip","targetId":"800523ea-06d9-5172-5337-ed49f020537f","targetPort":"filterSkip"},{"sourceId":"bc3aeb20-0597-387d-7ea5-92036a30f175","sourcePort":"out-ResultsCount","targetId":"d3fea519-ad17-1261-1c82-d58f08ce4305","targetPort":"Total Count"},{"sourceId":"1774b03b-6c55-adc3-fbbd-c8b2bf23967c","sourcePort":"authenticated","targetId":"953c52fc-32c5-557a-6d45-b03766b2c0d6","targetPort":"mounted"},{"sourceId":"69bd80d5-5480-5de4-2fa7-ac69fbfdd867","sourcePort":"onTextChanged","targetId":"5fe34df9-e0d8-e336-f121-872369e44bff","targetPort":"value"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-customText","targetId":"6e5cfac9-3c18-d708-5231-613edfe4bb61","targetPort":"customText"},{"sourceId":"6fe86fad-b40f-547d-84eb-f5a43653ca2a","sourcePort":"currentCount","targetId":"f702613d-9d11-ea62-9572-a92125b032c4","targetPort":"count"},{"sourceId":"f702613d-9d11-ea62-9572-a92125b032c4","sourcePort":"result","targetId":"174d990e-bcaa-f289-931b-31ff689d1a5b","targetPort":"price"},{"sourceId":"68b43154-0fd0-e555-4250-eccb8f5e5de0","sourcePort":"didMount","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Fetch"},{"sourceId":"03576524-29f2-c97d-5070-f9ca7e738fb4","sourcePort":"items","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Items"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-name","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Add text"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-name","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"name"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-theme","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"theme"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-age","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"age"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-phone","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"phone"},{"sourceId":"188190da-b20d-7d88-62a7-1b8e025c3be9","sourcePort":"value-phone","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Phone"},{"sourceId":"6e5cfac9-3c18-d708-5231-613edfe4bb61","sourcePort":"result","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"mounted"},{"sourceId":"fb872fb3-ea8c-0c6b-0777-cb645fc22022","sourcePort":"value-customText","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Text"},{"sourceId":"6fe86fad-b40f-547d-84eb-f5a43653ca2a","sourcePort":"currentCount","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"Text 2"},{"sourceId":"174d990e-bcaa-f289-931b-31ff689d1a5b","sourcePort":"formatted","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"price"},{"sourceId":"174d990e-bcaa-f289-931b-31ff689d1a5b","sourcePort":"formatted","targetId":"ede32256-c06d-e4d7-c68b-4717b385af0b","targetPort":"price"},{"sourceId":"ede32256-c06d-e4d7-c68b-4717b385af0b","sourcePort":"Increase Count","targetId":"6fe86fad-b40f-547d-84eb-f5a43653ca2a","targetPort":"increase"},{"sourceId":"ede32256-c06d-e4d7-c68b-4717b385af0b","sourcePort":"Decrease Count","targetId":"6fe86fad-b40f-547d-84eb-f5a43653ca2a","targetPort":"decrease"},{"sourceId":"bf402fbb-5498-7f7a-9149-5b45ad627a88","sourcePort":"pm-name","targetId":"c18f043a-90cd-685f-d88a-574e2a267260","targetPort":"prop-name"},{"sourceId":"bf402fbb-5498-7f7a-9149-5b45ad627a88","sourcePort":"pm-age","targetId":"c18f043a-90cd-685f-d88a-574e2a267260","targetPort":"prop-age"},{"sourceId":"bf402fbb-5498-7f7a-9149-5b45ad627a88","sourcePort":"pm-theme","targetId":"c18f043a-90cd-685f-d88a-574e2a267260","targetPort":"prop-theme"},{"sourceId":"1774b03b-6c55-adc3-fbbd-c8b2bf23967c","sourcePort":"id","targetId":"98bbc1d0-05eb-00f6-a430-0caf443da39f","targetPort":"filterFilterValue-owner"},{"sourceId":"98bbc1d0-05eb-00f6-a430-0caf443da39f","sourcePort":"items","targetId":"6e851034-3e74-717a-32cc-9e471fb17381","targetPort":"items"},{"sourceId":"965ffa46-6a23-8ddf-2879-99f42350a63e","sourcePort":"Skip","targetId":"6e851034-3e74-717a-32cc-9e471fb17381","targetPort":"filterSkip"},{"sourceId":"6e851034-3e74-717a-32cc-9e471fb17381","sourcePort":"items","targetId":"d4ad2569-b906-6790-31e0-023316f5ef5c","targetPort":"items"},{"sourceId":"66784bde-3893-61b4-2d13-b08041189c11","sourcePort":"result","targetId":"98bbc1d0-05eb-00f6-a430-0caf443da39f","targetPort":"enabled"}],"ports":[],"roots":["68b43154-0fd0-e555-4250-eccb8f5e5de0","b58b9cc2-5bfa-72e8-4193-ca8d8999c473","d3fea519-ad17-1261-1c82-d58f08ce4305"],"metadata":{"isFolderComponent":false}},{"name":"/Main/Label creation and checkout","nodes":[{"id":"7e5c3a02-9b4d-79b8-d2d7-4a05ecc590c0","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"4df52f28-958f-61f1-0f89-70351139c7d6","type":"Group","parameters":{"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"6b5e71e3-2838-ea6c-b6f2-375bcb4f7782","type":"Text","parameters":{"text":"Name labels for clothing and equipment","textStyle":"Title Medium"},"ports":[],"children":[]},{"id":"ec4eb87e-09f1-8e80-6b1f-16b8802d6491","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","type":"/Main/Section image fields","parameters":{},"ports":[],"children":[]},{"id":"b83e7807-02b1-3a72-4034-55daaae3118b","type":"/Main/Section label preview","parameters":{},"ports":[],"children":[]}]},{"id":"184e852d-01ca-9f5b-0f47-a58e16d601f9","type":"Group","parameters":{"maxWidth":{"value":480,"unit":"px"},"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"51d61908-7783-bd71-6039-151abfa9f052","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"00f7740a-f185-f167-ee92-15d817fb7032","type":"Group","parameters":{"flexDirection":"row","alignItems":"center","justifyContent":"center","width":{"value":240,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 400","columnGap":{"value":5,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"2b38576a-5d46-88ff-62de-331a7aed50ae","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"image","codeAsClass":false},"iconColor":"Grey - 900","iconSize":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"8bfaa1b7-195d-0129-9235-613cf8707a6d","type":"Text","parameters":{"sizeMode":"contentSize","text":"Background"},"ports":[],"children":[]}]},{"id":"c6d274ad-62dd-66d0-acbe-9e31ab1da34e","type":"Group","parameters":{"flexDirection":"row","alignItems":"center","justifyContent":"center","width":{"value":240,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 400","columnGap":{"value":5,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"bbc791ea-5428-1de8-a0c4-6f3951b1f3a4","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"font_download","codeAsClass":false},"iconColor":"Grey - 900","iconSize":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"19b2b318-199e-1c2c-466d-f0a896b31c8c","type":"Text","parameters":{"sizeMode":"contentSize","text":"Font"},"ports":[],"children":[]}]}]},{"id":"07156411-f103-042b-4af5-e79d7f2402bd","type":"Group","parameters":{},"ports":[],"children":[{"id":"77d9bee2-9823-a982-f9c9-85358b0899f1","type":"Group","parameters":{},"ports":[],"children":[{"id":"a5244ca1-bf8c-15b2-8f2e-4620055cb9ee","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1","minWidth":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"82f10c44-49dd-6e2d-4c8a-ba2db4ce2f84","type":"For Each","parameters":{"template":"/Main/Background item","items":"[\n    {\n        \"colour\": \"#000\"\n    },\n    {\n        \"colour\": \"#FFF\"\n    },\n    {\n        \"colour\": \"#87CEEB\"\n    },\n    {\n        \"colour\": \"#ACFFAC\"\n    },\n    {\n        \"colour\": \"#6495ED\"\n    },\n    {\n        \"colour\": \"#FFC5C5\"\n    },\n    {\n        \"colour\": \"#C7B8EA\"\n    },\n    {\n        \"colour\": \"#C9C3E6\"\n    },\n]"},"ports":[],"children":[]}]}]}]},{"id":"21c59aa5-e4a4-992b-f377-b505fd91bfa9","type":"Group","parameters":{},"ports":[],"children":[{"id":"eafcbc5e-0f82-db21-6597-7ca7a195dc25","type":"Group","parameters":{},"ports":[],"children":[{"id":"7d11d4c5-8be6-73e7-1656-72a94687ffc8","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 1","minWidth":{"value":80,"unit":"px"}},"ports":[],"children":[{"id":"3f8170ed-abc4-29c2-8476-c52d3da7427c","type":"For Each","parameters":{"template":"/Main/Font item","items":"[\n    {\n        \"font\": \"Lato-Bold\"\n    },\n    {\n        \"font\": \"Nunito-Bold\"\n    },\n    {\n        \"font\": \"OpenSans-Bold\"\n    },\n    {\n        \"font\": \"Poppins-Bold\"\n    },\n    {\n        \"font\": \"Roboto-Bold\"\n    }\n]"},"ports":[],"children":[]}]}]}]}]}]},{"id":"81f7bab9-49ed-21fb-402f-801d3c42d419","type":"Group","parameters":{"boxShadowEnabled":true,"boxShadowColor":"#00000011","paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"sizeMode":"contentHeight","borderRadius":{"value":20,"unit":"px"},"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"1d7ed809-68e2-4caa-eead-99a8669eace8","type":"Text","parameters":{"text":"Self-adhesive name labels","textStyle":"Title Medium"},"ports":[],"children":[]},{"id":"ec29659f-50ea-98f5-3193-43716785b4d6","type":"Group","parameters":{},"ports":[],"children":[{"id":"00e45eff-2107-93b3-570b-ae313ed0b5e7","type":"Text","parameters":{"text":"Kr 189","textStyle":"Title Medium"},"ports":[],"children":[]},{"id":"558d5e1f-5810-0e27-b63f-3b9eb56a0ad8","type":"Text","parameters":{"text":"120 stk., 3 x 1,3 cm","textStyle":"Label Large"},"ports":[],"children":[]}]},{"id":"fcf7a77a-52be-7ce0-3e9b-ca7e0509b7b3","type":"Group","parameters":{"rowGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"fbfbb977-34ca-edf9-8735-8bc683f72ae9","type":"Group","parameters":{"flexDirection":"row","alignItems":"center"},"ports":[],"children":[{"id":"dc809a9f-30ad-d81e-61e1-107cb9bda4b2","type":"Text","parameters":{"text":"Quantity","sizeMode":"contentHeight"},"ports":[],"children":[]},{"id":"85737480-4fb1-3400-04d4-4a2061969957","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":10,"unit":"px"},"backgroundColor":"White","boxShadowEnabled":true,"boxShadowColor":"#00000011","borderRadius":{"value":20,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"bac3ad64-f637-c29d-e9e7-599a9ed23cbe","type":"/Main/Plus minus icons","parameters":{},"ports":[],"children":[]},{"id":"72cdcba3-2ade-23af-c668-79bf7960437e","type":"Text","parameters":{"text":"1"},"ports":[],"children":[]},{"id":"1b08f655-3395-a573-116d-0dc9a4a8c95b","type":"/Main/Plus minus icons","parameters":{"icon":{"class":"material-icons","code":"add","codeAsClass":false}},"ports":[],"children":[]}]}]},{"id":"ed134651-b853-1e70-ba66-adf2948fca8a","type":"/Main/Cart line item","parameters":{"Text":"Subtotal"},"ports":[],"children":[]},{"id":"580e2348-d4ab-6012-3a22-decb6c1c925c","type":"/Main/Cart line item","parameters":{"Text":"Delivery fee (member)","price":"$0"},"ports":[],"children":[]},{"id":"6de2ba68-3521-9e87-9e77-9b2d2a358fcb","type":"/Main/Cart line item","parameters":{"Text":"Total","font":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"a7df369f-527d-61ce-f1c1-e944eb995734","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"label":"Purchase"},"ports":[],"children":[]},{"id":"e5db7ae5-ecdb-ef8c-8603-04c93b4eaf03","type":"Group","parameters":{"rowGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"6229d2a9-d753-1710-186d-a1efc39443d3","type":"Group","parameters":{"flexDirection":"row","alignItems":"center","columnGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"0626f36d-f218-6766-fc6f-0ada5a97885b","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"local_shipping","codeAsClass":false},"iconSize":{"value":24,"unit":"px"},"iconColor":"Grey - 900"},"ports":[],"children":[]},{"id":"74364f10-8e16-569a-403d-b30be1a8d31a","type":"Text","parameters":{"textStyle":"Label Large","text":"Free shipping for members"},"ports":[],"children":[]}]},{"id":"a810c4f4-d915-b240-f62f-de6e6e198714","type":"Group","parameters":{"flexDirection":"row","alignItems":"center","columnGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"beb3be5b-eeed-13a7-f44b-2091dfd56198","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"rocket_launch","codeAsClass":false},"iconSize":{"value":24,"unit":"px"},"iconColor":"Grey - 900"},"ports":[],"children":[]},{"id":"269319c4-b265-cd4c-3acf-8d7ce6497b9b","type":"Text","parameters":{"textStyle":"Label Large","text":"Super-quick delivery"},"ports":[],"children":[]}]}]}]}]},{"id":"e3e7c59c-7607-8f9f-77be-b06276e889b8","type":"NavigationShowPopup","parameters":{"target":"/Main/Loading popup"},"ports":[],"children":[]},{"id":"41b23093-322d-f98d-807c-41a0f33717db","type":"/Main/Export and create label","parameters":{},"ports":[],"children":[]},{"id":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","type":"/Main/Canvas JS","parameters":{"canvas width":400,"canvas height":100},"ports":[],"children":[]},{"id":"ff6dcf2a-f13f-83f9-a72d-b19b256682c9","type":"States","parameters":{"states":"background,font","useTransitions":false},"ports":[],"children":[]},{"id":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"f548dd22-e49c-01c1-f9f1-ec14537733c7","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"c2079a34-5c86-5927-6e7b-bcd3338fc3b9","type":"NavigationShowPopup","parameters":{"target":"/#Global visual components/Popup purchase"},"ports":[],"children":[]}],"connections":[{"sourceId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","sourcePort":"Image Exported","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"Upload"},{"sourceId":"41b23093-322d-f98d-807c-41a0f33717db","sourcePort":"Done","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"ResetCanvas"},{"sourceId":"41b23093-322d-f98d-807c-41a0f33717db","sourcePort":"Done","targetId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","targetPort":"To hidePreview"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"imageData","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"imageData"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Add ImageUrl","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Add ImageUrl"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"AddImageFromUrl","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"AddImageFromUrl"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"AddText","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"AddText"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"backgroundUrl","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"backgroundUrl"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"addBackground","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"addBackground"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Add phone","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Add phone"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"BackgroundColor","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"BackgroundColor"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"backgroundColour","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"backgroundColour"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Generate label","targetId":"e3e7c59c-7607-8f9f-77be-b06276e889b8","targetPort":"show"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Generate label","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Run"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Generate label","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"ResetCanvas"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Mounted","targetId":"b83e7807-02b1-3a72-4034-55daaae3118b","targetPort":"Mounted"},{"sourceId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","sourcePort":"Mounted","targetId":"b83e7807-02b1-3a72-4034-55daaae3118b","targetPort":"Mounted"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"Show","targetId":"e3e7c59c-7607-8f9f-77be-b06276e889b8","targetPort":"show"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"Canvas group 'this' output","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Canvas group 'this' output"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"Run","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Run"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"ExportAsImage","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"ExportAsImage"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"ResetCanvas","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"ResetCanvas"},{"sourceId":"b83e7807-02b1-3a72-4034-55daaae3118b","sourcePort":"Do","targetId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","targetPort":"Do"},{"sourceId":"00f7740a-f185-f167-ee92-15d817fb7032","sourcePort":"onClick","targetId":"ff6dcf2a-f13f-83f9-a72d-b19b256682c9","targetPort":"to-background"},{"sourceId":"c6d274ad-62dd-66d0-acbe-9e31ab1da34e","sourcePort":"onClick","targetId":"ff6dcf2a-f13f-83f9-a72d-b19b256682c9","targetPort":"to-font"},{"sourceId":"ff6dcf2a-f13f-83f9-a72d-b19b256682c9","sourcePort":"at-background","targetId":"07156411-f103-042b-4af5-e79d7f2402bd","targetPort":"mounted"},{"sourceId":"ff6dcf2a-f13f-83f9-a72d-b19b256682c9","sourcePort":"at-font","targetId":"21c59aa5-e4a4-992b-f377-b505fd91bfa9","targetPort":"mounted"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"Fetch","targetId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","targetPort":"Fetch"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"Items","targetId":"ccf29711-e375-10e7-5e6e-9ab37fba12d8","targetPort":"Items"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"Add text","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Add text"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"name","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"name"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"theme","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"theme"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"age","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"age"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"phone","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"phone"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"Phone","targetId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","targetPort":"Phone"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"Text 2","targetId":"72cdcba3-2ade-23af-c668-79bf7960437e","targetPort":"text"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"price","targetId":"ed134651-b853-1e70-ba66-adf2948fca8a","targetPort":"price"},{"sourceId":"2c92a50e-b4f0-c097-fed3-6c441f92ad44","sourcePort":"price","targetId":"6de2ba68-3521-9e87-9e77-9b2d2a358fcb","targetPort":"price"},{"sourceId":"1b08f655-3395-a573-116d-0dc9a4a8c95b","sourcePort":"clicked","targetId":"f548dd22-e49c-01c1-f9f1-ec14537733c7","targetPort":"Increase Count"},{"sourceId":"bac3ad64-f637-c29d-e9e7-599a9ed23cbe","sourcePort":"clicked","targetId":"f548dd22-e49c-01c1-f9f1-ec14537733c7","targetPort":"Decrease Count"},{"sourceId":"a7df369f-527d-61ce-f1c1-e944eb995734","sourcePort":"onClick","targetId":"c2079a34-5c86-5927-6e7b-bcd3338fc3b9","targetPort":"show"},{"sourceId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","sourcePort":"Export File User","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"File"},{"sourceId":"0a998fa4-aa2c-89fb-9020-dad5592d6f3b","sourcePort":"Export File Community","targetId":"41b23093-322d-f98d-807c-41a0f33717db","targetPort":"Community File"}],"ports":[{"name":"Increase Count","type":"signal","plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Decrease Count","type":"signal","plug":"output","index":1},{"name":"Items","type":"array","default":"[\n    {\"Label\":\"Dinosaur\", \"Value\":\"dinosaur\"},\n    {\"Label\":\"Princess\", \"Value\":\"princess\"},\n    {\"Label\":\"Astronaut\", \"Value\":\"astronaut\"},\n    {\"Label\":\"Rock & Roll Girl\", \"Value\":\"rockGirl\"},\n    {\"Label\":\"Animal\", \"Value\":\"animal\"},\n    {\"Label\":\"Ninja\", \"Value\":\"ninja\"},\n    {\"Label\":\"Unicorn\", \"Value\":\"unicorn\"},\n    {\"Label\":\"Fire truck\", \"Value\":\"fireTruck\"}\n]","group":"General","plug":"input","index":1},{"name":"Add text","type":"*","plug":"input","index":2},{"name":"name","type":{"name":"string"},"group":"Properties","plug":"input","index":3},{"name":"theme","type":{"name":"string"},"group":"Properties","plug":"input","index":4},{"name":"age","type":{"name":"number"},"default":0,"plug":"input","index":5},{"name":"phone","type":{"name":"string"},"group":"Properties","plug":"input","index":6},{"name":"Phone","type":"*","group":"Inputs","plug":"input","index":7},{"name":"mounted","type":"*","plug":"input","index":8},{"name":"Text","type":"*","plug":"input","index":9},{"name":"Text 2","type":{"name":"string","multiline":true},"default":"1","group":"Text","plug":"input","index":10},{"name":"price","type":{"name":"string","multiline":true},"group":"Text","plug":"input","index":11}],"roots":["7e5c3a02-9b4d-79b8-d2d7-4a05ecc590c0"]},{"name":"/Main/Section image fields","nodes":[{"id":"696f7766-a277-ebd6-5bdc-64b4372f7cd1","type":"Group","parameters":{"justifyContent":"center","rowGap":{"value":20,"unit":"px"},"height":{"value":200,"unit":"px","isFixed":false},"sizeMode":"contentHeight","paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"6e31b6ee-e872-8886-4a53-639b63c3e3cd","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":20,"unit":"px"},"flexWrap":"wrap","rowGap":{"value":10,"unit":"px"},"clip":false,"width":{"value":100,"unit":"%","isFixed":false},"zIndex":3,"justifyContent":"flex-start"},"ports":[],"children":[{"id":"58059581-3964-407f-86d0-4dbbf7729b80","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"placeholder":"Line 1 (name)"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"children":[]},{"id":"e7a8e9d0-c684-fe4c-a7ae-9fadba337c29","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"label":"Enter your child's age","labeltextStyle":"Label Medium","sizeMode":"explicit","width":{"value":80,"unit":"px"},"type":"number","maxWidth":{"value":140,"unit":"px"},"placeholder":"Age","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[]},{"id":"04c62fa3-6a37-73ec-fe93-f6f3f230c247","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"label":"Enter a custom character","labeltextStyle":"Label Medium","sizeMode":"explicit","minWidth":{"value":200,"unit":"px"},"width":{"value":20,"unit":"%"},"type":"text","maxWidth":{"value":300,"unit":"px"},"placeholder":"Line 2 (e.g. phone number)"},"ports":[],"children":[]},{"id":"d99dd759-6d49-763b-9203-e6f85bda4d67","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"label":"Enter a custom character","labeltextStyle":"Label Medium","sizeMode":"explicit","minWidth":{"value":200,"unit":"px"},"width":{"value":20,"unit":"%"},"type":"text","maxWidth":{"value":300,"unit":"px"},"placeholder":"Character description"},"ports":[],"children":[]},{"id":"14a52568-9b3f-85c4-e219-bd558840cd05","type":"/#Global visual components/Dropdown menu","parameters":{},"ports":[],"children":[]}]},{"id":"b2c2a1aa-5b8a-5851-392e-a7f89018b034","type":"Group","parameters":{"sizeMode":"contentHeight","zIndex":4,"rowGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"9dc23cf7-aa3d-b43b-8549-d850be358080","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"label":"Generate label","backgroundColor":"Primary","alignX":"center","position":"relative"},"stateParameters":{"disabled":{"backgroundColor":"Grey - 400"}},"ports":[],"children":[]}]}]},{"id":"e268b984-e125-b4a6-c6bc-33d993b77383","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"2126f86d-df30-2742-a678-abdbbbea502f","type":"Expression","parameters":{"expression":"Verified!==true"},"ports":[],"children":[]},{"id":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","type":"/Main/n8n get AI image","parameters":{},"ports":[],"children":[]},{"id":"75de0e48-2cfc-16fd-4e90-e96be436e5b0","type":"Expression","parameters":{"expression":"response.images[0]"},"ports":[],"children":[]},{"id":"7d757882-a9c6-0e72-aaf1-d32452cf4815","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.base64Image) {\n    Outputs.Failure();\n    return;\n}\n\nconst base64Data = Inputs.base64Image.trim();\n\n// Validate base64 string\nif (!base64Data.match(/^data:image\\/png;base64,/)) {\n    console.error('Invalid base64 format');\n    Outputs.Failure();\n    return;\n}\n\n// Create a new image element\nconst img = new Image();\nimg.crossOrigin = 'Anonymous';\n\n// Handle loading errors\nimg.onerror = function() {\n    console.error('Error loading image');\n    Outputs.Failure();\n};\n\nimg.onload = function() {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    // Set canvas dimensions\n    canvas.width = img.naturalWidth;\n    canvas.height = img.naturalHeight;\n    \n    // Check for valid dimensions\n    if (canvas.width === 0 || canvas.height === 0) {\n        console.error('Invalid image dimensions');\n        Outputs.Failure();\n        return;\n    }\n    \n    ctx.drawImage(img, 0, 0);\n    \n    try {\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        const data = imageData.data;\n        \n        function isBackground(r, g, b) {\n            const brightness = (r + g + b) / 3;\n            const maxColorDiff = Math.max(Math.abs(r - g), Math.abs(r - b), Math.abs(g - b));\n            return brightness > 200 && maxColorDiff < 30;\n        }\n        \n        function floodFill(x, y) {\n            const stack = [[x, y]];\n            const width = canvas.width;\n            const height = canvas.height;\n            const processed = new Set();\n            \n            while (stack.length) {\n                const [x, y] = stack.pop();\n                const key = `${x},${y}`;\n                \n                if (x < 0 || x >= width || y < 0 || y >= height) continue;\n                if (processed.has(key)) continue;\n                \n                const index = (y * width + x) * 4;\n                const r = data[index];\n                const g = data[index + 1];\n                const b = data[index + 2];\n                \n                if (!isBackground(r, g, b)) continue;\n                \n                processed.add(key);\n                data[index + 3] = 0;\n                \n                stack.push([x + 1, y], [x - 1, y], [x, y + 1], [x, y - 1]);\n            }\n        }\n        \n        // Start flood fill from corners\n        floodFill(0, 0);\n        floodFill(canvas.width - 1, 0);\n        floodFill(0, canvas.height - 1);\n        floodFill(canvas.width - 1, canvas.height - 1);\n        \n        ctx.putImageData(imageData, 0, 0);\n        \n        canvas.toBlob(function(blob) {\n            const url = URL.createObjectURL(blob);\n            Outputs.pngUrl = url;\n            Outputs.Success();\n        }, 'image/png');\n        return;\n        Outputs.Success();\n    } catch (e) {\n        console.error('Error processing image:', e);\n        Outputs.Failure();\n    }\n};\n\n// Set image source after setting up handlers\nimg.src = base64Data;"},"ports":[{"name":"in-base64Image","displayName":"base64Image","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-pngUrl","displayName":"pngUrl","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","type":"Expression","parameters":{"expression":"(theme != \"custom\" && name && credit > 0) || (theme === \"custom\" && name && themeText != \"\" && credit > 0)"},"ports":[],"children":[]},{"id":"dd15fa59-dbe6-9e70-3ee9-054bf45d9ef2","type":"Event Sender","parameters":{"channelName":"aiComplete"},"ports":[],"children":[]},{"id":"41e5e30f-416f-0ec7-10ff-3819f1f54a55","type":"Timer","parameters":{"duration":500},"ports":[],"children":[]},{"id":"f758958c-ce5f-1e17-9afa-b4faa6b5e134","type":"/Show Toast","parameters":{"Message":"Something went wrong! Please try again.","Type":"Warning"},"ports":[],"children":[]},{"id":"dc327013-87eb-1585-a373-60895218ed8a","type":"Expression","parameters":{"expression":"imageUrl != \"\""},"ports":[],"children":[]},{"id":"149e448c-d8bd-7d86-9c77-374cb3e99e8a","type":"States","parameters":{"states":"showPreview,hidePreview","values":"showPreview","useTransitions":true,"type-showPreview":"boolean","value-showPreview-showPreview":true,"value-hidePreview-showPreview":false,"currentState":"hidePreview"},"ports":[],"children":[]},{"id":"7bb7e8b2-fee2-987d-093f-3d02c0d4b627","type":"net.noodl.user.SetUserProperties","parameters":{},"ports":[],"children":[]},{"id":"50e4e6b1-85f1-2935-1a23-4271c3ac3076","type":"Expression","parameters":{"expression":"currentUsedCredits + 1"},"ports":[],"children":[]},{"id":"5556d7a6-67f8-0b78-42e9-c7962201d94f","type":"/#Global logic components/Credit calculator","parameters":{},"ports":[],"children":[]},{"id":"52c47ea6-fa6e-ad04-049b-0b4048c51857","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"05654ffa-d016-b4ac-09ae-40e3e0da6054","type":"net.noodl.ParentComponentObject","parameters":{"properties":"age,phone,name,theme,customText,background,font"},"ports":[],"children":[]},{"id":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","type":"Model2","parameters":{"properties":"name,age,theme,aiImage,line2","modelId":"currentRequest"},"ports":[],"children":[]},{"id":"41252a8d-affe-3aea-bac4-069a0729523c","type":"net.noodl.controls.options","parameters":{"label":"Select a theme","items":"[\n    {\"Label\":\"Dinosaur\", \"Value\":\"dinosaur\"},\n    {\"Label\":\"Princess\", \"Value\":\"princess\"},\n    {\"Label\":\"Astronaut\", \"Value\":\"astronaut\"},\n    {\"Label\":\"Rock & Roll Girl\", \"Value\":\"rockGirl\"},\n    {\"Label\":\"Animal\", \"Value\":\"animal\"},\n    {\"Label\":\"Ninja\", \"Value\":\"ninja\"},\n    {\"Label\":\"Unicorn\", \"Value\":\"unicorn\"},\n    {\"Label\":\"Fire truck\", \"Value\":\"fireTruck\"}\n]","sizeMode":"explicit","labeltextStyle":"Label Medium","minWidth":{"value":200,"unit":"px"},"width":{"value":20,"unit":"%"},"maxWidth":{"value":300,"unit":"px"},"useLabel":false,"placeholder":"Select a theme","borderRadius":{"value":24,"unit":"px"},"borderStyle":"none","color":"Grey - 900","iconColor":"Grey - 900","backgroundColor":"White"},"ports":[],"children":[]},{"id":"f38179d5-a3b4-2ec6-c352-bd6d08ca6055","type":"Model2","parameters":{"modelId":"currentRequest","properties":"aiImage"},"ports":[],"children":[]},{"id":"0f9bddb9-5c01-c24b-c1ff-f9896999cc14","type":"States","parameters":{"states":"generate,retry","useTransitions":false,"values":"buttonLabel","type-buttonLabel":"string","value-generate-buttonLabel":"Generate label","value-retry-buttonLabel":"Retry"},"ports":[],"children":[]},{"id":"35fb1756-f4ec-34f9-d71e-ffcbef06904f","type":"Expression","parameters":{"expression":"aiImage != \"\""},"ports":[],"children":[]},{"id":"65321a93-5ba6-3ea8-a865-cdc638af4212","type":"/Main/Canvas JS","parameters":{},"ports":[],"children":[]},{"id":"0d2110e7-87d8-a938-155b-cf3b601eb29d","type":"Variable2","parameters":{"name":"canvasPreviewThis"},"ports":[],"children":[]},{"id":"ea41e5b1-685b-9a55-595b-fc53cb045f83","type":"NavigationShowPopup","parameters":{"target":"/Main/Loading popup"},"ports":[],"children":[]}],"connections":[{"sourceId":"e268b984-e125-b4a6-c6bc-33d993b77383","sourcePort":"prop-emailVerified","targetId":"2126f86d-df30-2742-a678-abdbbbea502f","targetPort":"Verified"},{"sourceId":"e268b984-e125-b4a6-c6bc-33d993b77383","sourcePort":"id","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"userId"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-Success","targetId":"dd15fa59-dbe6-9e70-3ee9-054bf45d9ef2","targetPort":"sendEvent"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-Success","targetId":"41e5e30f-416f-0ec7-10ff-3819f1f54a55","targetPort":"start"},{"sourceId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","sourcePort":"Failed","targetId":"dd15fa59-dbe6-9e70-3ee9-054bf45d9ef2","targetPort":"sendEvent"},{"sourceId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","sourcePort":"Failed","targetId":"f758958c-ce5f-1e17-9afa-b4faa6b5e134","targetPort":"Do"},{"sourceId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","sourcePort":"error","targetId":"f758958c-ce5f-1e17-9afa-b4faa6b5e134","targetPort":"Message"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-pngUrl","targetId":"dc327013-87eb-1585-a373-60895218ed8a","targetPort":"imageUrl"},{"sourceId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","sourcePort":"response","targetId":"75de0e48-2cfc-16fd-4e90-e96be436e5b0","targetPort":"response"},{"sourceId":"75de0e48-2cfc-16fd-4e90-e96be436e5b0","sourcePort":"result","targetId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","targetPort":"in-base64Image"},{"sourceId":"e268b984-e125-b4a6-c6bc-33d993b77383","sourcePort":"prop-creditsUsedToday","targetId":"50e4e6b1-85f1-2935-1a23-4271c3ac3076","targetPort":"currentUsedCredits"},{"sourceId":"50e4e6b1-85f1-2935-1a23-4271c3ac3076","sourcePort":"result","targetId":"7bb7e8b2-fee2-987d-093f-3d02c0d4b627","targetPort":"prop-creditsUsedToday"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-Success","targetId":"50e4e6b1-85f1-2935-1a23-4271c3ac3076","targetPort":"run"},{"sourceId":"50e4e6b1-85f1-2935-1a23-4271c3ac3076","sourcePort":"isTrueEv","targetId":"7bb7e8b2-fee2-987d-093f-3d02c0d4b627","targetPort":"store"},{"sourceId":"5556d7a6-67f8-0b78-42e9-c7962201d94f","sourcePort":"credit","targetId":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","targetPort":"credit"},{"sourceId":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","sourcePort":"result","targetId":"9dc23cf7-aa3d-b43b-8549-d850be358080","targetPort":"enabled"},{"sourceId":"9dc23cf7-aa3d-b43b-8549-d850be358080","sourcePort":"onClick","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"Do"},{"sourceId":"d99dd759-6d49-763b-9203-e6f85bda4d67","sourcePort":"onTextChanged","targetId":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","targetPort":"themeText"},{"sourceId":"41252a8d-affe-3aea-bac4-069a0729523c","sourcePort":"value","targetId":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","targetPort":"theme"},{"sourceId":"e7a8e9d0-c684-fe4c-a7ae-9fadba337c29","sourcePort":"onTextChanged","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"age"},{"sourceId":"58059581-3964-407f-86d0-4dbbf7729b80","sourcePort":"onTextChanged","targetId":"fa1a59d5-33bf-85c1-dc3f-5f58fb370b82","targetPort":"name"},{"sourceId":"52c47ea6-fa6e-ad04-049b-0b4048c51857","sourcePort":"Fetch","targetId":"e268b984-e125-b4a6-c6bc-33d993b77383","targetPort":"fetch"},{"sourceId":"52c47ea6-fa6e-ad04-049b-0b4048c51857","sourcePort":"Do","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"Do"},{"sourceId":"52c47ea6-fa6e-ad04-049b-0b4048c51857","sourcePort":"To hidePreview","targetId":"149e448c-d8bd-7d86-9c77-374cb3e99e8a","targetPort":"to-hidePreview"},{"sourceId":"52c47ea6-fa6e-ad04-049b-0b4048c51857","sourcePort":"Items","targetId":"41252a8d-affe-3aea-bac4-069a0729523c","targetPort":"items"},{"sourceId":"dc327013-87eb-1585-a373-60895218ed8a","sourcePort":"result","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"Mounted"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-pngUrl","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"imageData"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-pngUrl","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"Add ImageUrl"},{"sourceId":"41e5e30f-416f-0ec7-10ff-3819f1f54a55","sourcePort":"timerFinished","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"AddImageFromUrl"},{"sourceId":"41e5e30f-416f-0ec7-10ff-3819f1f54a55","sourcePort":"timerFinished","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"AddText"},{"sourceId":"41e5e30f-416f-0ec7-10ff-3819f1f54a55","sourcePort":"timerFinished","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"addBackground"},{"sourceId":"149e448c-d8bd-7d86-9c77-374cb3e99e8a","sourcePort":"showPreview","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"Mounted"},{"sourceId":"e7a8e9d0-c684-fe4c-a7ae-9fadba337c29","sourcePort":"onTextChanged","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-age"},{"sourceId":"d99dd759-6d49-763b-9203-e6f85bda4d67","sourcePort":"onTextChanged","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-customText"},{"sourceId":"41252a8d-affe-3aea-bac4-069a0729523c","sourcePort":"value","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-theme"},{"sourceId":"04c62fa3-6a37-73ec-fe93-f6f3f230c247","sourcePort":"onTextChanged","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-phone"},{"sourceId":"58059581-3964-407f-86d0-4dbbf7729b80","sourcePort":"onTextChanged","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-name"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-name","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-name"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-age","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-age"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-theme","targetId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","targetPort":"value-theme"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-age","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"age"},{"sourceId":"14a52568-9b3f-85c4-e219-bd558840cd05","sourcePort":"BackgroundColor","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"BackgroundColor"},{"sourceId":"14a52568-9b3f-85c4-e219-bd558840cd05","sourcePort":"backgroundColour","targetId":"c9ee37ed-058a-1045-afc2-18d8d9d68a6f","targetPort":"backgroundColour"},{"sourceId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","sourcePort":"value-customText","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"theme"},{"sourceId":"f38179d5-a3b4-2ec6-c352-bd6d08ca6055","sourcePort":"prop-aiImage","targetId":"35fb1756-f4ec-34f9-d71e-ffcbef06904f","targetPort":"aiImage"},{"sourceId":"35fb1756-f4ec-34f9-d71e-ffcbef06904f","sourcePort":"isTrueEv","targetId":"0f9bddb9-5c01-c24b-c1ff-f9896999cc14","targetPort":"to-retry"},{"sourceId":"35fb1756-f4ec-34f9-d71e-ffcbef06904f","sourcePort":"isFalseEv","targetId":"0f9bddb9-5c01-c24b-c1ff-f9896999cc14","targetPort":"to-generate"},{"sourceId":"0f9bddb9-5c01-c24b-c1ff-f9896999cc14","sourcePort":"buttonLabel","targetId":"9dc23cf7-aa3d-b43b-8549-d850be358080","targetPort":"label"},{"sourceId":"0d2110e7-87d8-a938-155b-cf3b601eb29d","sourcePort":"value","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"Canvas group 'this' output"},{"sourceId":"58059581-3964-407f-86d0-4dbbf7729b80","sourcePort":"onTextChanged","targetId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","targetPort":"prop-name"},{"sourceId":"e7a8e9d0-c684-fe4c-a7ae-9fadba337c29","sourcePort":"onTextChanged","targetId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","targetPort":"prop-age"},{"sourceId":"04c62fa3-6a37-73ec-fe93-f6f3f230c247","sourcePort":"onTextChanged","targetId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","targetPort":"prop-line2"},{"sourceId":"d99dd759-6d49-763b-9203-e6f85bda4d67","sourcePort":"onTextChanged","targetId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","targetPort":"prop-theme"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-theme","targetId":"ac9182b0-7bb5-2b39-0fb7-ea1d78687815","targetPort":"theme"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-name","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"Name"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-line2","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"Phone"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-pngUrl","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"Add ImageUrl"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-Success","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"AddText"},{"sourceId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","sourcePort":"value-background","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"BackgroundColor"},{"sourceId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","sourcePort":"changed-background","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"addBackground"},{"sourceId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","sourcePort":"value-font","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"fontFamily"},{"sourceId":"05654ffa-d016-b4ac-09ae-40e3e0da6054","sourcePort":"changed-font","targetId":"65321a93-5ba6-3ea8-a865-cdc638af4212","targetPort":"changeFont"},{"sourceId":"9dc23cf7-aa3d-b43b-8549-d850be358080","sourcePort":"onClick","targetId":"ea41e5b1-685b-9a55-595b-fc53cb045f83","targetPort":"show"},{"sourceId":"7d757882-a9c6-0e72-aaf1-d32452cf4815","sourcePort":"out-Failure","targetId":"dd15fa59-dbe6-9e70-3ee9-054bf45d9ef2","targetPort":"sendEvent"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-name","targetId":"58059581-3964-407f-86d0-4dbbf7729b80","targetPort":"startValue"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-age","targetId":"e7a8e9d0-c684-fe4c-a7ae-9fadba337c29","targetPort":"startValue"},{"sourceId":"81c2ac57-17ed-04c6-3809-72cfc4f5c431","sourcePort":"prop-theme","targetId":"d99dd759-6d49-763b-9203-e6f85bda4d67","targetPort":"startValue"}],"ports":[{"name":"Mounted","type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"imageData","type":"*","plug":"output","index":2},{"name":"To hidePreview","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":2},{"name":"Add ImageUrl","type":"*","plug":"output","index":3},{"name":"Items","type":"array","default":"[\n    {\"Label\":\"Dinosaur\", \"Value\":\"dinosaur\"},\n    {\"Label\":\"Princess\", \"Value\":\"princess\"},\n    {\"Label\":\"Astronaut\", \"Value\":\"astronaut\"},\n    {\"Label\":\"Rock & Roll Girl\", \"Value\":\"rockGirl\"},\n    {\"Label\":\"Animal\", \"Value\":\"animal\"},\n    {\"Label\":\"Ninja\", \"Value\":\"ninja\"},\n    {\"Label\":\"Unicorn\", \"Value\":\"unicorn\"},\n    {\"Label\":\"Fire truck\", \"Value\":\"fireTruck\"}\n]","group":"General","plug":"input","index":3},{"name":"AddImageFromUrl","type":"signal","plug":"output","index":4},{"name":"AddText","type":"signal","plug":"output","index":5},{"name":"backgroundUrl","type":"*","plug":"output","index":6},{"name":"addBackground","type":"signal","plug":"output","index":7},{"name":"Add phone","type":"*","plug":"output","index":8},{"name":"Generate label","type":"*","plug":"output","index":9},{"name":"BackgroundColor","type":"string","plug":"output","index":12},{"name":"backgroundColour","type":"string","plug":"output","index":13}],"roots":["696f7766-a277-ebd6-5bdc-64b4372f7cd1","41252a8d-affe-3aea-bac4-069a0729523c"]},{"name":"/#Global visual components/Dropdown menu","nodes":[{"id":"45515016-5205-7709-6622-359d46879779","type":"Group","parameters":{"position":"absolute","width":{"value":150,"unit":"px"},"sizeMode":"contentHeight","alignX":"right","marginTop":{"value":30,"unit":"px"},"backgroundColor":"White","boxShadowEnabled":false,"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowColor":"#00000019","borderRadius":{"value":10,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"rowGap":{"value":15,"unit":"px"},"zIndex":999,"styleCss":"/* background-color: red; */\n\nbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n"},"ports":[],"children":[{"id":"732b32ee-9f50-ae1d-c071-935debdf564c","type":"Component Children","parameters":{},"ports":[],"children":[]},{"id":"76722cc9-3161-da5a-c880-75f2b3f697ad","type":"For Each","parameters":{"template":"/#Global visual components/Dropdown menu/Dropdown menu item"},"ports":[],"children":[]}]},{"id":"80854343-b2ce-7962-4b7f-5789543760b2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"abc41872-0605-60ed-4352-6222e22a665b","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"a7d91f0c-7e6a-ad0f-af4a-d5b1bbaa7fae","type":"JavaScriptFunction","parameters":{"functionScript":"document.addEventListener('click', function(event) {\n  const filtersPopunder = Inputs.This.getDOMElement();\n  if (filtersPopunder && !filtersPopunder.contains(event.target)) {\n    Outputs.ClickedOutside = true;\n\n    // Reset Outputs.ClickedOutside to false after 500 milliseconds\n    setTimeout(function() {\n      Outputs.ClickedOutside = false;\n    }, 500);\n  }\n});"},"ports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ClickedOutside","displayName":"ClickedOutside","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"cf4a4f64-9859-c3dc-ed8c-ea95aa7de947","type":"States","parameters":{"states":"visible,notVisible","currentState":"notVisible","values":"mounted","useTransitions":false,"type-mounted":"boolean","value-visible-mounted":true},"ports":[],"children":[]}],"connections":[{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"menuItems","targetId":"76722cc9-3161-da5a-c880-75f2b3f697ad","targetPort":"items"},{"sourceId":"45515016-5205-7709-6622-359d46879779","sourcePort":"this","targetId":"a7d91f0c-7e6a-ad0f-af4a-d5b1bbaa7fae","targetPort":"in-This"},{"sourceId":"cf4a4f64-9859-c3dc-ed8c-ea95aa7de947","sourcePort":"mounted","targetId":"45515016-5205-7709-6622-359d46879779","targetPort":"mounted"},{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"clicked","targetId":"cf4a4f64-9859-c3dc-ed8c-ea95aa7de947","targetPort":"to-visible"},{"sourceId":"a7d91f0c-7e6a-ad0f-af4a-d5b1bbaa7fae","sourcePort":"out-ClickedOutside","targetId":"cf4a4f64-9859-c3dc-ed8c-ea95aa7de947","targetPort":"to-notVisible"},{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"offset top","targetId":"45515016-5205-7709-6622-359d46879779","targetPort":"marginTop"},{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"offset bottom","targetId":"45515016-5205-7709-6622-359d46879779","targetPort":"marginBottom"},{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"offset left","targetId":"45515016-5205-7709-6622-359d46879779","targetPort":"marginLeft"},{"sourceId":"80854343-b2ce-7962-4b7f-5789543760b2","sourcePort":"offset right","targetId":"45515016-5205-7709-6622-359d46879779","targetPort":"marginRight"},{"sourceId":"76722cc9-3161-da5a-c880-75f2b3f697ad","sourcePort":"itemOutputSignal-clicked","targetId":"cf4a4f64-9859-c3dc-ed8c-ea95aa7de947","targetPort":"to-notVisible"},{"sourceId":"76722cc9-3161-da5a-c880-75f2b3f697ad","sourcePort":"itemOutput-itemClicked","targetId":"abc41872-0605-60ed-4352-6222e22a665b","targetPort":"itemId"},{"sourceId":"76722cc9-3161-da5a-c880-75f2b3f697ad","sourcePort":"itemOutputSignal-clicked","targetId":"abc41872-0605-60ed-4352-6222e22a665b","targetPort":"itemClicked"}],"ports":[{"name":"itemClicked","type":"signal","plug":"output","index":1},{"name":"menuItems","type":"array","group":"Data","plug":"input","index":1},{"name":"itemId","type":"*","plug":"output","index":2},{"name":"clicked","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":2},{"name":"offset top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"default":{"value":30,"unit":"px"},"group":"Margin and padding","plug":"input","index":3},{"name":"offset bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margin and padding","plug":"input","index":4},{"name":"offset left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margin and padding","plug":"input","index":5},{"name":"offset right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margin and padding","plug":"input","index":6}],"roots":["45515016-5205-7709-6622-359d46879779"]},{"name":"/Main/n8n get AI image","nodes":[{"id":"d913bb90-36a3-2cc9-57b7-1f003e074f74","type":"NewModel","parameters":{"type-email":"string","type-rootDomain":"string","properties":"theme,userId,age","type-someString":"string","type-someObject":"object","type-someInteger":"number","type-theme":"string","type-userId":"string","type-age":"number"},"ports":[],"children":[]},{"id":"6c7f3e49-4079-8955-4d08-57cdc87771d3","type":"/#Global logic components/n8n/n8n core component","parameters":{"query type":"POST","n8n webhook id":"2e86700a-1f62-48e6-96ca-20b721342578","test webhook":false,"n8n root domain":"https://tagiser-n8n.simple-ricks-low-code-hosting.com"},"ports":[],"children":[]},{"id":"665686b2-d8e0-4921-cac5-790806b0289a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"ea2a5097-7230-20fb-66bf-69ba4331ad5a","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","sourcePort":"id","targetId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","targetPort":"inputObject"},{"sourceId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","sourcePort":"created","targetId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","targetPort":"Run"},{"sourceId":"665686b2-d8e0-4921-cac5-790806b0289a","sourcePort":"Do","targetId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","targetPort":"new"},{"sourceId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","sourcePort":"Success","targetId":"ea2a5097-7230-20fb-66bf-69ba4331ad5a","targetPort":"Success"},{"sourceId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","sourcePort":"Failed","targetId":"ea2a5097-7230-20fb-66bf-69ba4331ad5a","targetPort":"Failed"},{"sourceId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","sourcePort":"response","targetId":"ea2a5097-7230-20fb-66bf-69ba4331ad5a","targetPort":"response"},{"sourceId":"6c7f3e49-4079-8955-4d08-57cdc87771d3","sourcePort":"error","targetId":"ea2a5097-7230-20fb-66bf-69ba4331ad5a","targetPort":"error"},{"sourceId":"665686b2-d8e0-4921-cac5-790806b0289a","sourcePort":"theme","targetId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","targetPort":"prop-theme"},{"sourceId":"665686b2-d8e0-4921-cac5-790806b0289a","sourcePort":"userId","targetId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","targetPort":"prop-userId"},{"sourceId":"665686b2-d8e0-4921-cac5-790806b0289a","sourcePort":"age","targetId":"d913bb90-36a3-2cc9-57b7-1f003e074f74","targetPort":"prop-age"}],"ports":[{"name":"response","type":"*","plug":"output","index":1},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"error","type":"*","plug":"output","index":2},{"name":"theme","type":{"name":"string"},"group":"Property Values","plug":"input","index":2},{"name":"Success","type":"signal","plug":"output","index":3},{"name":"userId","type":{"name":"string"},"group":"Property Values","plug":"input","index":3},{"name":"Failed","type":"signal","plug":"output","index":4},{"name":"age","type":{"name":"number"},"group":"Property Values","plug":"input","index":4}],"roots":[]},{"name":"/#Global logic components/Credit calculator","nodes":[{"id":"5c21e45d-d4f2-9a58-7166-c5cf96829628","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"c3ce8fc7-42e4-ea06-a091-01c47cb9c957","type":"Expression","parameters":{"expression":"credit === 1"},"ports":[],"children":[]},{"id":"52540df6-07d0-643d-0874-2230ab983cef","type":"Expression","parameters":{"expression":"credit <= 1"},"ports":[],"children":[]},{"id":"b8d24d8e-fb55-840f-b195-63c85ec207ee","type":"Expression","parameters":{"expression":"limit - usedToday"},"ports":[],"children":[]},{"id":"99dc0dd2-c85d-bf73-8c98-c4126d502fc1","type":"DbConfig","parameters":{"configKey":"creditLimit","useDevValue":true,"devValue":999},"ports":[],"children":[]},{"id":"3ff90fb9-3949-de54-302d-89f5cd001077","type":"States","parameters":{"states":"Credits,One credit,Zero credits","values":"text","type-text":"string","useTransitions":false,"value-One credit-text":"You have one credit left","value-Zero credits-text":"You're out of credits for today. Check the community labels for now and try again tomorrow."},"ports":[],"children":[]},{"id":"456910e5-9454-bef8-9ccb-6bbdb4bd8b9d","type":"String Format","parameters":{"format":"You have {credit} credits left today"},"ports":[],"children":[]},{"id":"b964f59b-3059-5f93-0bc2-97e2fbf9944e","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"52540df6-07d0-643d-0874-2230ab983cef","sourcePort":"isTrueEv","targetId":"c3ce8fc7-42e4-ea06-a091-01c47cb9c957","targetPort":"run"},{"sourceId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","sourcePort":"result","targetId":"c3ce8fc7-42e4-ea06-a091-01c47cb9c957","targetPort":"credit"},{"sourceId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","sourcePort":"result","targetId":"52540df6-07d0-643d-0874-2230ab983cef","targetPort":"credit"},{"sourceId":"5c21e45d-d4f2-9a58-7166-c5cf96829628","sourcePort":"prop-creditsUsedToday","targetId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","targetPort":"usedToday"},{"sourceId":"99dc0dd2-c85d-bf73-8c98-c4126d502fc1","sourcePort":"value","targetId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","targetPort":"limit"},{"sourceId":"c3ce8fc7-42e4-ea06-a091-01c47cb9c957","sourcePort":"isFalseEv","targetId":"3ff90fb9-3949-de54-302d-89f5cd001077","targetPort":"to-Zero credits"},{"sourceId":"c3ce8fc7-42e4-ea06-a091-01c47cb9c957","sourcePort":"isTrueEv","targetId":"3ff90fb9-3949-de54-302d-89f5cd001077","targetPort":"to-One credit"},{"sourceId":"52540df6-07d0-643d-0874-2230ab983cef","sourcePort":"isFalseEv","targetId":"3ff90fb9-3949-de54-302d-89f5cd001077","targetPort":"to-Credits"},{"sourceId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","sourcePort":"result","targetId":"456910e5-9454-bef8-9ccb-6bbdb4bd8b9d","targetPort":"credit"},{"sourceId":"456910e5-9454-bef8-9ccb-6bbdb4bd8b9d","sourcePort":"formatted","targetId":"3ff90fb9-3949-de54-302d-89f5cd001077","targetPort":"value-Credits-text"},{"sourceId":"b8d24d8e-fb55-840f-b195-63c85ec207ee","sourcePort":"result","targetId":"b964f59b-3059-5f93-0bc2-97e2fbf9944e","targetPort":"credit"},{"sourceId":"3ff90fb9-3949-de54-302d-89f5cd001077","sourcePort":"text","targetId":"b964f59b-3059-5f93-0bc2-97e2fbf9944e","targetPort":"Text"}],"ports":[{"name":"credit","type":"*","plug":"output","index":0},{"name":"Text","type":{"name":"string","allowConnectionsOnly":true},"plug":"output","index":1}],"roots":[]},{"name":"/Main/Canvas JS","nodes":[{"id":"3813ae8c-be44-a6d6-ed79-61c046e24603","type":"JavaScriptFunction","parameters":{"functionScript":"const fabricUniqueId = '--fabric-js--';\nconst fabricScriptUrl = `https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js`;\n\nfunction injectFabricScript(onload) {\n    if (!document.querySelector(`#${fabricUniqueId}`)) {\n        const script = document.createElement('script');\n        script.id = fabricUniqueId;\n        script.src = fabricScriptUrl;\n        script.onload = () => {\n            console.log('Fabric.js loaded successfully');\n            onload();\n        };\n        script.onerror = () => {\n            console.error('Failed to load Fabric.js');\n        };\n        document.head.appendChild(script);\n    } else {\n        console.log('Fabric.js already loaded');\n        onload();\n    }\n}\n\ninjectFabricScript(() => {\n    Outputs.Loaded();\n});"},"ports":[{"name":"out-Loaded","displayName":"Loaded","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"319d7186-a007-008c-4abc-21ffdeb2e4e6","type":"Javascript2","parameters":{"code":"// Store canvas in a persistent way that won't be affected by scope issues\nwindow.appState = window.appState || {};\nlet canvas = window.appState.canvas || null;\nlet canvasInitialized = window.appState.canvasInitialized || false;\n\nconst state = {\n    image: null,\n    text: null,\n    backgroundColor: \"#FFE6D5\"\n};\n\nfunction initializeCanvas() {\n    const radius = Script.Inputs.CornerRadius || 20;\n    canvas.clipPath = new fabric.Rect({\n        width: canvas.width,\n        height: canvas.height,\n        rx: radius,\n        ry: radius,\n        fill: 'transparent'\n    });\n    canvas.setBackgroundColor(state.backgroundColor, canvas.renderAll.bind(canvas));\n}\n\nfunction createTextObject(mainText, phoneText = '') {\n    const text = phoneText ? `${mainText}\\n${phoneText}` : mainText;\n    return new fabric.Textbox(text, {\n        left: 100,\n        top: 20,\n        width: 300,\n        fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif',\n        fontSize: Script.Inputs.FontSize || 42,\n        lineHeight: 0.8, // Reduced line height\n        fill: Script.Inputs.TextColor || 'white',\n        textAlign: 'center',\n        originX: 'left',\n        originY: 'top',\n        selectable: true,\n        hasControls: true,\n        cornerSize: 10,\n        cornerStyle: 'circle',\n        transparentCorners: false,\n        evented: true,\n        stroke: Script.Inputs.TextStrokeColor || 'black',\n        strokeWidth: Script.Inputs.TextStrokeWidth || 1,\n        shadow: new fabric.Shadow({\n            color: Script.Inputs.TextShadowColor || 'rgba(0,0,0,0.5)',\n            blur: Script.Inputs.TextShadowBlur || 5,\n            offsetX: Script.Inputs.TextShadowOffsetX || 2,\n            offsetY: Script.Inputs.TextShadowOffsetY || 2\n        })\n    });\n}\n\nfunction addImageToCanvas(imageUrl) {\n    console.log('Adding image:', imageUrl);\n    return new Promise((resolve, reject) => {\n        fabric.Image.fromURL(imageUrl, function(img) {\n            if (!img) {\n                console.error('Image failed to load');\n                reject();\n                return;\n            }\n            console.log('Image loaded successfully');\n            \n            const scaleFactor = 100 / img.height;\n            if (scaleFactor < 1) img.scale(scaleFactor);\n            \n            img.set({\n                left: 0,\n                selectable: true,\n                hasControls: false,\n                evented: true\n            });\n            \n            state.image = img;\n            canvas.add(img);\n            resolve();\n        }, { crossOrigin: null });\n    });\n}\n\nScript.Signals.Setup = function() {\n    console.log('Setup signal called');\n    const element = Script.Inputs.This.getDOMElement();\n    if (!element) {\n        console.error('No element found');\n        return;\n    }\n\n    if (!element.querySelector('canvas')) {\n        console.log('Creating new canvas element');\n        const canvasElement = document.createElement('canvas');\n        canvasElement.id = 'fabricCanvas';\n        canvasElement.width = Script.Inputs.CanvasWidth || 600;\n        canvasElement.height = Script.Inputs.CanvasHeight || 160;\n        element.appendChild(canvasElement);\n    }\n\n    const canvasElement = element.querySelector('canvas');\n    if (!canvasElement) {\n        console.error('Canvas element not found after creation');\n        return;\n    }\n\n    if (!canvasInitialized && window.fabric) {\n        console.log('Creating Fabric canvas instance');\n        try {\n            canvas = new fabric.Canvas(canvasElement);\n            window.appState.canvas = canvas; // Store in global state\n            initializeCanvas();\n            canvasInitialized = true;\n            window.appState.canvasInitialized = true;\n            console.log('Canvas initialized with dimensions:', {\n                width: canvas.width,\n                height: canvas.height\n            });\n            console.log('Canvas state:', canvas);\n        } catch (error) {\n            console.error('Error during canvas initialization:', error);\n        }\n    } else {\n        console.log('Canvas already initialized or Fabric not ready:', {\n            canvasInitialized,\n            fabricAvailable: !!window.fabric\n        });\n    }\n    Script.Outputs.CanvasReady();\n};\n\nScript.Signals.UpdateLabel = async function() {\n    console.log('UpdateLabel called with:', {\n        canvas: !!canvas,\n        imageUrl: Script.Inputs.ImageUrl,\n        text: Script.Inputs.Text,\n        phone: Script.Inputs.Phone\n    });\n\n    if (!canvas) {\n        console.error('Canvas not initialized');\n        return;\n    }\n\n    console.log('Current canvas state before clear:', {\n        objects: canvas.getObjects().length,\n        background: canvas.backgroundColor\n    });\n\n    canvas.clear();\n    initializeCanvas();\n\n    if (Script.Inputs.ImageUrl) {\n        try {\n            await addImageToCanvas(Script.Inputs.ImageUrl);\n        } catch (error) {\n            console.error('Failed to add image:', error);\n        }\n    }\n\n    if (Script.Inputs.Text) {\n        state.text = createTextObject(Script.Inputs.Text, Script.Inputs.Phone);\n        canvas.add(state.text);\n        state.text.top = (canvas.height - state.text.height) / 2;\n    }\n\n    canvas.renderAll();\n    console.log('Canvas updated');\n};\n\nScript.Signals.SetBackgroundColor = function() {\n    if (!canvas || !Script.Inputs.colour) return;\n    state.backgroundColor = Script.Inputs.colour;\n    canvas.setBackgroundColor(state.backgroundColor, canvas.renderAll.bind(canvas));\n};\n\nScript.Signals.ExportImage = function() {\n    console.log('ExportImage called');\n    \n    // Check for canvas in both local and global state\n    if (!canvas && window.appState && window.appState.canvas) {\n        console.log('Retrieving canvas from global state');\n        canvas = window.appState.canvas;\n    }\n    \n    if (!canvas) {\n        console.error('Canvas is null, cannot export');\n        return;\n    }\n    \n    try {\n        console.log('Starting export process');\n        \n        // Get the text values from inputs\n        const mainText = Script.Inputs.Text || '';\n        const phoneText = Script.Inputs.Phone || '';\n        console.log('Main text:', mainText);\n        console.log('Phone text:', phoneText);\n        \n        // Find the existing text object on the canvas\n        const currentObjects = canvas.getObjects();\n        const existingTextObject = currentObjects.find(obj => obj instanceof fabric.Textbox);\n        const imageObject = currentObjects.find(obj => obj instanceof fabric.Image);\n        \n        // Debug the existing text object\n        if (existingTextObject) {\n            console.log('Found existing text object:', {\n                text: existingTextObject.text,\n                width: existingTextObject.width,\n                height: existingTextObject.height\n            });\n        }\n        \n        console.log('Current canvas objects:', {\n            total: currentObjects.length,\n            hasImage: !!imageObject,\n            hasText: !!existingTextObject\n        });\n        \n        // Save the entire canvas for restoration\n        const originalCanvasJSON = canvas.toJSON();\n        \n        // Function to generate export\n        const generateExport = (filename) => {\n            return new Promise(resolve => {\n                try {\n                    console.log(`Generating export for: ${filename}`);\n                    canvas.renderAll();\n                    \n                    setTimeout(() => {\n                        try {\n                            const dataURL = canvas.toDataURL({\n                                format: 'png',\n                                quality: 1\n                            });\n                            console.log('DataURL generated successfully');\n                            \n                            // Convert to File object\n                            const byteString = atob(dataURL.split(',')[1]);\n                            const ab = new ArrayBuffer(byteString.length);\n                            const ia = new Uint8Array(ab);\n                            \n                            for (let i = 0; i < byteString.length; i++) {\n                                ia[i] = byteString.charCodeAt(i);\n                            }\n                            \n                            const blob = new Blob([ab], {type: 'image/png'});\n                            const file = new File([blob], filename, {type: 'image/png'});\n                            console.log(`Export file created: ${filename}`);\n                            resolve(file);\n                        } catch (error) {\n                            console.error('Error generating export:', error);\n                            resolve(null);\n                        }\n                    }, 200);\n                } catch (error) {\n                    console.error('Error in generateExport:', error);\n                    resolve(null);\n                }\n            });\n        };\n        \n        // Function to reset canvas\n        const resetCanvas = () => {\n            canvas.clear();\n            initializeCanvas();\n            canvas.renderAll();\n            console.log('Canvas reset complete');\n        };\n        \n        // Function to add image to canvas\n        const addImageToCanvas = async () => {\n            if (!imageObject) {\n                console.log('No image to add');\n                return;\n            }\n            \n            return new Promise((resolve) => {\n                try {\n                    const imgElement = imageObject.getElement();\n                    const imgSrc = imgElement.src;\n                    \n                    console.log('Adding image to canvas');\n                    fabric.Image.fromURL(imgSrc, function(newImg) {\n                        if (!newImg) {\n                            console.error('Failed to create image');\n                            resolve();\n                            return;\n                        }\n                        \n                        newImg.set({\n                            left: imageObject.left,\n                            top: imageObject.top,\n                            scaleX: imageObject.scaleX,\n                            scaleY: imageObject.scaleY,\n                            angle: imageObject.angle,\n                            selectable: true,\n                            hasControls: false\n                        });\n                        \n                        canvas.add(newImg);\n                        canvas.renderAll();\n                        console.log('Image added successfully');\n                        resolve();\n                    }, { crossOrigin: null });\n                } catch (error) {\n                    console.error('Error adding image:', error);\n                    resolve();\n                }\n            });\n        };\n        \n        // Function to add text to canvas (uses existing text properties if available)\n        const addTextToCanvas = (textContent, copyFrom = null) => {\n            if (!textContent) {\n                console.log('No text content to add');\n                return null;\n            }\n            \n            console.log('Adding text to canvas:', textContent);\n            \n            // Create text properties, copying from existing text if available\n            const textProps = {\n                left: 100,\n                top: 20,\n                width: 300,\n                fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif',\n                fontSize: Script.Inputs.FontSize || 42,\n                lineHeight: 0.8,\n                fill: Script.Inputs.TextColor || 'white',\n                textAlign: 'center',\n                originX: 'left',\n                originY: 'top',\n                selectable: true,\n                hasControls: true,\n                cornerSize: 10,\n                cornerStyle: 'circle',\n                transparentCorners: false,\n                evented: true,\n                stroke: Script.Inputs.TextStrokeColor || 'black',\n                strokeWidth: Script.Inputs.TextStrokeWidth || 1,\n                shadow: new fabric.Shadow({\n                    color: Script.Inputs.TextShadowColor || 'rgba(0,0,0,0.5)',\n                    blur: Script.Inputs.TextShadowBlur || 5,\n                    offsetX: Script.Inputs.TextShadowOffsetX || 2,\n                    offsetY: Script.Inputs.TextShadowOffsetY || 2\n                })\n            };\n            \n            // Copy properties from existing text if available\n            if (copyFrom && copyFrom instanceof fabric.Textbox) {\n                console.log('Copying properties from existing text');\n                textProps.left = copyFrom.left;\n                textProps.fontFamily = copyFrom.fontFamily;\n                textProps.fontSize = copyFrom.fontSize;\n                textProps.lineHeight = copyFrom.lineHeight;\n                textProps.fill = copyFrom.fill;\n                textProps.stroke = copyFrom.stroke;\n                textProps.strokeWidth = copyFrom.strokeWidth;\n                \n                if (copyFrom.shadow) {\n                    textProps.shadow = new fabric.Shadow({\n                        color: copyFrom.shadow.color,\n                        blur: copyFrom.shadow.blur,\n                        offsetX: copyFrom.shadow.offsetX,\n                        offsetY: copyFrom.shadow.offsetY\n                    });\n                }\n            }\n            \n            // Create the text object\n            const textObj = new fabric.Textbox(textContent, textProps);\n            \n            // Center vertically\n            textObj.top = (canvas.height - textObj.height) / 2;\n            \n            canvas.add(textObj);\n            canvas.renderAll();\n            console.log('Text added successfully');\n            \n            return textObj;\n        };\n        \n        // Main export process\n        const doExport = async () => {\n            try {\n                // 1. USER VERSION (with phone number if present)\n                console.log('Creating user version (with phone if present)');\n                resetCanvas();\n                await addImageToCanvas();\n                \n                // Determine text for user version\n                let userVersionText = '';\n                \n                if (existingTextObject) {\n                    // Use the text from the existing text object in the canvas\n                    userVersionText = existingTextObject.text;\n                    console.log('Using existing text for user version:', userVersionText);\n                } else if (mainText || phoneText) {\n                    // Combine main text and phone text\n                    userVersionText = phoneText ? \n                        (mainText ? `${mainText}\\n${phoneText}` : phoneText) : \n                        mainText;\n                    console.log('Created combined text for user version:', userVersionText);\n                }\n                \n                // Add text to user version\n                if (userVersionText) {\n                    addTextToCanvas(userVersionText, existingTextObject);\n                }\n                \n                // Generate and save user version\n                const userFile = await generateExport('user_export.png');\n                if (userFile) {\n                    Script.Outputs.ImageFile = userFile;\n                    console.log('User version export complete');\n                }\n                \n                // 2. COMMUNITY VERSION (without phone number)\n                console.log('Creating community version (without phone)');\n                resetCanvas();\n                await addImageToCanvas();\n                \n                // Determine text for community version\n                let communityVersionText = '';\n                \n                if (existingTextObject) {\n                    // Extract main text from existing text object (first line only)\n                    const textLines = existingTextObject.text.split('\\n');\n                    communityVersionText = textLines[0] || '';\n                    console.log('Extracted first line for community version:', communityVersionText);\n                } else if (mainText) {\n                    communityVersionText = mainText;\n                    console.log('Using main text for community version:', communityVersionText);\n                } else if (phoneText && !mainText) {\n                    // If there's only phone text, use that for community version\n                    communityVersionText = phoneText;\n                    console.log('Using phone text for community version (no main text):', communityVersionText);\n                }\n                \n                // Add text to community version\n                if (communityVersionText) {\n                    addTextToCanvas(communityVersionText, existingTextObject);\n                }\n                \n                // Generate and save community version\n                const communityFile = await generateExport('community_export.png');\n                if (communityFile) {\n                    Script.Outputs.MainTextImageFile = communityFile;\n                    console.log('Community version export complete');\n                }\n                \n                // 3. RESTORE ORIGINAL CANVAS STATE\n                console.log('Restoring original canvas state');\n                canvas.clear();\n                canvas.loadFromJSON(originalCanvasJSON, function() {\n                    console.log('Original canvas state restored');\n                    canvas.renderAll();\n                    \n                    // Signal export completion\n                    Script.Outputs.ImageExported();\n                    console.log('Export process complete');\n                });\n            } catch (error) {\n                console.error('Error in export process:', error);\n                \n                // Try to restore canvas\n                try {\n                    canvas.loadFromJSON(originalCanvasJSON, function() {\n                        console.log('Canvas restored after error');\n                        canvas.renderAll();\n                    });\n                } catch (restoreError) {\n                    console.error('Failed to restore canvas:', restoreError);\n                }\n                \n                Script.Outputs.ImageExported();\n            }\n        };\n        \n        // Start the export process\n        doExport();\n    } catch (error) {\n        console.error('Unhandled error in ExportImage:', error);\n        Script.Outputs.ImageExported();\n    }\n};\n\nScript.Signals.UpdateFont = function() {\n    if (!canvas || !state.text || !Script.Inputs.NewFont) return;\n    \n    state.text.set('fontFamily', Script.Inputs.NewFont);\n    canvas.renderAll();\n};\n\nScript.OnDestroy = function() {\n    if (canvas) {\n        canvas.dispose();\n        canvas = null;\n        canvasInitialized = false;\n    }\n    \n    // Also clean up global state\n    if (window.appState) {\n        window.appState.canvas = null;\n        window.appState.canvasInitialized = false;\n    }\n};","scriptInputs":[{"id":"eoio","label":"CanvasWidth"},{"id":"ewxt","label":"CanvasHeight"}],"intype-CanvasWidth":"number","intype-CanvasHeight":"number"},"ports":[{"name":"intype-CanvasWidth","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"eoio","index":5},{"name":"CanvasWidth","plug":"input","type":"number","group":"Inputs","index":6},{"name":"intype-CanvasHeight","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"ewxt","index":7},{"name":"CanvasHeight","plug":"input","type":"number","group":"Inputs","index":8},{"name":"Setup","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"UpdateLabel","plug":"input","type":{"name":"signal"},"group":"Inputs","index":10},{"name":"SetBackgroundColor","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"ExportImage","plug":"input","type":{"name":"signal"},"group":"Inputs","index":12},{"name":"UpdateFont","plug":"input","type":{"name":"signal"},"group":"Inputs","index":13},{"name":"CornerRadius","displayName":"CornerRadius","plug":"input","type":"*","group":"Inputs","index":14},{"name":"FontFamily","displayName":"FontFamily","plug":"input","type":"*","group":"Inputs","index":15},{"name":"FontSize","displayName":"FontSize","plug":"input","type":"*","group":"Inputs","index":16},{"name":"TextColor","displayName":"TextColor","plug":"input","type":"*","group":"Inputs","index":17},{"name":"TextStrokeColor","displayName":"TextStrokeColor","plug":"input","type":"*","group":"Inputs","index":18},{"name":"TextStrokeWidth","displayName":"TextStrokeWidth","plug":"input","type":"*","group":"Inputs","index":19},{"name":"TextShadowColor","displayName":"TextShadowColor","plug":"input","type":"*","group":"Inputs","index":20},{"name":"TextShadowBlur","displayName":"TextShadowBlur","plug":"input","type":"*","group":"Inputs","index":21},{"name":"TextShadowOffsetX","displayName":"TextShadowOffsetX","plug":"input","type":"*","group":"Inputs","index":22},{"name":"TextShadowOffsetY","displayName":"TextShadowOffsetY","plug":"input","type":"*","group":"Inputs","index":23},{"name":"This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":24},{"name":"ImageUrl","displayName":"ImageUrl","plug":"input","type":"*","group":"Inputs","index":25},{"name":"Text","displayName":"Text","plug":"input","type":"*","group":"Inputs","index":26},{"name":"Phone","displayName":"Phone","plug":"input","type":"*","group":"Inputs","index":27},{"name":"colour","displayName":"colour","plug":"input","type":"*","group":"Inputs","index":28},{"name":"NewFont","displayName":"NewFont","plug":"input","type":"*","group":"Inputs","index":29},{"name":"CanvasReady","displayName":"CanvasReady","plug":"output","type":"signal","group":"Outputs","index":30},{"name":"ImageExported","displayName":"ImageExported","plug":"output","type":"signal","group":"Outputs","index":31},{"name":"ImageFile","displayName":"ImageFile","plug":"output","type":"*","group":"Outputs","index":32},{"name":"MainTextImageFile","displayName":"MainTextImageFile","plug":"output","type":"*","group":"Outputs","index":33}],"children":[]},{"id":"e90a7799-3e07-0302-d190-a83e5c4a0205","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"57b21a62-1d11-6cc5-be08-23f094a11e6c","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"ac7c28f0-8321-8aa4-61c0-2a3324c6d3a7","type":"Javascript2","parameters":{"code":"let canvas = null;\n\n// Font loading function\nfunction loadFont(fontName, fontUrl) {\n    const font = new FontFace(fontName, `url(${fontUrl})`);\n    font.load().then((loadedFont) => {\n        document.fonts.add(loadedFont);\n        console.log(`Font ${fontName} loaded successfully`);\n        // Refresh the canvas to apply the new font\n        if (canvas) {\n            canvas.renderAll();\n        }\n    }).catch((error) => {\n        console.error(`Error loading font ${fontName}:`, error);\n    });\n}\n\n// Global variable to track if canvas has been initialized\nlet canvasInitialized = false;\n\nScript.Signals.Setup = function () {\n    const element = Script.Inputs.This.getDOMElement();\n\n    if (!element) {\n        console.error('No element received from This input');\n        return;\n    }\n\n    if (!element.querySelector('canvas')) {\n        const canvasElement = document.createElement('canvas');\n        canvasElement.id = 'fabricCanvas';\n        canvasElement.width = Script.Inputs.CanvasWidth || 600;\n        canvasElement.height = Script.Inputs.CanvasHeight || 160;\n        element.appendChild(canvasElement);\n        console.log('Canvas element created and appended');\n    }\n\n    const canvasElement = element.querySelector('canvas');\n\n    if (!canvasElement) {\n        console.error('Canvas element could not be found');\n        return;\n    }\n\n    if (!canvasInitialized) {\n        try {\n            canvas = new fabric.Canvas(canvasElement);\n\n            // Add rounded corners\n            const radius = Script.Inputs.CornerRadius || 20;\n            const rect = new fabric.Rect({\n                width: canvas.width,\n                height: canvas.height,\n                rx: radius,\n                ry: radius,\n                fill: 'transparent'\n            });\n            canvas.clipPath = rect;\n\n            // Set background color\n            const defaultBackgroundColor = \"#FFE6D5\";\n            const bgColor = Script.Inputs.BackgroundColor || defaultBackgroundColor;\n            canvas.setBackgroundColor(bgColor, canvas.renderAll.bind(canvas));\n            canvas.initialBackgroundColor = bgColor;\n\n            canvasInitialized = true;\n        } catch (error) {\n            console.error('Failed to initialize Fabric.js canvas:', error);\n        }\n    }\n\n    Script.Outputs.CanvasReady();\n};\n\n/*\nScript.Signals.AddText = function () {\n    if (canvas) {\n        const textAreaWidth = 400; // 600px - 200px\n        const text = new fabric.Textbox(Script.Inputs.Text || 'Editable Text', {\n            left: 140,\n            top: 50, // You can adjust this value as needed\n            width: textAreaWidth,\n            fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif',\n            fontSize: Script.Inputs.FontSize || 80,\n            fill: Script.Inputs.TextColor || 'black',\n            textAlign: 'center',\n            originX: 'left',\n            originY: 'top',\n            selectable: true,   // Allow the text to be selected and moved\n            hasControls: false, // Disable controls for resizing or rotating\n            evented: true       // Enable interaction events\n        });\n\n        // Center the text vertically within the canvas\n        text.top = (canvas.height - text.height) / 2;\n\n        canvas.add(text);\n        canvas.renderAll();\n    }\n};\n*/\n\nScript.Signals.AddText = function () {\n    if (canvas) {\n        const textAreaWidth = 300; // 600px - 200px\n        const text = new fabric.Textbox(Script.Inputs.Text || 'Editable Text', {\n            left: 100,\n            top: 10,  // Default top value\n            width: textAreaWidth,\n            fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif',\n            fontSize: Script.Inputs.FontSize || 50,\n            fill: Script.Inputs.TextColor || 'white', // Default to white text\n            textAlign: 'center',\n            originX: 'left',\n            originY: 'top',\n            selectable: true,\n            hasControls: false,\n            evented: true,\n            stroke: Script.Inputs.TextStrokeColor || 'black', // Add an outline\n            strokeWidth: Script.Inputs.TextStrokeWidth || 1, // Thin stroke by default\n            shadow: new fabric.Shadow({\n                color: Script.Inputs.TextShadowColor || 'rgba(0,0,0,0.5)',\n                blur: Script.Inputs.TextShadowBlur || 5,\n                offsetX: Script.Inputs.TextShadowOffsetX || 2,\n                offsetY: Script.Inputs.TextShadowOffsetY || 2\n            })\n        });\n\n        // Check if there is a phone input; if it's empty or undefined, center vertically\n        const phoneText = Script.Inputs.Phone;\n        if (!phoneText) {\n            // Center the text vertically within the canvas\n            text.top = (canvas.height - text.height) / 2;\n        } else {\n            // Keep it aligned towards the top when the phone input is non-empty\n            text.top = 0;\n        }\n\n        canvas.add(text);\n        canvas.renderAll();\n    }\n};\n\n\nScript.Signals.AddPhone = function () {\n    if (canvas) {\n        const textAreaWidth = 300; // 600px - 200px\n        const text = new fabric.Textbox(Script.Inputs.Phone || 'Editable Text', {\n            left: 100,\n            top: 60,\n            width: textAreaWidth,\n            fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif',\n            fontSize: Script.Inputs.FontSize || 30,\n            fill: Script.Inputs.TextColor || 'white', // Default to white text\n            textAlign: 'center',\n            originX: 'left',\n            originY: 'top',\n            selectable: true,\n            hasControls: false,\n            evented: true,\n            stroke: Script.Inputs.TextStrokeColor || 'black', // Add an outline\n            strokeWidth: Script.Inputs.TextStrokeWidth || 1, // Thin stroke by default\n            shadow: new fabric.Shadow({\n                color: Script.Inputs.TextShadowColor || 'rgba(0,0,0,0.5)',\n                blur: Script.Inputs.TextShadowBlur || 5,\n                offsetX: Script.Inputs.TextShadowOffsetX || 2,\n                offsetY: Script.Inputs.TextShadowOffsetY || 2\n            })\n        });\n\n        // Center the text vertically within the canvas\n        //text.top = (canvas.height - text.height) / 2;\n\n        canvas.add(text);\n        canvas.renderAll();\n    }\n};\n\n// Global object to track added images\nlet addedImages = {};\n\nScript.Signals.AddImageFromUrl = function () {\n    const imageUrl = Script.Inputs.ImageUrl;\n    const layerIndex = Script.Inputs.LayerIndex || 0;\n\n    if (canvas && imageUrl) {\n        // Check if this image URL has already been added\n        if (addedImages[imageUrl]) {\n            console.log('Image already added, skipping');\n            return;\n        }\n\n        fabric.Image.fromURL(imageUrl, function (img) {\n            // Double-check to prevent race conditions\n            if (addedImages[imageUrl]) {\n                console.log('Image already added (race condition), skipping');\n                return;\n            }\n\n            // Calculate scaling factor to fit height to 200px max\n            const scaleFactor = 100 / img.height;\n            \n            // Only scale down, not up\n            if (scaleFactor < 1) {\n                img.scale(scaleFactor);\n            }\n\n            // Set properties to allow moving but not resizing\n            img.set({\n                selectable: true,\n                hasControls: false,\n                evented: true\n            });\n\n            // Generate a unique id for this image\n            const uniqueId = 'img_' + Date.now();\n            img.set('id', uniqueId);\n\n            // Insert the image at the specified layer index\n            canvas.insertAt(img, layerIndex);\n            canvas.renderAll();\n\n            // Mark this image URL as added\n            addedImages[imageUrl] = uniqueId;\n\n            console.log('Image added successfully:');\n        }, { \n            crossOrigin: 'anonymous',\n        });\n    }\n};\n\nScript.Signals.addBackground = function () {\n    const imageUrl = Script.Inputs.backgroundUrl;\n    const layerIndex = 0; \n\n    if (canvas && imageUrl) {\n        fabric.Image.fromURL(imageUrl, function (img) {\n            // Calculate scaling factor to fit height to 200px max\n            const scaleFactor = 160 / img.height;\n            \n            // Only scale down, not up\n            if (scaleFactor < 1) {\n                img.scale(scaleFactor);\n            }\n\n            // Set properties to allow moving but not resizing\n            img.set({\n                selectable: false,\n                hasControls: false,\n                evented: true\n            });\n\n            // Insert the image at the specified layer index\n            canvas.insertAt(img, layerIndex);\n            canvas.renderAll();\n        }, { \n            crossOrigin: 'anonymous',\n        });\n    }\n};\n\n// Updated signal to export the canvas as an image file\nScript.Signals.ExportAsImage = function () {\n    if (canvas) {\n        const imageData = canvas.toDataURL({\n            format: 'png',\n            quality: 1\n        });\n\n        // Convert base64 to blob\n        const byteString = atob(imageData.split(',')[1]);\n        const mimeString = imageData.split(',')[0].split(':')[1].split(';')[0];\n        const ab = new ArrayBuffer(byteString.length);\n        const ia = new Uint8Array(ab);\n        for (let i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n        const blob = new Blob([ab], {type: mimeString});\n\n        // Create a File object\n        const fileName = 'canvas_export.png';\n        const file = new File([blob], fileName, {type: 'image/png'});\n\n        Script.Outputs.ImageFile = file;\n        Script.Outputs.ImageExported();\n    }\n};\n\n// Update ResetCanvas function to clear the addedImages tracker\nScript.Signals.ResetCanvas = function () {\n    if (canvas) {\n        // Clear all objects from the canvas\n        canvas.clear();\n        \n        // Reset the clip path (rounded corners)\n        const radius = Script.Inputs.CornerRadius || 20;\n        const rect = new fabric.Rect({\n            width: canvas.width,\n            height: canvas.height,\n            rx: radius,\n            ry: radius,\n            fill: 'transparent'\n        });\n        canvas.clipPath = rect;\n        \n        // Reapply the initial background color\n        const bgColor = canvas.initialBackgroundColor || Script.Inputs.BackgroundColor || \"#FFE6D5\";\n        canvas.setBackgroundColor(bgColor, canvas.renderAll.bind(canvas));\n        \n        // Clear the addedImages tracker\n        addedImages = {};\n        \n        console.log('Canvas reset completed');\n        canvas.renderAll();\n    } else {\n        console.log('Canvas not initialized, unable to reset');\n    }\n};\n\n// Cleanup when the node is unmounted\nScript.OnDestroy = function () {\n    if (canvas) {\n        canvas.dispose();\n        canvas = null;\n    }\n};\n\nScript.Signals.DeleteSelectedObject = function () {\n    if (canvas) {\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            canvas.remove(activeObject);\n            canvas.renderAll();\n        } else {\n            console.log('No object selected to delete');\n        }\n    }\n};\n\n// New signal to set the background color\nScript.Signals.SetBackgroundColor = function () {\n    if (canvas) {\n        const color = Script.Inputs.colour;\n        if (color) {\n            canvas.setBackgroundColor(color, canvas.renderAll.bind(canvas));\n        } else {\n            console.log('No color specified for background');\n        }\n    }\n};","scriptInputs":[{"id":"eoio","label":"CanvasWidth"},{"id":"ewxt","label":"CanvasHeight"}],"intype-CanvasWidth":"number","intype-CanvasHeight":"number"},"ports":[{"name":"intype-CanvasWidth","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"eoio","index":5},{"name":"CanvasWidth","plug":"input","type":"number","group":"Inputs","index":6},{"name":"intype-CanvasHeight","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"ewxt","index":7},{"name":"CanvasHeight","plug":"input","type":"number","group":"Inputs","index":8},{"name":"Setup","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"AddText","plug":"input","type":{"name":"signal"},"group":"Inputs","index":10},{"name":"AddPhone","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"AddImageFromUrl","plug":"input","type":{"name":"signal"},"group":"Inputs","index":12},{"name":"addBackground","plug":"input","type":{"name":"signal"},"group":"Inputs","index":13},{"name":"ExportAsImage","plug":"input","type":{"name":"signal"},"group":"Inputs","index":14},{"name":"ResetCanvas","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"DeleteSelectedObject","plug":"input","type":{"name":"signal"},"group":"Inputs","index":16},{"name":"SetBackgroundColor","plug":"input","type":{"name":"signal"},"group":"Inputs","index":17},{"name":"This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":18},{"name":"CornerRadius","displayName":"CornerRadius","plug":"input","type":"*","group":"Inputs","index":19},{"name":"BackgroundColor","displayName":"BackgroundColor","plug":"input","type":"*","group":"Inputs","index":20},{"name":"Text","displayName":"Text","plug":"input","type":"*","group":"Inputs","index":21},{"name":"FontFamily","displayName":"FontFamily","plug":"input","type":"*","group":"Inputs","index":22},{"name":"FontSize","displayName":"FontSize","plug":"input","type":"*","group":"Inputs","index":23},{"name":"TextColor","displayName":"TextColor","plug":"input","type":"*","group":"Inputs","index":24},{"name":"TextStrokeColor","displayName":"TextStrokeColor","plug":"input","type":"*","group":"Inputs","index":25},{"name":"TextStrokeWidth","displayName":"TextStrokeWidth","plug":"input","type":"*","group":"Inputs","index":26},{"name":"TextShadowColor","displayName":"TextShadowColor","plug":"input","type":"*","group":"Inputs","index":27},{"name":"TextShadowBlur","displayName":"TextShadowBlur","plug":"input","type":"*","group":"Inputs","index":28},{"name":"TextShadowOffsetX","displayName":"TextShadowOffsetX","plug":"input","type":"*","group":"Inputs","index":29},{"name":"TextShadowOffsetY","displayName":"TextShadowOffsetY","plug":"input","type":"*","group":"Inputs","index":30},{"name":"Phone","displayName":"Phone","plug":"input","type":"*","group":"Inputs","index":31},{"name":"ImageUrl","displayName":"ImageUrl","plug":"input","type":"*","group":"Inputs","index":32},{"name":"LayerIndex","displayName":"LayerIndex","plug":"input","type":"*","group":"Inputs","index":33},{"name":"backgroundUrl","displayName":"backgroundUrl","plug":"input","type":"*","group":"Inputs","index":34},{"name":"colour","displayName":"colour","plug":"input","type":"*","group":"Inputs","index":35},{"name":"CanvasReady","displayName":"CanvasReady","plug":"output","type":"signal","group":"Outputs","index":36},{"name":"ImageExported","displayName":"ImageExported","plug":"output","type":"signal","group":"Outputs","index":37},{"name":"ImageFile","displayName":"ImageFile","plug":"output","type":"*","group":"Outputs","index":38}],"children":[]},{"id":"dc222afe-d16e-de37-5031-2c0dac98be62","type":"Variable2","parameters":{"name":"canvasPreviewThis"},"ports":[],"children":[]}],"connections":[{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"Run","targetId":"3813ae8c-be44-a6d6-ed79-61c046e24603","targetPort":"run"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"Add ImageUrl","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"ImageUrl"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"Phone","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"Phone"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"Run","targetId":"3813ae8c-be44-a6d6-ed79-61c046e24603","targetPort":"run"},{"sourceId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","sourcePort":"ImageExported","targetId":"57b21a62-1d11-6cc5-be08-23f094a11e6c","targetPort":"Image Exported"},{"sourceId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","sourcePort":"ImageFile","targetId":"57b21a62-1d11-6cc5-be08-23f094a11e6c","targetPort":"Export File User"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"canvas width","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"CanvasWidth"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"canvas height","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"CanvasHeight"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"Name","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"Text"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"BackgroundColor","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"colour"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"ExportAsImage","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"ExportImage"},{"sourceId":"dc222afe-d16e-de37-5031-2c0dac98be62","sourcePort":"value","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"This"},{"sourceId":"3813ae8c-be44-a6d6-ed79-61c046e24603","sourcePort":"out-Loaded","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"Setup"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"AddText","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"UpdateLabel"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"addBackground","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"SetBackgroundColor"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"changeFont","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"UpdateFont"},{"sourceId":"e90a7799-3e07-0302-d190-a83e5c4a0205","sourcePort":"fontFamily","targetId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","targetPort":"NewFont"},{"sourceId":"319d7186-a007-008c-4abc-21ffdeb2e4e6","sourcePort":"MainTextImageFile","targetId":"57b21a62-1d11-6cc5-be08-23f094a11e6c","targetPort":"Export File Community"}],"ports":[{"name":"Image Exported","type":"signal","plug":"output","index":0},{"name":"Canvas group 'this' output","type":"*","plug":"input","index":0},{"name":"Export File User","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Export File Community","type":"*","plug":"output","index":2},{"name":"Add text","type":"*","plug":"input","index":2},{"name":"Add ImageUrl","type":"*","group":"Inputs","plug":"input","index":3},{"name":"ResetCanvas","type":"*","plug":"input","index":4},{"name":"BackgroundColor","type":"*","group":"Inputs","plug":"input","index":5},{"name":"ExportAsImage","type":{"name":"signal"},"group":"Inputs","plug":"input","index":6},{"name":"AddImageFromUrl","type":"*","plug":"input","index":7},{"name":"AddText","type":{"name":"signal"},"group":"Inputs","plug":"input","index":8},{"name":"backgroundUrl","type":"*","plug":"input","index":11},{"name":"addBackground","type":{"name":"signal"},"group":"Inputs","plug":"input","index":12},{"name":"Phone","type":"*","group":"Inputs","plug":"input","index":13},{"name":"Add phone","type":"*","plug":"input","index":14},{"name":"canvas width","type":"number","group":"Inputs","plug":"input","index":16},{"name":"canvas height","type":"number","group":"Inputs","plug":"input","index":17},{"name":"Name","type":"*","group":"Inputs","plug":"input","index":18},{"name":"changeFont","type":{"name":"signal"},"group":"Inputs","plug":"input","index":19},{"name":"fontFamily","type":"*","group":"Inputs","plug":"input","index":20}],"roots":[]},{"name":"/Main/Loading popup","nodes":[{"id":"d58119cb-d409-edd4-b29d-6248447fa67c","type":"Group","parameters":{"position":"relative","backgroundColor":"#00000099","zIndex":99},"ports":[],"children":[{"id":"63f2a4f1-135a-e9dc-03e9-7f30960f2589","type":"Group","parameters":{"width":{"value":300,"unit":"px"},"position":"absolute","alignY":"center","alignX":"center","justifyContent":"center","sizeMode":"contentHeight","rowGap":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"fab6f6a2-c8e0-c064-19ea-74358b5ca45d","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"a1b61ee2-dfef-69dd-eedc-8fe82149be5b","type":"Lottie","parameters":{"path":"assets/robot-lottie.json","loop":true,"renderer":"svg"},"ports":[],"children":[]},{"id":"e21d0843-498f-b347-2105-c2e6b19c75a5","type":"Text","parameters":{"text":"Creating a unique label just for you!","textStyle":"Title Medium","textAlignX":"center","fontFamily":"fonts/Fredoka/static/Fredoka-Regular.ttf","fontSize":{"value":26,"unit":"px"},"color":"Primary Light","marginTop":{"value":-40,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"e06e7b1c-6a1e-e978-0a38-0770035ac02b","type":"Group","parameters":{"sizeMode":"contentHeight","rowGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"8592fd9d-4258-bced-90aa-c2507bf86a32","type":"Group","parameters":{"sizeMode":"contentHeight","rowGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"2d456278-b9ef-c516-cf25-08ceb4244269","type":"Text","parameters":{"text":"Free delivery? Sign up here:","textStyle":"Title Small","textAlignX":"center","fontFamily":"fonts/Fredoka/static/Fredoka-Regular.ttf","fontSize":{"value":18,"unit":"px"},"color":"Primary Light","marginTop":{"value":-40,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[]},{"id":"277a67f2-433e-6eb1-b6a4-dc6096d0b6b8","type":"net.noodl.controls.textinput","parameters":{"backgroundColor":"White","useLabel":false,"placeholder":"Enter your email"},"ports":[],"children":[]},{"id":"23484528-7b0b-5c94-4577-bb1ead483072","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"alignX":"center","label":"Submit"},"stateParameters":{"hover":{"backgroundColor":"#6DD3CEBC"}},"ports":[],"children":[]}]},{"id":"5cdfc5ea-95f7-5c89-2c92-19b279c518ad","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"alignX":"center","label":"Close"},"stateParameters":{"hover":{"backgroundColor":"#6DD3CEBC"}},"ports":[],"children":[]}]}]}]},{"id":"b2b673bc-db05-109e-1f56-59cb7d68190c","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"6cdde0ad-4908-7da3-c7bd-f03ed917472c","type":"Event Receiver","parameters":{"channelName":"aiComplete"},"ports":[],"children":[]},{"id":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","type":"JavaScriptFunction","parameters":{"functionScript":"const apiKey = Inputs.ApiKey || '';\nif (!apiKey) throw new Error('Invalid API key');\n\nconst email = Inputs.Email || '';\nif (!email) throw new Error('Email is required');\n\nconst listId = Inputs.ListId || '';\nif (!listId) throw new Error('List ID is required');\n\nconst url = `https://api.brevo.com/v3/contacts`;\n\nconst body = {\n  email: email,\n  listIds: [listId]\n};\n\ntry {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'api-key': apiKey\n    },\n    body: JSON.stringify(body)\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    Outputs.error = errorData;\n    Outputs.Failure();\n    return;\n  }\n\n  const data = await response.json();\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-ApiKey","displayName":"ApiKey","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-ListId","displayName":"ListId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"113abcf1-5eba-db97-14fa-0b653b0512e7","type":"Expression","parameters":{"expression":"email"},"ports":[],"children":[]},{"id":"200348fa-5d3b-29b0-7865-8239f4ab9891","type":"String","parameters":{},"ports":[],"children":[]},{"id":"d2dbce87-2d67-2271-dd11-894573cac87b","type":"DbConfig","parameters":{"configKey":"BrevoAPIKey"},"ports":[],"children":[]},{"id":"45d624d1-0b87-e11b-3854-5b10a7572d8a","type":"States","parameters":{"states":"mounted,canClose"},"ports":[],"children":[]},{"id":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","type":"Expression","parameters":{"expression":"focussed || text"},"ports":[],"children":[]},{"id":"43721346-7d54-fcbe-5602-b262e7fbdb56","type":"/Show Toast","parameters":{"Message":"Signup successful!","Type":"Success"},"ports":[],"children":[]},{"id":"382793ec-d9f1-923d-e1c5-6e1ad9e74680","type":"/Show Toast","parameters":{"Message":"Sorry, something went wrong. Please try again","Type":"Warning"},"ports":[],"children":[]},{"id":"6c23e728-5af0-104b-557b-36be80902b64","type":"Expression","parameters":{"expression":"state === \"canClose\""},"ports":[],"children":[]},{"id":"c32e9a64-bf12-bf02-8237-8de3ab2e470a","type":"States","parameters":{"states":"notSubmitted,submitted","useTransitions":false},"ports":[],"children":[]},{"id":"a8b2ce48-47ba-8107-d739-ef04446e1de5","type":"net.noodl.user.SetUserProperties","parameters":{"prop-subscribedBrevo":true},"ports":[],"children":[]},{"id":"08ef254b-b298-1125-ad41-4fea5ecb6385","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"23484528-7b0b-5c94-4577-bb1ead483072","sourcePort":"onClick","targetId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","targetPort":"run"},{"sourceId":"277a67f2-433e-6eb1-b6a4-dc6096d0b6b8","sourcePort":"onTextChanged","targetId":"113abcf1-5eba-db97-14fa-0b653b0512e7","targetPort":"email"},{"sourceId":"113abcf1-5eba-db97-14fa-0b653b0512e7","sourcePort":"result","targetId":"23484528-7b0b-5c94-4577-bb1ead483072","targetPort":"enabled"},{"sourceId":"277a67f2-433e-6eb1-b6a4-dc6096d0b6b8","sourcePort":"onTextChanged","targetId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","targetPort":"in-Email"},{"sourceId":"200348fa-5d3b-29b0-7865-8239f4ab9891","sourcePort":"savedValue","targetId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","targetPort":"in-ListId"},{"sourceId":"d2dbce87-2d67-2271-dd11-894573cac87b","sourcePort":"value","targetId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","targetPort":"in-ApiKey"},{"sourceId":"d58119cb-d409-edd4-b29d-6248447fa67c","sourcePort":"didMount","targetId":"45d624d1-0b87-e11b-3854-5b10a7572d8a","targetPort":"to-mounted"},{"sourceId":"45d624d1-0b87-e11b-3854-5b10a7572d8a","sourcePort":"at-canClose","targetId":"5cdfc5ea-95f7-5c89-2c92-19b279c518ad","targetPort":"mounted"},{"sourceId":"6cdde0ad-4908-7da3-c7bd-f03ed917472c","sourcePort":"eventReceived","targetId":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","targetPort":"run"},{"sourceId":"277a67f2-433e-6eb1-b6a4-dc6096d0b6b8","sourcePort":"focusState","targetId":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","targetPort":"focussed"},{"sourceId":"277a67f2-433e-6eb1-b6a4-dc6096d0b6b8","sourcePort":"onTextChanged","targetId":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","targetPort":"text"},{"sourceId":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","sourcePort":"isFalseEv","targetId":"b2b673bc-db05-109e-1f56-59cb7d68190c","targetPort":"close"},{"sourceId":"0d7d593a-f418-8b15-72a6-3b865e1cfd05","sourcePort":"isTrueEv","targetId":"45d624d1-0b87-e11b-3854-5b10a7572d8a","targetPort":"to-canClose"},{"sourceId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","sourcePort":"out-Success","targetId":"43721346-7d54-fcbe-5602-b262e7fbdb56","targetPort":"Do"},{"sourceId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","sourcePort":"out-Failure","targetId":"382793ec-d9f1-923d-e1c5-6e1ad9e74680","targetPort":"Do"},{"sourceId":"5cdfc5ea-95f7-5c89-2c92-19b279c518ad","sourcePort":"onClick","targetId":"b2b673bc-db05-109e-1f56-59cb7d68190c","targetPort":"close"},{"sourceId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","sourcePort":"out-Failure","targetId":"6c23e728-5af0-104b-557b-36be80902b64","targetPort":"run"},{"sourceId":"45d624d1-0b87-e11b-3854-5b10a7572d8a","sourcePort":"currentState","targetId":"6c23e728-5af0-104b-557b-36be80902b64","targetPort":"state"},{"sourceId":"6c23e728-5af0-104b-557b-36be80902b64","sourcePort":"isTrueEv","targetId":"b2b673bc-db05-109e-1f56-59cb7d68190c","targetPort":"close"},{"sourceId":"c32e9a64-bf12-bf02-8237-8de3ab2e470a","sourcePort":"at-notSubmitted","targetId":"8592fd9d-4258-bced-90aa-c2507bf86a32","targetPort":"mounted"},{"sourceId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","sourcePort":"out-Success","targetId":"c32e9a64-bf12-bf02-8237-8de3ab2e470a","targetPort":"to-submitted"},{"sourceId":"d58119cb-d409-edd4-b29d-6248447fa67c","sourcePort":"didMount","targetId":"c32e9a64-bf12-bf02-8237-8de3ab2e470a","targetPort":"to-notSubmitted"},{"sourceId":"1dfa2c66-23ee-66b8-32ed-260875ca24eb","sourcePort":"out-Success","targetId":"a8b2ce48-47ba-8107-d739-ef04446e1de5","targetPort":"store"},{"sourceId":"a8b2ce48-47ba-8107-d739-ef04446e1de5","sourcePort":"success","targetId":"6c23e728-5af0-104b-557b-36be80902b64","targetPort":"run"},{"sourceId":"a8b2ce48-47ba-8107-d739-ef04446e1de5","sourcePort":"failure","targetId":"6c23e728-5af0-104b-557b-36be80902b64","targetPort":"run"},{"sourceId":"08ef254b-b298-1125-ad41-4fea5ecb6385","sourcePort":"authenticated","targetId":"8592fd9d-4258-bced-90aa-c2507bf86a32","targetPort":"mounted"}],"ports":[],"roots":["d58119cb-d409-edd4-b29d-6248447fa67c"]},{"name":"/Main/Section label preview","nodes":[{"id":"0e7365ab-0e07-db59-c682-6a524a1f611d","type":"Group","parameters":{"rowGap":{"value":20,"unit":"px"},"width":{"value":400,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"390d8824-75e0-aca4-200b-6fd23819be3f","type":"Group","parameters":{"flexDirection":"row","height":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"1bc51c2e-7686-6758-4413-0a84cbe1af92","type":"Group","parameters":{"flexDirection":"column","sizeMode":"explicit","height":{"value":160,"unit":"px"}},"ports":[],"children":[{"id":"e7b77823-ffee-11bc-29d3-9503dcaa22fe","type":"Group","parameters":{"width":{"value":400,"unit":"px"},"height":{"value":100,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"f54f9eda-0e2d-a551-b532-5d77e73ac0c3","type":"Text","parameters":{"text":"Name labels for clothes and belongings. 120 self-adhesive, iron-free stickers (30x13mm). Dishwasher and washing machine safe.","textStyle":"Body Small","fontSize":{"value":13,"unit":"px"}},"ports":[],"children":[]},{"id":"2c405be8-0bb4-6a0b-ea83-eda0eba24f68","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"6096bec8-b19c-fb14-238a-e061fe8e59d3","type":"net.noodl.controls.button","parameters":{"label":"Save"},"ports":[],"children":[]},{"id":"a713fcc7-01f3-6c13-c52a-1b6e1e318986","type":"net.noodl.controls.button","parameters":{"label":"Try again"},"ports":[],"children":[]},{"id":"f4b79a8a-35e1-05cf-db8a-85626b6aa6fa","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"label":"Sign up to save"},"ports":[],"children":[]}]}]},{"id":"f500fa1c-fce8-2d04-70aa-9ee249e228fb","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"11b7db66-c0d4-a95f-04b0-d1fb637c9364","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"ab716e3e-21f9-645f-0d7c-1a537547b437","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"e77c3bb0-92aa-f40b-5116-f5afe7287dd0","type":"NavigationShowPopup","parameters":{"target":"/#Global visual components/Popup signup login"},"ports":[],"children":[]},{"id":"15632507-bea0-db54-e9d0-7de12f536a1a","type":"Variable2","parameters":{"name":"canvasPreviewThis"},"ports":[],"children":[]}],"connections":[{"sourceId":"f500fa1c-fce8-2d04-70aa-9ee249e228fb","sourcePort":"Mounted","targetId":"2c405be8-0bb4-6a0b-ea83-eda0eba24f68","targetPort":"mounted"},{"sourceId":"a713fcc7-01f3-6c13-c52a-1b6e1e318986","sourcePort":"onClick","targetId":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","targetPort":"Show"},{"sourceId":"390d8824-75e0-aca4-200b-6fd23819be3f","sourcePort":"didMount","targetId":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","targetPort":"Run"},{"sourceId":"6096bec8-b19c-fb14-238a-e061fe8e59d3","sourcePort":"onClick","targetId":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","targetPort":"ExportAsImage"},{"sourceId":"a713fcc7-01f3-6c13-c52a-1b6e1e318986","sourcePort":"onClick","targetId":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","targetPort":"ResetCanvas"},{"sourceId":"a713fcc7-01f3-6c13-c52a-1b6e1e318986","sourcePort":"onClick","targetId":"3cb81fe1-fae9-2312-516a-38256ffb8f5b","targetPort":"Do"},{"sourceId":"11b7db66-c0d4-a95f-04b0-d1fb637c9364","sourcePort":"authenticated","targetId":"6096bec8-b19c-fb14-238a-e061fe8e59d3","targetPort":"mounted"},{"sourceId":"11b7db66-c0d4-a95f-04b0-d1fb637c9364","sourcePort":"authenticated","targetId":"a713fcc7-01f3-6c13-c52a-1b6e1e318986","targetPort":"mounted"},{"sourceId":"11b7db66-c0d4-a95f-04b0-d1fb637c9364","sourcePort":"authenticated","targetId":"ab716e3e-21f9-645f-0d7c-1a537547b437","targetPort":"value"},{"sourceId":"ab716e3e-21f9-645f-0d7c-1a537547b437","sourcePort":"result","targetId":"f4b79a8a-35e1-05cf-db8a-85626b6aa6fa","targetPort":"mounted"},{"sourceId":"f4b79a8a-35e1-05cf-db8a-85626b6aa6fa","sourcePort":"onClick","targetId":"e77c3bb0-92aa-f40b-5116-f5afe7287dd0","targetPort":"show"},{"sourceId":"e7b77823-ffee-11bc-29d3-9503dcaa22fe","sourcePort":"this","targetId":"15632507-bea0-db54-e9d0-7de12f536a1a","targetPort":"value"}],"ports":[{"name":"Show","type":"signal","plug":"output","index":0},{"name":"Mounted","type":{"name":"boolean"},"group":"General","plug":"input","index":0},{"name":"Canvas group 'this' output","type":"*","plug":"output","index":1},{"name":"Run","type":"signal","plug":"output","index":2},{"name":"ExportAsImage","type":"signal","plug":"output","index":3},{"name":"ResetCanvas","type":"signal","plug":"output","index":4},{"name":"Do","type":"signal","plug":"output","index":5}],"roots":["0e7365ab-0e07-db59-c682-6a524a1f611d"]},{"name":"/#Global visual components/Popup signup login","nodes":[{"id":"07eb1392-b741-140c-499d-aac572deb6b3","type":"Group","parameters":{"position":"fixed","backgroundColor":"#00000099","zIndex":4},"ports":[],"children":[{"id":"d5e7480f-b27c-4af2-20dc-e07eb1c0c196","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":40,"unit":"px"},"rowGap":{"value":20,"unit":"px"},"backgroundColor":"White","borderRadius":{"value":8,"unit":"px"},"maxWidth":{"value":500,"unit":"px"}},"ports":[],"children":[{"id":"52643dd0-59c1-2f4d-b3d2-bc56bd3e06f6","type":"/#Global visual components/Clickable icon","parameters":{"position":"absolute","align X":"right","icon":{"class":"material-icons","code":"close","codeAsClass":false},"margin top":{"value":10,"unit":"px"},"margin right":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"7f0f8537-dd3f-414f-3a61-b1da179824ff","type":"/Sign Up/Signup component","parameters":{},"ports":[],"children":[]},{"id":"fa63fa2e-208f-31f3-71ec-a4dd2fa99140","type":"/Log In/Login component","parameters":{},"ports":[],"children":[]}]}]},{"id":"ae96c068-a47a-05fe-0fd3-775b8cf3a97c","type":"NavigationClosePopup","parameters":{"closeActions":"Done"},"ports":[],"children":[]},{"id":"1798074c-2fb9-1d23-ede6-07acb3144b06","type":"States","parameters":{"states":"signup,login","useTransitions":true},"ports":[],"children":[]}],"connections":[{"sourceId":"52643dd0-59c1-2f4d-b3d2-bc56bd3e06f6","sourcePort":"clicked","targetId":"ae96c068-a47a-05fe-0fd3-775b8cf3a97c","targetPort":"close"},{"sourceId":"1798074c-2fb9-1d23-ede6-07acb3144b06","sourcePort":"at-signup","targetId":"7f0f8537-dd3f-414f-3a61-b1da179824ff","targetPort":"mounted"},{"sourceId":"1798074c-2fb9-1d23-ede6-07acb3144b06","sourcePort":"at-login","targetId":"fa63fa2e-208f-31f3-71ec-a4dd2fa99140","targetPort":"mounted"},{"sourceId":"7f0f8537-dd3f-414f-3a61-b1da179824ff","sourcePort":"Switch to login","targetId":"1798074c-2fb9-1d23-ede6-07acb3144b06","targetPort":"to-login"},{"sourceId":"fa63fa2e-208f-31f3-71ec-a4dd2fa99140","sourcePort":"Switch to signup","targetId":"1798074c-2fb9-1d23-ede6-07acb3144b06","targetPort":"to-signup"},{"sourceId":"7f0f8537-dd3f-414f-3a61-b1da179824ff","sourcePort":"Done","targetId":"ae96c068-a47a-05fe-0fd3-775b8cf3a97c","targetPort":"close"},{"sourceId":"fa63fa2e-208f-31f3-71ec-a4dd2fa99140","sourcePort":"Done","targetId":"ae96c068-a47a-05fe-0fd3-775b8cf3a97c","targetPort":"close"}],"ports":[],"roots":["07eb1392-b741-140c-499d-aac572deb6b3"]},{"name":"/Main/Background item","nodes":[{"id":"e1572748-2dcc-c7f9-d294-be90f0dbd907","type":"Group","parameters":{"borderRadius":{"value":8,"unit":"px"},"height":{"value":60,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 400","paddingTop":{"value":2,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"15b655a3-731f-acc6-bf88-b1a4725a5d05","type":"Group","parameters":{"borderRadius":{"value":8,"unit":"px"}},"ports":[],"children":[]}]},{"id":"025cb6fd-7739-2baa-5db1-7ec02ad77b77","type":"Model2","parameters":{"idSource":"foreach","properties":"colour"},"ports":[],"children":[]},{"id":"deba1a12-896e-1264-7fff-053ddd93582f","type":"net.noodl.SetParentComponentObjectProperties","parameters":{"properties":"background","type-background":"string"},"ports":[],"children":[]}],"connections":[{"sourceId":"025cb6fd-7739-2baa-5db1-7ec02ad77b77","sourcePort":"prop-colour","targetId":"15b655a3-731f-acc6-bf88-b1a4725a5d05","targetPort":"backgroundColor"},{"sourceId":"025cb6fd-7739-2baa-5db1-7ec02ad77b77","sourcePort":"prop-colour","targetId":"deba1a12-896e-1264-7fff-053ddd93582f","targetPort":"prop-background"},{"sourceId":"e1572748-2dcc-c7f9-d294-be90f0dbd907","sourcePort":"onClick","targetId":"deba1a12-896e-1264-7fff-053ddd93582f","targetPort":"store"}],"ports":[],"roots":["e1572748-2dcc-c7f9-d294-be90f0dbd907"]},{"name":"/Main/Font item","nodes":[{"id":"c1abc73b-b267-9256-45aa-1aee91388805","type":"Group","parameters":{"borderRadius":{"value":8,"unit":"px"},"height":{"value":60,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 400","paddingTop":{"value":2,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"3f02806a-b9cd-69d6-689e-ec64be60d319","type":"Text","parameters":{"sizeMode":"contentSize","text":"David","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]}]},{"id":"0cbf029e-74a5-3fde-4e0c-8987f116bd43","type":"Model2","parameters":{"idSource":"foreach","properties":"font"},"ports":[],"children":[]},{"id":"c63316d3-b705-5f74-285c-e179fb7851d6","type":"net.noodl.SetParentComponentObjectProperties","parameters":{"properties":"font","type-background":"string"},"ports":[],"children":[]},{"id":"a4740826-e152-37f9-9105-de8c05921632","type":"net.noodl.ParentComponentObject","parameters":{"properties":"name"},"ports":[],"children":[]},{"id":"220b7fa1-96f9-d6a5-33fa-d213dc3def60","type":"States","parameters":{"states":"default,name","values":"name","useTransitions":false,"type-name":"string","value-default-name":"David"},"ports":[],"children":[]},{"id":"f4929bf5-8b2d-4927-a08b-77db4cd122e3","type":"Expression","parameters":{"expression":"name == \"\"\n"},"ports":[],"children":[]}],"connections":[{"sourceId":"c1abc73b-b267-9256-45aa-1aee91388805","sourcePort":"onClick","targetId":"c63316d3-b705-5f74-285c-e179fb7851d6","targetPort":"store"},{"sourceId":"0cbf029e-74a5-3fde-4e0c-8987f116bd43","sourcePort":"prop-font","targetId":"c63316d3-b705-5f74-285c-e179fb7851d6","targetPort":"prop-font"},{"sourceId":"0cbf029e-74a5-3fde-4e0c-8987f116bd43","sourcePort":"prop-font","targetId":"3f02806a-b9cd-69d6-689e-ec64be60d319","targetPort":"fontFamily"},{"sourceId":"a4740826-e152-37f9-9105-de8c05921632","sourcePort":"value-name","targetId":"f4929bf5-8b2d-4927-a08b-77db4cd122e3","targetPort":"name"},{"sourceId":"f4929bf5-8b2d-4927-a08b-77db4cd122e3","sourcePort":"isTrueEv","targetId":"220b7fa1-96f9-d6a5-33fa-d213dc3def60","targetPort":"to-default"},{"sourceId":"f4929bf5-8b2d-4927-a08b-77db4cd122e3","sourcePort":"isFalseEv","targetId":"220b7fa1-96f9-d6a5-33fa-d213dc3def60","targetPort":"to-name"},{"sourceId":"a4740826-e152-37f9-9105-de8c05921632","sourcePort":"value-name","targetId":"220b7fa1-96f9-d6a5-33fa-d213dc3def60","targetPort":"value-name-name"},{"sourceId":"220b7fa1-96f9-d6a5-33fa-d213dc3def60","sourcePort":"name","targetId":"3f02806a-b9cd-69d6-689e-ec64be60d319","targetPort":"text"}],"ports":[],"roots":["c1abc73b-b267-9256-45aa-1aee91388805"]},{"name":"/Main/Plus minus icons","nodes":[{"id":"385f21c2-afa3-375c-0723-e887255617b1","type":"Group","parameters":{"sizeMode":"contentSize","backgroundColor":"White","boxShadowEnabled":true,"boxShadowColor":"#00000011","borderRadius":{"value":20,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingLeft":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingRight":{"value":2,"unit":"px"}},"ports":[],"children":[{"id":"f3e051c1-3172-35cc-9f22-eebce3a8a8ee","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"remove","codeAsClass":false},"iconColor":"Grey - 700"},"ports":[],"children":[]}]},{"id":"084e0ead-7585-7345-209d-105f85af3846","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"95e71efc-9ae6-f6b7-46d2-ec6724b94119","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"084e0ead-7585-7345-209d-105f85af3846","sourcePort":"icon","targetId":"f3e051c1-3172-35cc-9f22-eebce3a8a8ee","targetPort":"iconIconSource"},{"sourceId":"385f21c2-afa3-375c-0723-e887255617b1","sourcePort":"onClick","targetId":"95e71efc-9ae6-f6b7-46d2-ec6724b94119","targetPort":"clicked"}],"ports":[{"name":"clicked","type":"signal","plug":"output","index":1},{"name":"icon","type":"icon","default":{"class":"material-icons","code":"remove","codeAsClass":false},"group":"Icon","plug":"input","index":1}],"roots":["385f21c2-afa3-375c-0723-e887255617b1"]},{"name":"/Main/Cart line item","nodes":[{"id":"c3b9ddaf-7c23-0602-9d9a-1d8f1b3846bb","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"2d02e99d-6798-7f8c-024f-04a395f0a05f","type":"Text","parameters":{},"ports":[],"children":[]},{"id":"0620244c-fab9-b892-4291-79d1eeafac90","type":"Text","parameters":{"text":"$5.99","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"614e8758-b17a-51a2-5de5-539aa2552496","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"614e8758-b17a-51a2-5de5-539aa2552496","sourcePort":"Text","targetId":"2d02e99d-6798-7f8c-024f-04a395f0a05f","targetPort":"text"},{"sourceId":"614e8758-b17a-51a2-5de5-539aa2552496","sourcePort":"price","targetId":"0620244c-fab9-b892-4291-79d1eeafac90","targetPort":"text"},{"sourceId":"614e8758-b17a-51a2-5de5-539aa2552496","sourcePort":"font","targetId":"2d02e99d-6798-7f8c-024f-04a395f0a05f","targetPort":"fontFamily"},{"sourceId":"614e8758-b17a-51a2-5de5-539aa2552496","sourcePort":"font","targetId":"0620244c-fab9-b892-4291-79d1eeafac90","targetPort":"fontFamily"},{"sourceId":"614e8758-b17a-51a2-5de5-539aa2552496","sourcePort":"mounted","targetId":"c3b9ddaf-7c23-0602-9d9a-1d8f1b3846bb","targetPort":"mounted"}],"ports":[{"name":"Text","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":0},{"name":"price","type":{"name":"string","multiline":true},"default":"$5.99","group":"Text","plug":"input","index":1},{"name":"font","type":{"name":"font"},"group":"Text Style","plug":"input","index":2},{"name":"mounted","type":"boolean","default":true,"group":"General","plug":"input","index":3}],"roots":["c3b9ddaf-7c23-0602-9d9a-1d8f1b3846bb"]},{"name":"/Main/Export and create label","nodes":[{"id":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","type":"NewDbModelProperties","parameters":{"collectionName":"Label","prop-community":true},"ports":[],"children":[]},{"id":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","type":"Upload File","parameters":{},"ports":[],"children":[]},{"id":"f006d435-0dde-564c-ec14-a00690f1fddc","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"94f49f86-0928-a90c-505e-5953a33b0813","type":"JavaScriptFunction","parameters":{"functionScript":"// Get the image data (which is a blob URL)\nconst blobUrl = Inputs.imageData;\n\nconsole.log(\"Processing blob URL:\", blobUrl);\n\nif (!blobUrl || typeof blobUrl !== 'string' || !blobUrl.startsWith('blob:')) {\n  console.error(\"Invalid blob URL:\", blobUrl);\n  Outputs.Error(\"Invalid blob URL provided\");\n  return;\n}\n\n// Fetch the actual data from the blob URL\nfetch(blobUrl)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(`Failed to fetch blob: ${response.status} ${response.statusText}`);\n    }\n    return response.blob();\n  })\n  .then(blob => {\n    console.log(\"Successfully fetched blob:\", blob.type, blob.size, \"bytes\");\n    \n    // Create a File object from the blob\n    const file = new File([blob], 'canvas_export.png', {type: blob.type || 'image/png'});\n    \n    // Set outputs\n    Outputs.ImageFile = file;\n    Outputs.Success();\n  })\n  .catch(error => {\n    console.error(\"Error fetching blob URL:\", error);\n    Outputs.Error(\"Failed to fetch blob URL: \" + error.message);\n  });"},"ports":[{"name":"in-imageData","displayName":"imageData","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-ImageFile","displayName":"ImageFile","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"cd001303-473a-f82c-54dc-443f754aad45","type":"Upload File","parameters":{},"ports":[],"children":[]},{"id":"148cc002-5d4d-c266-0779-4c9e48d699e1","type":"/Loading Spinner","parameters":{},"ports":[],"children":[]},{"id":"9869eb4f-fae9-4656-b5a1-ecb6a75140f6","type":"CollectionInsert","parameters":{"collectionId":"allLabels"},"ports":[],"children":[]},{"id":"3b226331-47bc-b2e4-f9c7-27fbfa773bb9","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"df995add-88d1-8695-fb83-c8caf1ba3fa7","type":"JavaScriptFunction","parameters":{"functionScript":"let result = '';\nconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nfor (let i = 0; i < 6; i++) {\nresult += characters.charAt(Math.floor(Math.random() * characters.length));\n}\n\nOutputs.code = result;\nOutputs.Success();"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-code","displayName":"code","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"a45b1527-3d18-e59a-0dd8-4a771873d34e","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2600b3ee-a765-78a8-40fa-8e7ba0282530","type":"Upload File","parameters":{},"ports":[],"children":[]},{"id":"7031af28-ec2f-7be0-59d9-8128d426ebfb","type":"CollectionInsert","parameters":{"collectionId":"myLabels"},"ports":[],"children":[]}],"connections":[{"sourceId":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","sourcePort":"cloudFile","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-labelFile"},{"sourceId":"f006d435-0dde-564c-ec14-a00690f1fddc","sourcePort":"id","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-owner"},{"sourceId":"cd001303-473a-f82c-54dc-443f754aad45","sourcePort":"cloudFile","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-aiImage"},{"sourceId":"94f49f86-0928-a90c-505e-5953a33b0813","sourcePort":"out-Success","targetId":"cd001303-473a-f82c-54dc-443f754aad45","targetPort":"upload"},{"sourceId":"94f49f86-0928-a90c-505e-5953a33b0813","sourcePort":"out-ImageFile","targetId":"cd001303-473a-f82c-54dc-443f754aad45","targetPort":"file"},{"sourceId":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","sourcePort":"failure","targetId":"148cc002-5d4d-c266-0779-4c9e48d699e1","targetPort":"Hide"},{"sourceId":"cd001303-473a-f82c-54dc-443f754aad45","sourcePort":"failure","targetId":"148cc002-5d4d-c266-0779-4c9e48d699e1","targetPort":"Hide"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"created","targetId":"148cc002-5d4d-c266-0779-4c9e48d699e1","targetPort":"Hide"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"failure","targetId":"148cc002-5d4d-c266-0779-4c9e48d699e1","targetPort":"Hide"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"created","targetId":"9869eb4f-fae9-4656-b5a1-ecb6a75140f6","targetPort":"add"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"id","targetId":"9869eb4f-fae9-4656-b5a1-ecb6a75140f6","targetPort":"modifyId"},{"sourceId":"3b226331-47bc-b2e4-f9c7-27fbfa773bb9","sourcePort":"savedValue","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-age"},{"sourceId":"df995add-88d1-8695-fb83-c8caf1ba3fa7","sourcePort":"out-code","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-shareCode"},{"sourceId":"cd001303-473a-f82c-54dc-443f754aad45","sourcePort":"success","targetId":"df995add-88d1-8695-fb83-c8caf1ba3fa7","targetPort":"run"},{"sourceId":"df995add-88d1-8695-fb83-c8caf1ba3fa7","sourcePort":"out-Success","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"store"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"Upload","targetId":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","targetPort":"upload"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"File","targetId":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","targetPort":"file"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"backgroundColour","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-backgroundColour"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"name","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-name"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"imageData","targetId":"94f49f86-0928-a90c-505e-5953a33b0813","targetPort":"in-imageData"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"theme","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-theme"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"age","targetId":"3b226331-47bc-b2e4-f9c7-27fbfa773bb9","targetPort":"value"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"phone","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-phone"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"created","targetId":"a45b1527-3d18-e59a-0dd8-4a771873d34e","targetPort":"Done"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"Upload","targetId":"148cc002-5d4d-c266-0779-4c9e48d699e1","targetPort":"Show"},{"sourceId":"c8b93a5b-0e67-09e2-b8b8-6a468b505593","sourcePort":"Community File","targetId":"2600b3ee-a765-78a8-40fa-8e7ba0282530","targetPort":"file"},{"sourceId":"2600b3ee-a765-78a8-40fa-8e7ba0282530","sourcePort":"cloudFile","targetId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","targetPort":"prop-labelCommunityFile"},{"sourceId":"e62a9624-4559-b212-8ba9-d1c6a0056c1c","sourcePort":"success","targetId":"2600b3ee-a765-78a8-40fa-8e7ba0282530","targetPort":"upload"},{"sourceId":"2600b3ee-a765-78a8-40fa-8e7ba0282530","sourcePort":"success","targetId":"94f49f86-0928-a90c-505e-5953a33b0813","targetPort":"run"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"id","targetId":"7031af28-ec2f-7be0-59d9-8128d426ebfb","targetPort":"modifyId"},{"sourceId":"1c01d3e5-d815-5cdc-de34-79d841bf6e67","sourcePort":"created","targetId":"7031af28-ec2f-7be0-59d9-8128d426ebfb","targetPort":"add"}],"ports":[{"name":"Upload","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Done","type":"signal","plug":"output","index":1},{"name":"File","type":"*","group":"General","plug":"input","index":1},{"name":"backgroundColour","type":{"name":"string"},"group":"Properties","plug":"input","index":2},{"name":"name","type":{"name":"string"},"group":"Properties","plug":"input","index":3},{"name":"imageData","type":"*","group":"Inputs","plug":"input","index":4},{"name":"theme","type":{"name":"string"},"group":"Properties","plug":"input","index":6},{"name":"age","type":{"name":"number"},"default":0,"plug":"input","index":7},{"name":"phone","type":{"name":"string"},"group":"Properties","plug":"input","index":8},{"name":"Community File","type":"*","group":"General","plug":"input","index":9}],"roots":[]},{"name":"/#Global visual components/Popup purchase","nodes":[{"id":"2f349e25-1879-abfa-26e4-cdab01a1ae98","type":"Group","parameters":{"position":"fixed","backgroundColor":"#00000099","zIndex":4},"ports":[],"children":[{"id":"f96e7574-f71c-f155-b802-e366236ce6c1","type":"Group","parameters":{"position":"fixed","marginTop":{"value":-200,"unit":"px"}},"ports":[],"children":[]},{"id":"c0bfe0cf-7f8f-031a-65dc-9b048b3dd3d8","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":40,"unit":"px"},"paddingTop":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"},"rowGap":{"value":20,"unit":"px"},"backgroundColor":"White","borderRadius":{"value":8,"unit":"px"},"maxWidth":{"value":500,"unit":"px"}},"ports":[],"children":[{"id":"32f404ee-071c-9e30-7a54-4937ba53f56c","type":"/#Global visual components/Clickable icon","parameters":{"position":"absolute","align X":"right","icon":{"class":"material-icons","code":"close","codeAsClass":false},"margin top":{"value":10,"unit":"px"},"margin right":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"16b29ef9-9768-16f9-226c-b5e8e636f632","type":"Text","parameters":{"text":"Purchase label","textStyle":"Title Medium"},"ports":[],"children":[]},{"id":"3721bf3a-771d-8c71-5cb6-480df22863b5","type":"Text","parameters":{"text":"Tagiser is currently in a testing phase. If you leave us your email, we'll let you know as soon as it's ready."},"ports":[],"children":[]},{"id":"c0a0d2e7-692c-3e99-6187-26e0a847c725","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"placeholder":"Your email","width":{"value":100,"unit":"%"},"maxWidth":{"value":9999,"unit":"px"}},"ports":[],"children":[]},{"id":"53992443-c0bb-bbf7-7fe8-7ec99f17b0ca","type":"Group","parameters":{},"ports":[],"children":[{"id":"a19f6979-97bd-4efc-88f2-22dd0bba1819","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"label":"Accept","maxWidth":{"value":999,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"93030110-6aa5-f871-ec67-cd1a1b746873","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6881362e-f3b7-0b12-62dd-c0086bd2b163","type":"DbModel2","parameters":{"collectionName":"Label"},"ports":[],"children":[]},{"id":"e512241f-3dd8-18e8-f506-0676e6a47520","type":"JavaScriptFunction","parameters":{"functionScript":"const imageUrl = Inputs.ImageUrl || '';\nif (!imageUrl) throw new Error('Invalid image url');\n\ntry {\n  // Fetch the image from the provided url\n  const response = await fetch(imageUrl);\n  // Convert the fetched image to Blob\n  const blob = await response.blob();\n  // Create a FileReader object\n  const reader = new FileReader();\n  // Read the blob as a base64 string\n  reader.readAsDataURL(blob);\n  // Wait for the reader to finish\n  reader.onloadend = function() {\n    // Extract the base64 string from the result\n    const base64data = reader.result;\n    // Output the base64 string\n    Outputs.Base64String = base64data;\n    Outputs.Success();\n  }\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-ImageUrl","displayName":"ImageUrl","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Base64String","displayName":"Base64String","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"b09f6aab-f7da-05ab-0887-f43b8802e3f8","type":"Cloud File","parameters":{},"ports":[],"children":[]},{"id":"1636fbd1-af32-51a6-f39d-459cefc10827","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"7354b35a-0f45-e581-b49e-d7577d8aeb09","type":"JavaScriptFunction","parameters":{"functionScript":"const apiKey = Inputs.ApiKey || '';\nif (!apiKey) throw new Error('Invalid API key');\n\nconst email = Inputs.Email || '';\nif (!email) throw new Error('Email is required');\n\nconst listId = Inputs.ListId || '';\nif (!listId) throw new Error('List ID is required');\n\nconst url = `https://api.brevo.com/v3/contacts`;\n\nconst body = {\n  email: email,\n  listIds: [listId]\n};\n\ntry {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'api-key': apiKey\n    },\n    body: JSON.stringify(body)\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    Outputs.error = errorData;\n    Outputs.Failure();\n    return;\n  }\n\n  const data = await response.json();\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-ApiKey","displayName":"ApiKey","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-ListId","displayName":"ListId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"4ff79846-d7fa-d5b6-1e55-531d6fa61f4b","type":"/Show Toast","parameters":{"Message":"Signed up successfully!","Type":"Success"},"ports":[],"children":[]},{"id":"c55891da-e63a-c200-9457-d1043aa66af9","type":"/Show Toast","parameters":{"Message":"Signed up successfully!","Type":"Warning"},"ports":[],"children":[]},{"id":"09170995-6f8e-1971-8613-19d16a4c6e5e","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"c7054b1f-7b95-d16b-4248-e4f946f56de9","type":"Expression","parameters":{"expression":"subscribedBrevo"},"ports":[],"children":[]},{"id":"a73d09ec-b2c3-7b76-3556-a93b81d10abe","type":"States","parameters":{"states":"subscribed,notSubscribed","currentState":"notSubscribed","values":"label","useTransitions":false,"type-label":"string","value-subscribed-label":"You're already subscribed!","value-notSubscribed-label":"Subscribe"},"ports":[],"children":[]},{"id":"a12b1851-8c4b-7408-a1bc-a7f238e029e2","type":"DbConfig","parameters":{"configKey":"BrevoAPIKey"},"ports":[],"children":[]}],"connections":[{"sourceId":"93030110-6aa5-f871-ec67-cd1a1b746873","sourcePort":"label","targetId":"6881362e-f3b7-0b12-62dd-c0086bd2b163","targetPort":"modelId"},{"sourceId":"6881362e-f3b7-0b12-62dd-c0086bd2b163","sourcePort":"prop-aiImage","targetId":"b09f6aab-f7da-05ab-0887-f43b8802e3f8","targetPort":"file"},{"sourceId":"b09f6aab-f7da-05ab-0887-f43b8802e3f8","sourcePort":"url","targetId":"e512241f-3dd8-18e8-f506-0676e6a47520","targetPort":"in-ImageUrl"},{"sourceId":"32f404ee-071c-9e30-7a54-4937ba53f56c","sourcePort":"clicked","targetId":"1636fbd1-af32-51a6-f39d-459cefc10827","targetPort":"close"},{"sourceId":"a19f6979-97bd-4efc-88f2-22dd0bba1819","sourcePort":"onClick","targetId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","targetPort":"run"},{"sourceId":"c0a0d2e7-692c-3e99-6187-26e0a847c725","sourcePort":"onTextChanged","targetId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","targetPort":"in-Email"},{"sourceId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","sourcePort":"out-Success","targetId":"4ff79846-d7fa-d5b6-1e55-531d6fa61f4b","targetPort":"Do"},{"sourceId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","sourcePort":"out-Success","targetId":"1636fbd1-af32-51a6-f39d-459cefc10827","targetPort":"close"},{"sourceId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","sourcePort":"out-Failure","targetId":"c55891da-e63a-c200-9457-d1043aa66af9","targetPort":"Do"},{"sourceId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","sourcePort":"out-error","targetId":"c55891da-e63a-c200-9457-d1043aa66af9","targetPort":"Message"},{"sourceId":"09170995-6f8e-1971-8613-19d16a4c6e5e","sourcePort":"prop-subscribedBrevo","targetId":"c7054b1f-7b95-d16b-4248-e4f946f56de9","targetPort":"subscribedBrevo"},{"sourceId":"c7054b1f-7b95-d16b-4248-e4f946f56de9","sourcePort":"isFalse","targetId":"a19f6979-97bd-4efc-88f2-22dd0bba1819","targetPort":"enabled"},{"sourceId":"a73d09ec-b2c3-7b76-3556-a93b81d10abe","sourcePort":"label","targetId":"a19f6979-97bd-4efc-88f2-22dd0bba1819","targetPort":"label"},{"sourceId":"c7054b1f-7b95-d16b-4248-e4f946f56de9","sourcePort":"isTrueEv","targetId":"a73d09ec-b2c3-7b76-3556-a93b81d10abe","targetPort":"to-subscribed"},{"sourceId":"c7054b1f-7b95-d16b-4248-e4f946f56de9","sourcePort":"isFalseEv","targetId":"a73d09ec-b2c3-7b76-3556-a93b81d10abe","targetPort":"to-notSubscribed"},{"sourceId":"a12b1851-8c4b-7408-a1bc-a7f238e029e2","sourcePort":"value","targetId":"7354b35a-0f45-e581-b49e-d7577d8aeb09","targetPort":"in-ApiKey"}],"ports":[{"name":"label","type":{"name":"string","allowConnectionsOnly":true},"group":"General","plug":"input","index":1}],"roots":["2f349e25-1879-abfa-26e4-cdab01a1ae98"]},{"name":"/Main/label item","nodes":[{"id":"96c967d4-4cd3-98e3-b157-50b45003dd21","type":"Group","parameters":{"scrollEnabled":false,"sizeMode":"contentSize","alignItems":"flex-start","maxWidth":{"value":300,"unit":"px"}},"ports":[],"children":[{"id":"5dc1185d-6731-f341-fefa-35ee438be6a9","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","paddingTop":{"value":10,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"backgroundColor":"White","zIndex":3,"borderRadius":{"value":6,"unit":"px"},"alignX":"right","marginTop":{"value":30,"unit":"px"},"boxShadowEnabled":true,"boxShadowColor":"#00000019","rowGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"738255b1-51bb-aea9-2d8b-33ef7119f625","type":"Text","parameters":{"text":"Share","styleCss":"/* background-color: red; */\ncursor: pointer;","textStyle":"Label Medium"},"ports":[],"children":[]},{"id":"833cc43b-8189-8016-4f75-a8c87e39dd44","type":"Text","parameters":{"text":"Make it my own","styleCss":"/* background-color: red; */\ncursor: pointer;","textStyle":"Label Medium"},"ports":[],"children":[]},{"id":"40a43fc7-0cad-e7ad-fa6d-2a314329b1f4","type":"Text","parameters":{"text":"Name change","styleCss":"/* background-color: red; */\ncursor: pointer;","textStyle":"Label Medium"},"ports":[],"children":[]},{"id":"2ccec707-1b8b-53a7-4335-f0f8d086ae5f","type":"Text","parameters":{"text":"Purchase","styleCss":"/* background-color: red; */\ncursor: pointer;","textStyle":"Label Medium"},"ports":[],"children":[]}]},{"id":"31190486-e2c2-4da9-dbd3-45097d625ca0","type":"Image","parameters":{"sizeMode":"explicit","width":{"value":300,"unit":"px"},"height":{"value":90,"unit":"px"},"objectFit":"contain"},"ports":[],"children":[]}]},{"id":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","type":"DbModel2","parameters":{"collectionName":"Label","idSource":"foreach"},"ports":[],"children":[]},{"id":"5b074c6d-ef75-cf68-c167-aeedaa5dbbc0","type":"Cloud File","parameters":{},"ports":[],"children":[]},{"id":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","type":"NewDbModelProperties","parameters":{"collectionName":"Label","prop-community":false},"ports":[],"children":[]},{"id":"b30b8d2c-8446-742d-2698-ce6a7acd3de0","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"9e756488-621a-5419-1611-c67f19492a4a","type":"/Show Toast","parameters":{"Message":"Copied to 'My labels'","Type":"Success"},"ports":[],"children":[]},{"id":"4f8e45a9-b25a-868e-e573-69345e341c90","type":"Boolean","parameters":{"value":false},"ports":[],"children":[]},{"id":"3c0ccf9e-d055-4b9b-0738-3d117e5b3fe1","type":"net.noodl.ParentComponentObject","parameters":{"properties":"tab"},"ports":[],"children":[]},{"id":"9f74d1fa-1276-d1e0-6140-f5ad90c358bf","type":"Expression","parameters":{"expression":"tab !== \"mine\""},"ports":[],"children":[]},{"id":"a0a2955f-5f82-1b19-5a67-b9e9f879cc30","type":"NavigationShowPopup","parameters":{"target":"/#Global visual components/Popup template"},"ports":[],"children":[]},{"id":"a1a203a1-53a4-9798-9c46-2191ef15393d","type":"NavigationShowPopup","parameters":{"target":"/#Global visual components/Popup share"},"ports":[],"children":[]},{"id":"e47f07c2-71a8-d714-f5fe-3be90c2faee7","type":"CollectionInsert","parameters":{"collectionId":"allLabels"},"ports":[],"children":[]},{"id":"37b37ce2-1e72-2d33-78fa-9e257216046c","type":"JavaScriptFunction","parameters":{"functionScript":"let result = '';\nconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nfor (let i = 0; i < 6; i++) {\nresult += characters.charAt(Math.floor(Math.random() * characters.length));\n}\n\nOutputs.code = result;\nOutputs.Success();"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-code","displayName":"code","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"e402c67e-782a-7f62-ee00-ad71af481073","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"21bba50c-ccde-3aad-be4b-5d09e76f8f73","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","type":"Expression","parameters":{"expression":"owner === currentUser"},"ports":[],"children":[]},{"id":"faea4615-e8f7-03cf-cbcb-87ad88125723","type":"net.noodl.user.User","parameters":{},"ports":[],"children":[]},{"id":"afb1e872-662d-233c-883e-9ee5935a1e52","type":"NavigationShowPopup","parameters":{"target":"/#Global visual components/Popup purchase"},"ports":[],"children":[]},{"id":"595d74db-c2ef-e89a-9d6d-2d34b9a4f461","type":"JavaScriptFunction","parameters":{"functionScript":"document.addEventListener('click', function(event) {\n  const filtersPopunder = Inputs.This.getDOMElement();\n  if (filtersPopunder && !filtersPopunder.contains(event.target)) {\n    Outputs.ClickedOutside = true;\n\n    // Reset Outputs.ClickedOutside to false after 500 milliseconds\n    setTimeout(function() {\n      Outputs.ClickedOutside = false;\n    }, 500);\n  }\n});"},"ports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ClickedOutside","displayName":"ClickedOutside","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","type":"States","parameters":{"states":"fullImage,communityImage","values":"imageUrl","useTransitions":false,"type-imageUrl":"string"},"ports":[],"children":[]},{"id":"41ef8a2f-3ab7-4898-3761-79f31442ae43","type":"Cloud File","parameters":{},"ports":[],"children":[]},{"id":"9ee1f0ca-f4ec-3192-b319-2e63afa43390","type":"/#Global visual components/Clickable icon","parameters":{"position":"absolute","align X":"right"},"ports":[],"children":[]}],"connections":[{"sourceId":"b30b8d2c-8446-742d-2698-ce6a7acd3de0","sourcePort":"id","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-owner"},{"sourceId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","sourcePort":"created","targetId":"9e756488-621a-5419-1611-c67f19492a4a","targetPort":"Do"},{"sourceId":"4f8e45a9-b25a-868e-e573-69345e341c90","sourcePort":"savedValue","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-community"},{"sourceId":"3c0ccf9e-d055-4b9b-0738-3d117e5b3fe1","sourcePort":"value-tab","targetId":"9f74d1fa-1276-d1e0-6140-f5ad90c358bf","targetPort":"tab"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"id","targetId":"a0a2955f-5f82-1b19-5a67-b9e9f879cc30","targetPort":"popupParam-label"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"id","targetId":"a1a203a1-53a4-9798-9c46-2191ef15393d","targetPort":"popupParam-label"},{"sourceId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","sourcePort":"id","targetId":"e47f07c2-71a8-d714-f5fe-3be90c2faee7","targetPort":"modifyId"},{"sourceId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","sourcePort":"created","targetId":"e47f07c2-71a8-d714-f5fe-3be90c2faee7","targetPort":"add"},{"sourceId":"37b37ce2-1e72-2d33-78fa-9e257216046c","sourcePort":"out-code","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-shareCode"},{"sourceId":"37b37ce2-1e72-2d33-78fa-9e257216046c","sourcePort":"out-Success","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"store"},{"sourceId":"738255b1-51bb-aea9-2d8b-33ef7119f625","sourcePort":"onClick","targetId":"a1a203a1-53a4-9798-9c46-2191ef15393d","targetPort":"show"},{"sourceId":"833cc43b-8189-8016-4f75-a8c87e39dd44","sourcePort":"onClick","targetId":"37b37ce2-1e72-2d33-78fa-9e257216046c","targetPort":"run"},{"sourceId":"9f74d1fa-1276-d1e0-6140-f5ad90c358bf","sourcePort":"result","targetId":"833cc43b-8189-8016-4f75-a8c87e39dd44","targetPort":"mounted"},{"sourceId":"9f74d1fa-1276-d1e0-6140-f5ad90c358bf","sourcePort":"isFalse","targetId":"40a43fc7-0cad-e7ad-fa6d-2a314329b1f4","targetPort":"mounted"},{"sourceId":"40a43fc7-0cad-e7ad-fa6d-2a314329b1f4","sourcePort":"onClick","targetId":"a0a2955f-5f82-1b19-5a67-b9e9f879cc30","targetPort":"show"},{"sourceId":"96c967d4-4cd3-98e3-b157-50b45003dd21","sourcePort":"hoverStart","targetId":"e402c67e-782a-7f62-ee00-ad71af481073","targetPort":"on"},{"sourceId":"96c967d4-4cd3-98e3-b157-50b45003dd21","sourcePort":"hoverEnd","targetId":"e402c67e-782a-7f62-ee00-ad71af481073","targetPort":"off"},{"sourceId":"e402c67e-782a-7f62-ee00-ad71af481073","sourcePort":"state","targetId":"9ee1f0ca-f4ec-3192-b319-2e63afa43390","targetPort":"mounted"},{"sourceId":"9ee1f0ca-f4ec-3192-b319-2e63afa43390","sourcePort":"clicked","targetId":"21bba50c-ccde-3aad-be4b-5d09e76f8f73","targetPort":"on"},{"sourceId":"21bba50c-ccde-3aad-be4b-5d09e76f8f73","sourcePort":"state","targetId":"5dc1185d-6731-f341-fefa-35ee438be6a9","targetPort":"mounted"},{"sourceId":"faea4615-e8f7-03cf-cbcb-87ad88125723","sourcePort":"id","targetId":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","targetPort":"currentUser"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-owner","targetId":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","targetPort":"owner"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"id","targetId":"afb1e872-662d-233c-883e-9ee5935a1e52","targetPort":"popupParam-label"},{"sourceId":"2ccec707-1b8b-53a7-4335-f0f8d086ae5f","sourcePort":"onClick","targetId":"afb1e872-662d-233c-883e-9ee5935a1e52","targetPort":"show"},{"sourceId":"5dc1185d-6731-f341-fefa-35ee438be6a9","sourcePort":"this","targetId":"595d74db-c2ef-e89a-9d6d-2d34b9a4f461","targetPort":"in-This"},{"sourceId":"595d74db-c2ef-e89a-9d6d-2d34b9a4f461","sourcePort":"out-ClickedOutside","targetId":"21bba50c-ccde-3aad-be4b-5d09e76f8f73","targetPort":"off"},{"sourceId":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","sourcePort":"result","targetId":"2ccec707-1b8b-53a7-4335-f0f8d086ae5f","targetPort":"mounted"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-labelCommunityFile","targetId":"5b074c6d-ef75-cf68-c167-aeedaa5dbbc0","targetPort":"file"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-name","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-name"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-backgroundColour","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-backgroundColour"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-aiImage","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-aiImage"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-theme","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-theme"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-age","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-age"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-labelCommunityFile","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-labelFile"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-labelCommunityFile","targetId":"6d841f23-4edf-73fc-3dc3-4ec5128369e3","targetPort":"prop-labelCommunityFile"},{"sourceId":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","sourcePort":"isTrueEv","targetId":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","targetPort":"to-fullImage"},{"sourceId":"1fffd3b5-eeea-9f99-0297-3d23214c4c7a","sourcePort":"isFalseEv","targetId":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","targetPort":"to-communityImage"},{"sourceId":"69e0d315-f63b-2b0e-ea7a-cf4ac9ae0a44","sourcePort":"prop-labelFile","targetId":"41ef8a2f-3ab7-4898-3761-79f31442ae43","targetPort":"file"},{"sourceId":"5b074c6d-ef75-cf68-c167-aeedaa5dbbc0","sourcePort":"url","targetId":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","targetPort":"value-communityImage-imageUrl"},{"sourceId":"41ef8a2f-3ab7-4898-3761-79f31442ae43","sourcePort":"url","targetId":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","targetPort":"value-fullImage-imageUrl"},{"sourceId":"6586d743-d6d9-31d8-4919-0883e7bb7d7b","sourcePort":"imageUrl","targetId":"31190486-e2c2-4da9-dbd3-45097d625ca0","targetPort":"src"}],"ports":[],"roots":["96c967d4-4cd3-98e3-b157-50b45003dd21","9ee1f0ca-f4ec-3192-b319-2e63afa43390"]},{"name":"/#Global visual components/Popup template","nodes":[{"id":"9b058164-3898-218e-bcdb-989d4e8caaaa","type":"Group","parameters":{"position":"fixed","backgroundColor":"#00000099","zIndex":4},"ports":[],"children":[{"id":"dbb64b53-72a5-5cf3-e1e1-8fc46d534535","type":"Group","parameters":{"position":"fixed","marginTop":{"value":-200,"unit":"px"}},"ports":[],"children":[]},{"id":"e9171b32-6af7-d643-448d-4261bfbacadf","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","width":{"value":300,"unit":"px"},"paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":40,"unit":"px"},"paddingTop":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"},"rowGap":{"value":20,"unit":"px"},"backgroundColor":"White","borderRadius":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"ffe9e84a-2147-b045-4f4f-2f340dfb94a3","type":"/#Global visual components/Clickable icon","parameters":{"position":"absolute","align X":"right","icon":{"class":"material-icons","code":"close","codeAsClass":false},"margin top":{"value":10,"unit":"px"},"margin right":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"8b47c1d5-987e-91df-05ba-b1e02b1c9fd0","type":"Text","parameters":{"text":"Change label name","textStyle":"Title Large"},"ports":[],"children":[]},{"id":"c50910aa-4854-4cd2-9905-1b6ae280f69c","type":"net.noodl.controls.textinput","variant":"Text Input","parameters":{"label":"New name","labeltextStyle":"Label Medium"},"ports":[],"children":[]},{"id":"82a2e13d-79bd-b1af-3ed4-802c79e5e794","type":"Group","parameters":{"maxWidth":{"value":200,"unit":"px"},"minWidth":{"value":150,"unit":"px"},"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"c8d169b1-344c-9869-f07a-de7bc287b913","type":"net.noodl.controls.textinput","parameters":{"label":"Select a label colour","placeholder":"#FFE6D5","startValue":"#FFE6D5","enabled":false,"position":"absolute"},"stateParameters":{"disabled":{"backgroundColor":"White","borderColor":"Grey - 900","textStyle":"Label Large","color":"Grey - 900","labeltextStyle":"Label Medium","labelcolor":"Grey - 900"}},"ports":[],"children":[]},{"id":"4f0d7a4c-8123-23ab-59c7-6bbe19ccf69f","type":"Group","parameters":{"position":"absolute","zIndex":2},"ports":[],"children":[]},{"id":"7f40b2dc-86b8-7fc3-4325-91136e58d09e","type":"/#Global visual components/Context menu","parameters":{"items":"[\n    {\n        \"label\": \"Beige\",\n        \"value\": \"#FFE6D5\"\n    },\n    {\n        \"label\": \"Blue\",\n        \"value\": \"#B3E5FC\"\n    },\n    {\n        \"label\": \"Green\",\n        \"value\": \"#B2F2BB\"\n    },\n    {\n        \"label\": \"Pink\",\n        \"value\": \"#FFB6C1\"\n    },\n    {\n        \"label\": \"Purple\",\n        \"value\": \"#E6E6FA\"\n    },\n    {\n        \"label\": \"Yellow\",\n        \"value\": \"#FFFACD\"\n    }\n]","offsetTop":{"value":60,"unit":"px"},"offsetLeft":{"value":0,"unit":"px"},"alignX":"left"},"ports":[],"children":[]}]},{"id":"d6fc04bb-b996-de71-1bbf-d817f290b4b4","type":"Group","parameters":{},"ports":[],"children":[{"id":"1e536898-4119-604a-2861-a11dbbf2332e","type":"net.noodl.controls.button","variant":"Primary button","parameters":{"label":"Accept","maxWidth":{"value":999,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"974567a5-ee86-cd44-1063-7e24e88a9d5a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","type":"SetDbModelProperties","parameters":{"collectionName":"Label"},"ports":[],"children":[]},{"id":"3bc72c8f-516b-26e6-7875-9455a9330ae4","type":"DbModel2","parameters":{"collectionName":"Label"},"ports":[],"children":[]},{"id":"ed73b915-dab8-84b7-6133-d2817bd72993","type":"NavigationClosePopup","parameters":{"closeActions":"Done"},"ports":[],"children":[]},{"id":"13bfd442-ed4d-c3cf-a5c6-54bdc9224124","type":"States","parameters":{"states":"#FFE6D5,#B3E5FC,#B2F2BB,#FFB6C1,#E6E6FA,#FFFACD","values":"colour","type-colour":"color","useTransitions":true,"value-#FFE6D5-colour":"#FFE6D5","value-#B2F2BB-colour":"#B2F2BB","value-#FFB6C1-colour":"#FFB6C1","value-#E6E6FA-colour":"#E6E6FA","value-#FFFACD-colour":"#FFFACD","value-#B3E5FC-colour":"#B3E5FC"},"ports":[],"children":[]},{"id":"37583cf3-6f42-31cb-d66e-e1abcb99170f","type":"JavaScriptFunction","parameters":{"functionScript":"const fabricUniqueId = '--fabric-js--';\nconst fabricScriptUrl = `https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js`;\n\nfunction injectFabricScript(onload) {\n    if (!document.querySelector(`#${fabricUniqueId}`)) {\n        const script = document.createElement('script');\n        script.id = fabricUniqueId;\n        script.src = fabricScriptUrl;\n        script.onload = () => {\n            console.log('Fabric.js loaded successfully');\n            onload();\n        };\n        script.onerror = () => {\n            console.error('Failed to load Fabric.js');\n        };\n        document.head.appendChild(script);\n    } else {\n        console.log('Fabric.js already loaded');\n        onload();\n    }\n}\n\ninjectFabricScript(() => {\n    Outputs.Loaded();\n});\n"},"ports":[{"name":"out-Loaded","displayName":"Loaded","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"317e4444-20e9-43b2-bf1e-80d50b1b4815","type":"Javascript2","parameters":{"code":"let canvas = null;\n\n// Font loading function\nfunction loadFont(fontName, fontUrl) {\n    const font = new FontFace(fontName, `url(${fontUrl})`);\n    font.load().then((loadedFont) => {\n        document.fonts.add(loadedFont);\n        console.log(`Font ${fontName} loaded successfully`);\n        // Refresh the canvas to apply the new font\n        if (canvas) {\n            canvas.renderAll();\n        }\n    }).catch((error) => {\n        console.error(`Error loading font ${fontName}:`, error);\n    });\n}\n\nScript.Signals.Setup = function () {\n    const element = Script.Inputs.This.getDOMElement();\n    console.log('Element received:', element);\n\n    if (!element) {\n        console.error('No element received from This input');\n        return;\n    }\n\n    if (!element.querySelector('canvas')) {\n        const canvasElement = document.createElement('canvas');\n        canvasElement.id = 'fabricCanvas';\n        canvasElement.width = Script.Inputs.CanvasWidth || 600;\n        canvasElement.height = Script.Inputs.CanvasHeight || 160;\n        element.appendChild(canvasElement);\n        console.log('Canvas element created and appended');\n    }\n\n    const canvasElement = element.querySelector('canvas');\n    console.log('Canvas element:', canvasElement);\n\n    if (!canvasElement) {\n        console.error('Canvas element could not be found');\n        return;\n    }\n\n    try {\n        canvas = new fabric.Canvas(canvasElement);\n        console.log('Fabric.js canvas initialized:', canvas);\n\n        // Add rounded corners\n        const radius = Script.Inputs.CornerRadius || 20; // default corner radius of 20px\n        const rect = new fabric.Rect({\n            width: canvas.width,\n            height: canvas.height,\n            rx: radius,\n            ry: radius,\n            fill: 'transparent'\n        });\n        canvas.clipPath = rect;\n\n        // Check if a background color is provided, and only set the default if none is provided\n        const defaultBackgroundColor = \"#FFE6D5\";  // Soft peach\n        const bgColor = Script.Inputs.BackgroundColor || defaultBackgroundColor;\n        canvas.setBackgroundColor(bgColor, canvas.renderAll.bind(canvas));\n        canvas.initialBackgroundColor = bgColor;\n\n    } catch (error) {\n        console.error('Failed to initialize Fabric.js canvas:', error);\n    }\n\n    // Load the Fredoka font\n    loadFont('Fredoka', '/fonts/Fredoka/static/Fredoka-Regular.ttf');\n\n    Script.Outputs.CanvasReady();\n};\n\n// Updated signal to add text with specific positioning and alignment\nScript.Signals.AddText = function () {\n    if (canvas) {\n        const textAreaWidth = 400; // 600px - 200px\n        const text = new fabric.Textbox(Script.Inputs.Text || 'Editable Text', {\n            left: 140,\n            top: 50, // You can adjust this value as needed\n            width: textAreaWidth,\n            fontFamily: Script.Inputs.FontFamily || 'Fredoka, sans-serif', // Set Fredoka as default\n            fontSize: Script.Inputs.FontSize || 80,\n            fill: Script.Inputs.TextColor || 'black',\n            textAlign: 'center',\n            originX: 'left',\n            originY: 'top',\n            // Adding options to make canvas additions static. This should be revised later in future versions\n            selectable: false,   // Make the text static\n            hasControls: false,  // Disable controls for resizing or rotating\n            evented: false       // Disable interaction events\n        });\n\n        // Center the text vertically within the canvas\n        text.top = (canvas.height - text.height) / 2;\n\n        canvas.add(text);\n        canvas.renderAll();\n        console.log('Text added to canvas:', text);\n    }\n};\n\n// Updated signal to add an image from a URL with resizing\nScript.Signals.AddImageFromUrl = function () {\n    const imageUrl = Script.Inputs.ImageUrl;\n    console.log('Adding image from URL:', imageUrl);\n\n    if (canvas && imageUrl) {\n        fabric.Image.fromURL(imageUrl, function (img) {\n            // Calculate scaling factor to fit height to 200px max\n            const scaleFactor = 160 / img.height;\n            \n            // Only scale down, not up\n            if (scaleFactor < 1) {\n                img.scale(scaleFactor);\n            }\n\n            canvas.add(img);\n            canvas.renderAll();\n            console.log('Image added to canvas:', img);\n        }, { \n            crossOrigin: 'anonymous',\n        });\n    }\n};\n\n// Updated signal to export the canvas as an image file\nScript.Signals.ExportAsImage = function () {\n    if (canvas) {\n        const imageData = canvas.toDataURL({\n            format: 'png',\n            quality: 1\n        });\n\n        // Convert base64 to blob\n        const byteString = atob(imageData.split(',')[1]);\n        const mimeString = imageData.split(',')[0].split(':')[1].split(';')[0];\n        const ab = new ArrayBuffer(byteString.length);\n        const ia = new Uint8Array(ab);\n        for (let i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n        const blob = new Blob([ab], {type: mimeString});\n\n        // Create a File object\n        const fileName = 'canvas_export.png';\n        const file = new File([blob], fileName, {type: 'image/png'});\n\n        Script.Outputs.ImageFile = file;\n        Script.Outputs.ImageExported();\n        console.log('Canvas exported as image file:', fileName);\n    }\n};\n\n// New signal to reset the canvas\nScript.Signals.ResetCanvas = function () {\n    if (canvas) {\n        // Clear all objects from the canvas\n        canvas.clear();\n        \n        // Reapply the background color if it was set\n        if (Script.Inputs.BackgroundColor) {\n            canvas.setBackgroundColor(Script.Inputs.BackgroundColor, canvas.renderAll.bind(canvas));\n        }\n        \n        canvas.renderAll();\n        console.log('Canvas reset: All objects removed');\n    } else {\n        console.log('Canvas not initialized, unable to reset');\n    }\n};\n\n// Cleanup when the node is unmounted\nScript.OnDestroy = function () {\n    if (canvas) {\n        canvas.dispose();\n        canvas = null;\n        console.log('Canvas disposed');\n    }\n};\n\nScript.Signals.DeleteSelectedObject = function () {\n    if (canvas) {\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            canvas.remove(activeObject);\n            canvas.renderAll();\n            console.log('Selected object deleted:', activeObject);\n        } else {\n            console.log('No object selected to delete');\n        }\n    }\n};\n\n// New signal to set the background color\nScript.Signals.SetBackgroundColor = function () {\n    if (canvas) {\n        const color = Script.Inputs.colour;\n        if (color) {\n            canvas.setBackgroundColor(color, function () {\n                canvas.renderAll();  // Ensure the canvas re-renders after setting the background color\n                console.log('Canvas background color set to:', color);\n            });\n        } else {\n            console.log('No color specified for background');\n        }\n    }\n};\n"},"ports":[{"name":"Setup","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"AddText","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"AddImageFromUrl","plug":"input","type":{"name":"signal"},"group":"Inputs","index":7},{"name":"ExportAsImage","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"ResetCanvas","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"DeleteSelectedObject","plug":"input","type":{"name":"signal"},"group":"Inputs","index":10},{"name":"SetBackgroundColor","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":12},{"name":"CanvasWidth","displayName":"CanvasWidth","plug":"input","type":"*","group":"Inputs","index":13},{"name":"CanvasHeight","displayName":"CanvasHeight","plug":"input","type":"*","group":"Inputs","index":14},{"name":"CornerRadius","displayName":"CornerRadius","plug":"input","type":"*","group":"Inputs","index":15},{"name":"BackgroundColor","displayName":"BackgroundColor","plug":"input","type":"*","group":"Inputs","index":16},{"name":"Text","displayName":"Text","plug":"input","type":"*","group":"Inputs","index":17},{"name":"FontFamily","displayName":"FontFamily","plug":"input","type":"*","group":"Inputs","index":18},{"name":"FontSize","displayName":"FontSize","plug":"input","type":"*","group":"Inputs","index":19},{"name":"TextColor","displayName":"TextColor","plug":"input","type":"*","group":"Inputs","index":20},{"name":"ImageUrl","displayName":"ImageUrl","plug":"input","type":"*","group":"Inputs","index":21},{"name":"colour","displayName":"colour","plug":"input","type":"*","group":"Inputs","index":22},{"name":"CanvasReady","displayName":"CanvasReady","plug":"output","type":"signal","group":"Outputs","index":23},{"name":"ImageExported","displayName":"ImageExported","plug":"output","type":"signal","group":"Outputs","index":24},{"name":"ImageFile","displayName":"ImageFile","plug":"output","type":"*","group":"Outputs","index":25}],"children":[]},{"id":"47f69e36-8863-50b6-5318-4cd424a5f562","type":"JavaScriptFunction","parameters":{"functionScript":"const imageUrl = Inputs.ImageUrl || '';\nif (!imageUrl) throw new Error('Invalid image url');\n\ntry {\n  // Fetch the image from the provided url\n  const response = await fetch(imageUrl);\n  // Convert the fetched image to Blob\n  const blob = await response.blob();\n  // Create a FileReader object\n  const reader = new FileReader();\n  // Read the blob as a base64 string\n  reader.readAsDataURL(blob);\n  // Wait for the reader to finish\n  reader.onloadend = function() {\n    // Extract the base64 string from the result\n    const base64data = reader.result;\n    // Output the base64 string\n    Outputs.Base64String = base64data;\n    Outputs.Success();\n  }\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-ImageUrl","displayName":"ImageUrl","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Base64String","displayName":"Base64String","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"ec1c4576-f82b-6698-b942-94c0a65fa869","type":"Cloud File","parameters":{},"ports":[],"children":[]},{"id":"fb9c264e-554c-8efe-8898-1b587150a4cb","type":"Upload File","parameters":{},"ports":[],"children":[]},{"id":"0392df18-6cf2-0312-2f68-8e3bdc3816b9","type":"Timer","parameters":{"duration":500},"ports":[],"children":[]}],"connections":[{"sourceId":"974567a5-ee86-cd44-1063-7e24e88a9d5a","sourcePort":"label","targetId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","targetPort":"modelId"},{"sourceId":"c50910aa-4854-4cd2-9905-1b6ae280f69c","sourcePort":"onTextChanged","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"prop-name"},{"sourceId":"974567a5-ee86-cd44-1063-7e24e88a9d5a","sourcePort":"label","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"modelId"},{"sourceId":"ffe9e84a-2147-b045-4f4f-2f340dfb94a3","sourcePort":"clicked","targetId":"ed73b915-dab8-84b7-6133-d2817bd72993","targetPort":"close"},{"sourceId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","sourcePort":"stored","targetId":"ed73b915-dab8-84b7-6133-d2817bd72993","targetPort":"close"},{"sourceId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","sourcePort":"stored","targetId":"ed73b915-dab8-84b7-6133-d2817bd72993","targetPort":"closeAction-Done"},{"sourceId":"4f0d7a4c-8123-23ab-59c7-6bbe19ccf69f","sourcePort":"onClick","targetId":"7f40b2dc-86b8-7fc3-4325-91136e58d09e","targetPort":"mount"},{"sourceId":"7f40b2dc-86b8-7fc3-4325-91136e58d09e","sourcePort":"itemValue","targetId":"c8d169b1-344c-9869-f07a-de7bc287b913","targetPort":"startValue"},{"sourceId":"c8d169b1-344c-9869-f07a-de7bc287b913","sourcePort":"onTextChanged","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"prop-backgroundColour"},{"sourceId":"c8d169b1-344c-9869-f07a-de7bc287b913","sourcePort":"onTextChanged","targetId":"13bfd442-ed4d-c3cf-a5c6-54bdc9224124","targetPort":"currentState"},{"sourceId":"13bfd442-ed4d-c3cf-a5c6-54bdc9224124","sourcePort":"colour","targetId":"c8d169b1-344c-9869-f07a-de7bc287b913","targetPort":"backgroundColor"},{"sourceId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","sourcePort":"prop-backgroundColour","targetId":"c8d169b1-344c-9869-f07a-de7bc287b913","targetPort":"startValue"},{"sourceId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","sourcePort":"prop-name","targetId":"c50910aa-4854-4cd2-9905-1b6ae280f69c","targetPort":"startValue"},{"sourceId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","sourcePort":"prop-aiImage","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"prop-aiImage"},{"sourceId":"37583cf3-6f42-31cb-d66e-e1abcb99170f","sourcePort":"out-Loaded","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"Setup"},{"sourceId":"c50910aa-4854-4cd2-9905-1b6ae280f69c","sourcePort":"onTextChanged","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"Text"},{"sourceId":"c8d169b1-344c-9869-f07a-de7bc287b913","sourcePort":"onTextChanged","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"BackgroundColor"},{"sourceId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","sourcePort":"prop-aiImage","targetId":"ec1c4576-f82b-6698-b942-94c0a65fa869","targetPort":"file"},{"sourceId":"ec1c4576-f82b-6698-b942-94c0a65fa869","sourcePort":"url","targetId":"47f69e36-8863-50b6-5318-4cd424a5f562","targetPort":"in-ImageUrl"},{"sourceId":"47f69e36-8863-50b6-5318-4cd424a5f562","sourcePort":"out-Base64String","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"ImageUrl"},{"sourceId":"e9171b32-6af7-d643-448d-4261bfbacadf","sourcePort":"didMount","targetId":"37583cf3-6f42-31cb-d66e-e1abcb99170f","targetPort":"run"},{"sourceId":"dbb64b53-72a5-5cf3-e1e1-8fc46d534535","sourcePort":"this","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"This"},{"sourceId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","sourcePort":"ImageFile","targetId":"fb9c264e-554c-8efe-8898-1b587150a4cb","targetPort":"file"},{"sourceId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","sourcePort":"ImageExported","targetId":"fb9c264e-554c-8efe-8898-1b587150a4cb","targetPort":"upload"},{"sourceId":"fb9c264e-554c-8efe-8898-1b587150a4cb","sourcePort":"success","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"store"},{"sourceId":"1e536898-4119-604a-2861-a11dbbf2332e","sourcePort":"onClick","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"AddText"},{"sourceId":"1e536898-4119-604a-2861-a11dbbf2332e","sourcePort":"onClick","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"AddImageFromUrl"},{"sourceId":"fb9c264e-554c-8efe-8898-1b587150a4cb","sourcePort":"success","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"ResetCanvas"},{"sourceId":"1e536898-4119-604a-2861-a11dbbf2332e","sourcePort":"onClick","targetId":"0392df18-6cf2-0312-2f68-8e3bdc3816b9","targetPort":"start"},{"sourceId":"0392df18-6cf2-0312-2f68-8e3bdc3816b9","sourcePort":"timerFinished","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"ExportAsImage"},{"sourceId":"fb9c264e-554c-8efe-8898-1b587150a4cb","sourcePort":"cloudFile","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"prop-labelFile"},{"sourceId":"c8d169b1-344c-9869-f07a-de7bc287b913","sourcePort":"textChanged","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"SetBackgroundColor"},{"sourceId":"c8d169b1-344c-9869-f07a-de7bc287b913","sourcePort":"textChanged","targetId":"317e4444-20e9-43b2-bf1e-80d50b1b4815","targetPort":"ResetCanvas"},{"sourceId":"3bc72c8f-516b-26e6-7875-9455a9330ae4","sourcePort":"prop-community","targetId":"43d6f9cc-7c8a-1379-fdc1-dfc986465ec1","targetPort":"prop-community"}],"ports":[{"name":"label","type":{"name":"string","allowConnectionsOnly":true},"group":"General","plug":"input","index":1}],"roots":["9b058164-3898-218e-bcdb-989d4e8caaaa"]},{"name":"/#Global visual components/Popup share","nodes":[{"id":"b242b89b-ca98-2c92-ac33-a5d901097908","type":"Group","parameters":{"position":"fixed","backgroundColor":"#00000099","zIndex":4},"ports":[],"children":[{"id":"a76c3d6e-c71a-1b4c-41ae-f550f869fea8","type":"Group","parameters":{"position":"fixed","marginTop":{"value":-200,"unit":"px"}},"ports":[],"children":[]},{"id":"dacce3e0-dcdb-fd0c-a4c1-261f335acb61","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","width":{"value":300,"unit":"px"},"paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":40,"unit":"px"},"paddingTop":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"},"rowGap":{"value":20,"unit":"px"},"backgroundColor":"White","borderRadius":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"88754148-b72c-f598-279c-27c35b684a0c","type":"/#Global visual components/Clickable icon","parameters":{"position":"absolute","align X":"right","icon":{"class":"material-icons","code":"close","codeAsClass":false},"margin top":{"value":10,"unit":"px"},"margin right":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"bebcc81e-24d1-ba78-cb41-59cead6f71a2","type":"Text","parameters":{"text":"Share label","textStyle":"Title Large"},"ports":[],"children":[]},{"id":"6f8c03f3-3573-34c4-ac17-8987bc5af863","type":"Text","parameters":{},"ports":[],"children":[]},{"id":"2e40e29c-ac36-0409-dc30-5e380ad6e876","type":"Image","parameters":{"sizeMode":"explicit","alignX":"center","width":{"value":150,"unit":"px"},"height":{"value":150,"unit":"px"}},"ports":[],"children":[]},{"id":"9d24a707-1b7d-5255-d3b1-bb692b4d5cd6","type":"module.inlineHtml","parameters":{"html":"<!-- AddToAny BEGIN -->\n<div>\n<a href=\"https://www.addtoany.com/share#url={{urlEncoded}}&amp;title={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/a2a.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/email?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/email.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/facebook?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/facebook.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/facebook_messenger?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/facebook_messenger.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/whatsapp?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/whatsapp.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/telegram?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/telegram.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/pinterest?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/pinterest.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/reddit?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/reddit.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/x?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/x.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n<a href=\"https://www.addtoany.com/add_to/copy_link?linkurl={{urlEncoded}}&amp;linkname={{titleEncoded}}\" target=\"_blank\"><img src=\"https://static.addtoany.com/buttons/link.svg\" width=\"32\" height=\"32\" style=\"background-color:#6DD3CE\"></a>\n</div>\n<!-- AddToAny END -->","runJs":true},"ports":[],"children":[]}]}]},{"id":"e08b72b9-90e3-f1b3-7828-1c5c9367250e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"229ea913-e8bf-2221-ab77-759a6b9abacb","type":"DbModel2","parameters":{"collectionName":"Label"},"ports":[],"children":[]},{"id":"6ac1f2be-1ecf-a9da-bd51-04b7b4970919","type":"NavigationClosePopup","parameters":{"closeActions":"Done"},"ports":[],"children":[]},{"id":"3d72c193-90d2-40c8-d810-c3d080eecb04","type":"Cloud File","parameters":{},"ports":[],"children":[]},{"id":"350849be-ac52-f1e0-64b4-e80063ceda7c","type":"JavaScriptFunction","parameters":{"functionScript":"const url = Inputs.URL || '';\nif (!url) throw new Error('Invalid URL');\n\nconst qrCodeSize = Inputs.QRCodeSize || '150x150';\nconst qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${qrCodeSize}&data=${url}`;\n\ntry {\n  const response = await fetch(qrCodeUrl);\n  if (!response.ok) throw new Error('Failed to generate QR code');\n  \n  // The API returns the QR code as an image, so we get the blob and convert it to a URL\n  const blob = await response.blob();\n  const qrCodeImage = URL.createObjectURL(blob);\n  \n  Outputs.QRCodeImage = qrCodeImage;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-URL","displayName":"URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-QRCodeSize","displayName":"QRCodeSize","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-QRCodeImage","displayName":"QRCodeImage","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"802461d2-30ef-67bc-85a7-ab3c26f1b9d7","type":"JavaScriptFunction","parameters":{"functionScript":"const url = Inputs.URL || '';\nif (!url) throw new Error('Invalid URL');\n\ntry {\n  const encodedURL = encodeURIComponent(url);\n  Outputs.EncodedURL = encodedURL;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-URL","displayName":"URL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-EncodedURL","displayName":"EncodedURL","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"6911831b-083c-9e2a-1eeb-58392225ef6d","type":"JavaScriptFunction","parameters":{"functionScript":"const title = Inputs.title || '';\nif (!title) throw new Error('Invalid title');\n\ntry {\n  const encodedTitle = encodeURIComponent(title);\n  Outputs.EncodedTitle = encodedTitle;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-title","displayName":"title","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-EncodedTitle","displayName":"EncodedTitle","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"92f78365-f1a6-65b4-b365-37c6a0ff70f3","type":"String","parameters":{"value":"Check out my Tagiser label"},"ports":[],"children":[]},{"id":"0cf60d8f-0bdb-8e5e-97de-fd80d005f006","type":"String Format","parameters":{"format":"Label code: {code}"},"ports":[],"children":[]}],"connections":[{"sourceId":"e08b72b9-90e3-f1b3-7828-1c5c9367250e","sourcePort":"label","targetId":"229ea913-e8bf-2221-ab77-759a6b9abacb","targetPort":"modelId"},{"sourceId":"88754148-b72c-f598-279c-27c35b684a0c","sourcePort":"clicked","targetId":"6ac1f2be-1ecf-a9da-bd51-04b7b4970919","targetPort":"close"},{"sourceId":"229ea913-e8bf-2221-ab77-759a6b9abacb","sourcePort":"prop-aiImage","targetId":"3d72c193-90d2-40c8-d810-c3d080eecb04","targetPort":"file"},{"sourceId":"3d72c193-90d2-40c8-d810-c3d080eecb04","sourcePort":"url","targetId":"350849be-ac52-f1e0-64b4-e80063ceda7c","targetPort":"in-URL"},{"sourceId":"350849be-ac52-f1e0-64b4-e80063ceda7c","sourcePort":"out-QRCodeImage","targetId":"2e40e29c-ac36-0409-dc30-5e380ad6e876","targetPort":"src"},{"sourceId":"3d72c193-90d2-40c8-d810-c3d080eecb04","sourcePort":"url","targetId":"802461d2-30ef-67bc-85a7-ab3c26f1b9d7","targetPort":"in-URL"},{"sourceId":"802461d2-30ef-67bc-85a7-ab3c26f1b9d7","sourcePort":"out-EncodedURL","targetId":"9d24a707-1b7d-5255-d3b1-bb692b4d5cd6","targetPort":"prop-urlEncoded"},{"sourceId":"6911831b-083c-9e2a-1eeb-58392225ef6d","sourcePort":"out-EncodedTitle","targetId":"9d24a707-1b7d-5255-d3b1-bb692b4d5cd6","targetPort":"prop-titleEncoded"},{"sourceId":"92f78365-f1a6-65b4-b365-37c6a0ff70f3","sourcePort":"savedValue","targetId":"6911831b-083c-9e2a-1eeb-58392225ef6d","targetPort":"in-title"},{"sourceId":"229ea913-e8bf-2221-ab77-759a6b9abacb","sourcePort":"prop-shareCode","targetId":"0cf60d8f-0bdb-8e5e-97de-fd80d005f006","targetPort":"code"},{"sourceId":"0cf60d8f-0bdb-8e5e-97de-fd80d005f006","sourcePort":"formatted","targetId":"6f8c03f3-3573-34c4-ac17-8987bc5af863","targetPort":"text"}],"ports":[{"name":"label","type":{"name":"string","allowConnectionsOnly":true},"group":"General","plug":"input","index":1}],"roots":["b242b89b-ca98-2c92-ac33-a5d901097908"]},{"name":"/Pagination","nodes":[{"id":"9a549698-ae19-1112-9961-ddde52564645","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignItems":"center"},"ports":[],"children":[{"id":"cb41af55-5951-d83f-e778-77be39d4acab","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","alignItems":"center","alignX":"center"},"ports":[],"children":[{"id":"ed576d6a-ab2e-302b-5ad5-25e9bb71ec4e","type":"net.noodl.controls.button","parameters":{"minWidth":{"value":0,"unit":"px"},"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"chevron_left"},"iconSize":{"value":30,"unit":"px"},"iconColor":"Grey - 900","backgroundColor":"transparent","sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"marginRight":{"value":30,"unit":"px"}},"stateParameters":{"hover":{"iconColor":"Grey - 700"},"pressed":{},"disabled":{"iconColor":"Grey - 400"}},"ports":[],"children":[]},{"id":"b53d7038-fc7a-dedc-c741-4cfd30924a76","type":"/Pagination/Page Item","parameters":{"Index":"0"},"ports":[],"children":[]},{"id":"14336dd1-465d-bf75-7fe9-7b245770946b","type":"Group","parameters":{"flexDirection":"row","clip":true,"justifyContent":"space-around","sizeMode":"contentHeight","alignItems":"center"},"ports":[],"children":[{"id":"cf83af71-84af-2d3a-1926-a3e4314c2792","type":"/Pagination/Ellipsis","parameters":{},"ports":[],"children":[]},{"id":"bda4d7b0-3c41-2747-7dda-0992a6399fa7","type":"Group","parameters":{"flexDirection":"row","justifyContent":"space-around","sizeMode":"contentHeight","alignY":"center"},"ports":[],"children":[{"id":"71196776-cc81-2fde-1f0e-aa4ca20e0bb0","type":"For Each","parameters":{"template":"/Pagination/Page Item"},"ports":[],"children":[]}]},{"id":"9c3d37c3-dd74-715d-f903-f5cd82e03a7f","type":"/Pagination/Ellipsis","parameters":{},"ports":[],"children":[]}]},{"id":"4bcff57f-633d-6b9d-ba14-0f84c9bbdbec","type":"/Pagination/Page Item","parameters":{"Index":"0"},"ports":[],"children":[]},{"id":"9453de79-cdb7-df1b-c251-afff4a3130fb","type":"net.noodl.controls.button","parameters":{"minWidth":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"chevron_right"},"backgroundColor":"transparent","iconSize":{"value":30,"unit":"px"},"iconColor":"Grey - 900","sizeMode":"explicit","width":{"value":32,"unit":"px"},"height":{"value":32,"unit":"px"},"marginLeft":{"value":30,"unit":"px"}},"stateParameters":{"hover":{"iconColor":"Grey - 700"},"disabled":{"iconColor":"Grey - 400"}},"ports":[],"children":[]}]}]},{"id":"1b3a4154-478a-2ab7-7c56-45510c08a7c0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"ff1cb52b-def9-7fca-4051-b63d12ac7653","type":"JavaScriptFunction","parameters":{"functionScript":"const numPages = Math.ceil(Inputs.TotalCount / Inputs.PageSize);\nconst selectedPage = Inputs.SelectedPage;\n\n// The number of direct pages that first in the control\nconst _width = Inputs.Width - 214; // Remove margin, buttons etc\nif(isNaN(_width)) return;\n\nconst numPageSlots = Math.min(Math.floor(_width / 45),numPages);\n\n\nif(numPages > 1) {\n    Outputs.LastPageIndex = numPages-1;\n    Outputs.LastPageVisible = true;\n}\nelse\n    Outputs.LastPageVisible = false;\n\n\nconst pages = [];\n\nif(numPageSlots >= (numPages-2)) {\n    // All pages fit\n    for(let p = 1; p < numPages-1; p++) pages.push({\n        id:Component.Object.id + '-' + p,\n        Index:p\n    })\n\n    Outputs.LastEllipsis = false;\n    Outputs.FirstEllipsis = false;\n}\nelse {\n    let firstIndex = selectedPage;\n    let lastIndex = selectedPage;\n    while(lastIndex - firstIndex < (numPageSlots-1)) {\n        firstIndex = Math.max(1,firstIndex-1);\n        lastIndex = Math.min(numPages-2,lastIndex+1);\n    }\n\n    let lastEllipsis = false;\n    if(lastIndex < numPages-2) { \n        // We did not reach the end of num pages, make room for ...\n        lastIndex--;\n        lastEllipsis = true;\n    }\n\n    let firstEllipsis = false;\n    if(firstIndex > 1) { \n        // We did not reach the end of num pages, make room for ...\n        firstIndex++;\n        firstEllipsis = true;\n    }\n\n    for(let p = firstIndex; p <= lastIndex; p++) pages.push({\n        id:Component.Object.id + '-' + p,\n        Index:p\n    })\n\n    Outputs.LastEllipsis = lastEllipsis;\n    Outputs.FirstEllipsis = firstEllipsis;\n}\n\nComponent.Object.NumPages = numPages;\nComponent.Object.Skip = Inputs.SelectedPage * Inputs.PageSize;\n\nOutputs.BackEnabled = Inputs.SelectedPage > 0;\nOutputs.NextEnabled = Inputs.SelectedPage < numPages-1;\n\nOutputs.Pages = pages;","scriptInputs":[{"id":"yuep","label":"TotalCount"},{"id":"fpsy","label":"PageSize"},{"id":"0k97","label":"SelectedPage"}],"intype-TotalCount":"number","in-TotalCount":100,"intype-PageSize":"number","in-PageSize":10,"intype-SelectedPage":"number","in-SelectedPage":0},"ports":[{"name":"intype-TotalCount","displayName":"Type","editorName":"TotalCount | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"yuep","index":4},{"name":"in-TotalCount","displayName":"TotalCount","plug":"input","type":"number","group":"Inputs","index":5},{"name":"intype-PageSize","displayName":"Type","editorName":"PageSize | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"fpsy","index":6},{"name":"in-PageSize","displayName":"PageSize","plug":"input","type":"number","group":"Inputs","index":7},{"name":"intype-SelectedPage","displayName":"Type","editorName":"SelectedPage | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"0k97","index":8},{"name":"in-SelectedPage","displayName":"SelectedPage","plug":"input","type":"number","group":"Inputs","index":9},{"name":"in-Width","displayName":"Width","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-LastPageIndex","displayName":"LastPageIndex","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-LastPageVisible","displayName":"LastPageVisible","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-LastEllipsis","displayName":"LastEllipsis","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-FirstEllipsis","displayName":"FirstEllipsis","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-BackEnabled","displayName":"BackEnabled","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-NextEnabled","displayName":"NextEnabled","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Pages","displayName":"Pages","plug":"output","type":"*","group":"Outputs","index":17}],"children":[]},{"id":"474bfbf2-3397-da61-dbc5-636917c77a0b","type":"net.noodl.ComponentObject","parameters":{"properties":"Selected Page"},"ports":[],"children":[]},{"id":"c5bf1e5e-92ce-5883-9611-cfdd70faf1a5","type":"JavaScriptFunction","parameters":{"functionScript":"if(Component.Object['Selected Page'] > 0)\n    Component.Object['Selected Page']--;\n\nOutputs.Changed();"},"ports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"806aa6bf-4147-33e5-e823-fd3e5cc4308c","type":"JavaScriptFunction","parameters":{"functionScript":"if(Component.Object['Selected Page'] < Component.Object.NumPages-1)\n    Component.Object['Selected Page']++;\n\nOutputs.Changed();"},"ports":[{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"f466560b-52a5-d5da-7800-4c36ff905db4","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"c589c7ce-fbb8-f0c5-fb8b-c40d20c36536","type":"net.noodl.ComponentObject","parameters":{"properties":"Selected Page,Skip"},"ports":[],"children":[]},{"id":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"1b3a4154-478a-2ab7-7c56-45510c08a7c0","sourcePort":"Total Count","targetId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","targetPort":"in-TotalCount"},{"sourceId":"1b3a4154-478a-2ab7-7c56-45510c08a7c0","sourcePort":"Page Size","targetId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","targetPort":"in-PageSize"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-Pages","targetId":"71196776-cc81-2fde-1f0e-aa4ca20e0bb0","targetPort":"items"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-LastPageIndex","targetId":"4bcff57f-633d-6b9d-ba14-0f84c9bbdbec","targetPort":"Index"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-FirstEllipsis","targetId":"cf83af71-84af-2d3a-1926-a3e4314c2792","targetPort":"Mounted"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-LastEllipsis","targetId":"9c3d37c3-dd74-715d-f903-f5cd82e03a7f","targetPort":"Mounted"},{"sourceId":"474bfbf2-3397-da61-dbc5-636917c77a0b","sourcePort":"value-Selected Page","targetId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","targetPort":"in-SelectedPage"},{"sourceId":"ed576d6a-ab2e-302b-5ad5-25e9bb71ec4e","sourcePort":"onClick","targetId":"c5bf1e5e-92ce-5883-9611-cfdd70faf1a5","targetPort":"run"},{"sourceId":"9453de79-cdb7-df1b-c251-afff4a3130fb","sourcePort":"onClick","targetId":"806aa6bf-4147-33e5-e823-fd3e5cc4308c","targetPort":"run"},{"sourceId":"f466560b-52a5-d5da-7800-4c36ff905db4","sourcePort":"savedValue","targetId":"474bfbf2-3397-da61-dbc5-636917c77a0b","targetPort":"value-Selected Page"},{"sourceId":"1b3a4154-478a-2ab7-7c56-45510c08a7c0","sourcePort":"Selected Page","targetId":"f466560b-52a5-d5da-7800-4c36ff905db4","targetPort":"value"},{"sourceId":"c589c7ce-fbb8-f0c5-fb8b-c40d20c36536","sourcePort":"value-Selected Page","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Selected Page"},{"sourceId":"c589c7ce-fbb8-f0c5-fb8b-c40d20c36536","sourcePort":"value-Skip","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Skip"},{"sourceId":"806aa6bf-4147-33e5-e823-fd3e5cc4308c","sourcePort":"out-Changed","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Changed"},{"sourceId":"c5bf1e5e-92ce-5883-9611-cfdd70faf1a5","sourcePort":"out-Changed","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Changed"},{"sourceId":"71196776-cc81-2fde-1f0e-aa4ca20e0bb0","sourcePort":"itemOutputSignal-Changed","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Changed"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-BackEnabled","targetId":"ed576d6a-ab2e-302b-5ad5-25e9bb71ec4e","targetPort":"enabled"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-NextEnabled","targetId":"9453de79-cdb7-df1b-c251-afff4a3130fb","targetPort":"enabled"},{"sourceId":"b53d7038-fc7a-dedc-c741-4cfd30924a76","sourcePort":"Changed","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Changed"},{"sourceId":"4bcff57f-633d-6b9d-ba14-0f84c9bbdbec","sourcePort":"Changed","targetId":"705d9770-5d3c-9e8e-d734-f7ef0ce71417","targetPort":"Changed"},{"sourceId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","sourcePort":"out-LastPageVisible","targetId":"4bcff57f-633d-6b9d-ba14-0f84c9bbdbec","targetPort":"Mounted"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Align X","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"alignX"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Align Y","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"alignY"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Margin Top","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"marginTop"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Margin Bottom","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"marginBottom"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Margin Left","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"marginLeft"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Margin Right","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"marginRight"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Position","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"position"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Width","targetId":"9a549698-ae19-1112-9961-ddde52564645","targetPort":"width"},{"sourceId":"9a549698-ae19-1112-9961-ddde52564645","sourcePort":"boundingWidth","targetId":"ff1cb52b-def9-7fca-4051-b63d12ac7653","targetPort":"in-Width"},{"sourceId":"9f6a1651-d0e2-5f8a-3f0c-2c3f45b57d41","sourcePort":"Inner Align X","targetId":"cb41af55-5951-d83f-e778-77be39d4acab","targetPort":"alignX"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Selected Page","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Total Count","type":"number","default":100,"group":"Inputs","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Skip","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":2},{"name":"Page Size","type":"number","default":10,"group":"Inputs","plug":"input","index":2},{"name":"Inner Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"default":"center","group":"Inner Alignment","plug":"input","index":2},{"name":"Changed","type":{"name":"signal"},"plug":"output","index":3},{"name":"Selected Page","type":{"name":"number"},"default":0,"plug":"input","index":3},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":3},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":4},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":5},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":6},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8}],"roots":["9a549698-ae19-1112-9961-ddde52564645"]},{"name":"/Pagination/Page Item","nodes":[{"id":"7ea9a70f-dfd3-5fb2-a713-6a07d32a2c38","type":"Group","parameters":{"width":{"value":45,"unit":"px"},"height":{"value":45,"unit":"px"},"sizeMode":"explicit"},"ports":[],"children":[{"id":"28ad72a5-c04a-8b66-9d85-49631f8f715c","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"borderRadius":{"value":50,"unit":"px"},"height":{"value":32,"unit":"px","isFixed":false},"sizeMode":"explicit","width":{"value":32,"unit":"px"},"alignY":"center","alignX":"center"},"stateParameters":{"hover":{"backgroundColor":"Grey - 400"}},"ports":[],"children":[]}]},{"id":"6b451db5-572e-07af-9e90-7f8b285ee974","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"28c3e9e4-b980-c2f3-efcb-820a0b8d928c","type":"Expression","parameters":{"expression":"Selected==This"},"ports":[],"children":[]},{"id":"ec426830-3f25-d089-00d3-823347a674f4","type":"net.noodl.ParentComponentObject","parameters":{"properties":"Selected Page"},"ports":[],"children":[]},{"id":"f43e466f-92a2-247d-6336-b45a82a007be","type":"net.noodl.SetParentComponentObjectProperties","parameters":{"properties":"Selected Page"},"ports":[],"children":[]},{"id":"13baa953-8358-ca7a-9e7e-1adc368efab2","type":"Expression","parameters":{"expression":"Index+1"},"ports":[],"children":[]},{"id":"f50d8988-c843-8641-5c69-116a5c65b577","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"610def3d-0112-94df-828c-9eb9ac09edb6","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"da9abcc3-52c4-5fd5-cff8-968a971d5037","type":"JavaScriptFunction","parameters":{"functionScript":"if(Inputs.Selected) {\n    Outputs.BgColor = \"Primary\";\n    Outputs.TextColor = \"White\";\n}\nelse if(Inputs.Hover) {\n    Outputs.BgColor = \"Grey - 300\";\n    Outputs.TextColor = \"Grey - 900\";\n}\nelse {\n    Outputs.BgColor = \"transparent\";\n    Outputs.TextColor = \"Grey - 900\";\n}"},"ports":[{"name":"in-Selected","displayName":"Selected","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Hover","displayName":"Hover","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-BgColor","displayName":"BgColor","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-TextColor","displayName":"TextColor","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"6b451db5-572e-07af-9e90-7f8b285ee974","sourcePort":"Index","targetId":"28c3e9e4-b980-c2f3-efcb-820a0b8d928c","targetPort":"This"},{"sourceId":"ec426830-3f25-d089-00d3-823347a674f4","sourcePort":"value-Selected Page","targetId":"28c3e9e4-b980-c2f3-efcb-820a0b8d928c","targetPort":"Selected"},{"sourceId":"28ad72a5-c04a-8b66-9d85-49631f8f715c","sourcePort":"onClick","targetId":"f43e466f-92a2-247d-6336-b45a82a007be","targetPort":"store"},{"sourceId":"6b451db5-572e-07af-9e90-7f8b285ee974","sourcePort":"Index","targetId":"f43e466f-92a2-247d-6336-b45a82a007be","targetPort":"prop-Selected Page"},{"sourceId":"13baa953-8358-ca7a-9e7e-1adc368efab2","sourcePort":"result","targetId":"28ad72a5-c04a-8b66-9d85-49631f8f715c","targetPort":"label"},{"sourceId":"6b451db5-572e-07af-9e90-7f8b285ee974","sourcePort":"Index","targetId":"f50d8988-c843-8641-5c69-116a5c65b577","targetPort":"value"},{"sourceId":"f50d8988-c843-8641-5c69-116a5c65b577","sourcePort":"savedValue","targetId":"13baa953-8358-ca7a-9e7e-1adc368efab2","targetPort":"Index"},{"sourceId":"f43e466f-92a2-247d-6336-b45a82a007be","sourcePort":"stored","targetId":"610def3d-0112-94df-828c-9eb9ac09edb6","targetPort":"Changed"},{"sourceId":"6b451db5-572e-07af-9e90-7f8b285ee974","sourcePort":"Mounted","targetId":"7ea9a70f-dfd3-5fb2-a713-6a07d32a2c38","targetPort":"mounted"},{"sourceId":"28ad72a5-c04a-8b66-9d85-49631f8f715c","sourcePort":"hoverState","targetId":"da9abcc3-52c4-5fd5-cff8-968a971d5037","targetPort":"in-Hover"},{"sourceId":"da9abcc3-52c4-5fd5-cff8-968a971d5037","sourcePort":"out-BgColor","targetId":"28ad72a5-c04a-8b66-9d85-49631f8f715c","targetPort":"backgroundColor"},{"sourceId":"da9abcc3-52c4-5fd5-cff8-968a971d5037","sourcePort":"out-TextColor","targetId":"28ad72a5-c04a-8b66-9d85-49631f8f715c","targetPort":"color"},{"sourceId":"28c3e9e4-b980-c2f3-efcb-820a0b8d928c","sourcePort":"isTrue","targetId":"da9abcc3-52c4-5fd5-cff8-968a971d5037","targetPort":"in-Selected"}],"ports":[{"name":"Changed","type":"signal","plug":"output","index":1},{"name":"Index","type":{"name":"number"},"plug":"input","index":1},{"name":"Mounted","type":"boolean","default":true,"group":"General","plug":"input","index":2}],"roots":["7ea9a70f-dfd3-5fb2-a713-6a07d32a2c38"]},{"name":"/Pagination/Ellipsis","nodes":[{"id":"d9332903-c791-2dbb-b5f8-0381de59dfb2","type":"Group","parameters":{"width":{"value":45,"unit":"px"},"height":{"value":45,"unit":"px"}},"ports":[],"children":[{"id":"1ac93ecb-8b65-918b-6ff6-0f9e0c3de7a6","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"more_horiz"},"iconColor":"Grey - 500","iconSize":{"value":20,"unit":"px"},"alignY":"center","alignX":"center"},"ports":[],"children":[]}]},{"id":"95360068-23db-b0f6-849f-89f8dd490049","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"95360068-23db-b0f6-849f-89f8dd490049","sourcePort":"Mounted","targetId":"d9332903-c791-2dbb-b5f8-0381de59dfb2","targetPort":"mounted"}],"ports":[{"name":"Mounted","type":"boolean","default":true,"group":"General","plug":"input","index":1}],"roots":["d9332903-c791-2dbb-b5f8-0381de59dfb2"]},{"name":"/Main/Section category list","nodes":[{"id":"ab7c057a-57f9-924f-9e79-d122547e99b1","type":"Group","parameters":{"rowGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"8c3238d0-a87c-de5c-044a-f41d8c79d6b2","type":"Text","parameters":{"textStyle":"Title Large","text":"Community labels"},"ports":[],"children":[]},{"id":"3f59ddf9-f5a4-efa7-6e67-9b9bac8b2778","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 1 1 1","minWidth":{"value":300,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"b0d64b6e-a2a8-fd49-c1c6-4f47ed74f675","type":"For Each","parameters":{"template":"/Main/label item"},"ports":[],"children":[]}]},{"id":"4f3cbbe7-7e5f-186c-8b2c-8e50fc71840f","type":"/Pagination","parameters":{"Page Size":4},"ports":[],"children":[]}]},{"id":"ae74cd27-2c42-dd54-795e-225314da1678","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"1004ef87-8b52-2b94-daa6-01aaf67bcead","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"ae74cd27-2c42-dd54-795e-225314da1678","sourcePort":"Mounted","targetId":"ab7c057a-57f9-924f-9e79-d122547e99b1","targetPort":"mounted"},{"sourceId":"ae74cd27-2c42-dd54-795e-225314da1678","sourcePort":"Text","targetId":"8c3238d0-a87c-de5c-044a-f41d8c79d6b2","targetPort":"text"},{"sourceId":"ae74cd27-2c42-dd54-795e-225314da1678","sourcePort":"Items","targetId":"b0d64b6e-a2a8-fd49-c1c6-4f47ed74f675","targetPort":"items"},{"sourceId":"ae74cd27-2c42-dd54-795e-225314da1678","sourcePort":"Total Count","targetId":"4f3cbbe7-7e5f-186c-8b2c-8e50fc71840f","targetPort":"Total Count"},{"sourceId":"4f3cbbe7-7e5f-186c-8b2c-8e50fc71840f","sourcePort":"Skip","targetId":"1004ef87-8b52-2b94-daa6-01aaf67bcead","targetPort":"Skip"}],"ports":[{"name":"Skip","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":0},{"name":"Mounted","type":"boolean","default":true,"group":"General","plug":"input","index":0},{"name":"Text","type":{"name":"string","multiline":true},"default":"Community labels","group":"Text","plug":"input","index":1},{"name":"Items","type":"array","group":"Data","plug":"input","index":2},{"name":"Total Count","type":"number","default":100,"group":"Inputs","plug":"input","index":3}],"roots":["ab7c057a-57f9-924f-9e79-d122547e99b1"]}]